/*! For license information please see main.f94a8313.js.LICENSE.txt */
!function(){var e={506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},100:function(e,t,n){var r=n(489),i=n(67);function a(t,n,u){return i()?(e.exports=a=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},913:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},842:function(e,t,n){var r=n(754),i=n(67),a=n(585);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var u=r(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},525:function(e,t,n){var r=n(331);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},754:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},205:function(e,t,n){var r=n(489);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},67:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},585:function(e,t,n){var r=n(8).default,i=n(506);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},489:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},331:function(e,t,n){var r=n(754);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},8:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,u){if(u!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=new Set,o={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)u.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,u){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=u}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),E=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),F=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,B=Object.assign;function M(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var j=!1;function U(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),u=i.length-1,o=a.length-1;1<=u&&0<=o&&i[u]!==a[o];)o--;for(;1<=u&&0<=o;u--,o--)if(i[u]!==a[o]){if(1!==u||1!==o)do{if(u--,0>--o||i[u]!==a[o]){var s="\n"+i[u].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=u&&0<=o);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function V(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case E:return"Portal";case _:return"Profiler";case A:return"StrictMode";case I:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case F:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},de=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){de.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var me=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ee=null,xe=null;function Ae(e){if(e=vi(e)){if("function"!==typeof ke)throw Error(a(280));var t=e.stateNode;t&&(t=gi(t),ke(e.stateNode,e.type,t))}}function _e(e){Ee?xe?xe.push(e):xe=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=xe;if(xe=Ee=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Te(e,t){return e(t)}function Se(){}var Ie=!1;function De(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Te(e,t,n)}finally{Ie=!1,(null!==Ee||null!==xe)&&(Se(),Ce())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=gi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Fe=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Fe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(tl){Fe=!1}function Re(e,t,n,r,i,a,u,o,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Pe=!1,Le=null,Be=!1,Me=null,je={onError:function(e){Pe=!0,Le=e}};function Ue(e,t,n,r,i,a,u,o,s){Pe=!1,Le=null,Re.apply(je,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ve(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var u=i.alternate;if(null===u){if(null!==(r=i.return)){n=r;continue}break}if(i.child===u.child){for(u=i.child;u;){if(u===n)return qe(i),e;if(u===r)return qe(i),t;u=u.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=u;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=u;break}if(s===r){o=!0,r=i,n=u;break}s=s.sibling}if(!o){for(s=u.child;s;){if(s===n){o=!0,n=u,r=i;break}if(s===r){o=!0,r=u,n=i;break}s=s.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,$e=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,Ze=i.unstable_UserBlockingPriority,et=i.unstable_NormalPriority,tt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,rt=null,it=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/ot|0)|0},ut=Math.log,ot=Math.LN2;var st=64,ct=4194304;function lt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,u=268435455&n;if(0!==u){var o=u&~i;0!==o?r=lt(o):0!==(a&=u)&&(r=lt(a))}else 0!==(u=n&~i)?r=lt(u):0!==a&&(r=lt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function dt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=st;return 0===(4194240&(st<<=1))&&(st=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,Et,xt,At,_t=!1,Ct=[],Tt=null,St=null,It=null,Dt=new Map,Nt=new Map,Ft=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":St=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Pt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=vi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=pi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void At(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Mt(e,t,n){Bt(e)&&n.delete(t)}function jt(){_t=!1,null!==Tt&&Bt(Tt)&&(Tt=null),null!==St&&Bt(St)&&(St=null),null!==It&&Bt(It)&&(It=null),Dt.forEach(Mt),Nt.forEach(Mt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function Vt(e){function t(t){return Ut(t,e)}if(0<Ct.length){Ut(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ut(Tt,e),null!==St&&Ut(St,e),null!==It&&Ut(It,e),Dt.forEach(t),Nt.forEach(t),n=0;n<Ft.length;n++)(r=Ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ft.length&&null===(n=Ft[0]).blockedOn;)Lt(n),null===n.blockedOn&&Ft.shift()}var zt=w.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=yt,a=zt.transition;zt.transition=null;try{yt=1,Gt(e,t,n,r)}finally{yt=i,zt.transition=a}}function Ht(e,t,n,r){var i=yt,a=zt.transition;zt.transition=null;try{yt=4,Gt(e,t,n,r)}finally{yt=i,zt.transition=a}}function Gt(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)Ur(e,t,r,Kt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Pt(Tt,e,t,n,r,i),!0;case"dragenter":return St=Pt(St,e,t,n,r,i),!0;case"mouseover":return It=Pt(It,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Pt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Nt.set(a,Pt(Nt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=vi(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&Ur(e,t,r,Kt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Ur(e,t,r,null,n)}}var Kt=null;function Qt(e,t,n,r){if(Kt=null,null!==(e=pi(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case Ze:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var $t=null,Xt=null,Jt=null;function Zt(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var u=r-e;for(t=1;t<=u&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,i,a){for(var u in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(u)&&(t=e[u],this[u]=t?t(i):i[u]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var an,un,on,sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=rn(sn),ln=B({},sn,{view:0,detail:0}),fn=rn(ln),hn=B({},ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(an=e.screenX-on.screenX,un=e.screenY-on.screenY):un=an=0,on=e),an)},movementY:function(e){return"movementY"in e?e.movementY:un}}),dn=rn(hn),pn=rn(B({},hn,{dataTransfer:0})),vn=rn(B({},ln,{relatedTarget:0})),mn=rn(B({},sn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=rn(B({},sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),yn=rn(B({},sn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function xn(){return En}var An=rn(B({},ln,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),_n=rn(B({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=rn(B({},ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Tn=rn(B({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Sn=rn(B({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),In=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Nn=null;l&&"documentMode"in document&&(Nn=document.documentMode);var Fn=l&&"TextEvent"in window&&!Nn,On=l&&(!Dn||Nn&&8<Nn&&11>=Nn),Rn=String.fromCharCode(32),Pn=!1;function Ln(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Mn=!1;var jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jn[e.type]:"textarea"===t}function Vn(e,t,n,r){_e(r),0<(t=zr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zn=null,qn=null;function Wn(e){Rr(e,0)}function Hn(e){if(K(mi(e)))return e}function Gn(e,t){if("change"===e)return t}var Kn=!1;if(l){var Qn;if(l){var Yn="oninput"in document;if(!Yn){var $n=document.createElement("div");$n.setAttribute("oninput","return;"),Yn="function"===typeof $n.oninput}Qn=Yn}else Qn=!1;Kn=Qn&&(!document.documentMode||9<document.documentMode)}function Xn(){zn&&(zn.detachEvent("onpropertychange",Jn),qn=zn=null)}function Jn(e){if("value"===e.propertyName&&Hn(qn)){var t=[];Vn(t,qn,e,we(e)),De(Wn,t)}}function Zn(e,t,n){"focusin"===e?(Xn(),qn=n,(zn=t).attachEvent("onpropertychange",Jn)):"focusout"===e&&Xn()}function er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Hn(qn)}function tr(e,t){if("click"===e)return Hn(t)}function nr(e,t){if("input"===e||"change"===e)return Hn(t)}var rr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ir(e,t){if(rr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!rr(e[i],t[i]))return!1}return!0}function ar(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=ar(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ar(r)}}function or(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?or(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function sr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function lr(e){var t=sr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&or(n.ownerDocument.documentElement,n)){if(null!==r&&cr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ur(n,a);var u=ur(n,r);i&&u&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=l&&"documentMode"in document&&11>=document.documentMode,hr=null,dr=null,pr=null,vr=!1;function mr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==hr||hr!==Q(r)||("selectionStart"in(r=hr)&&cr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},pr&&ir(pr,r)||(pr=r,0<(r=zr(dr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}function gr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yr={animationend:gr("Animation","AnimationEnd"),animationiteration:gr("Animation","AnimationIteration"),animationstart:gr("Animation","AnimationStart"),transitionend:gr("Transition","TransitionEnd")},br={},wr={};function kr(e){if(br[e])return br[e];if(!yr[e])return e;var t,n=yr[e];for(t in n)if(n.hasOwnProperty(t)&&t in wr)return br[e]=n[t];return e}l&&(wr=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);var Er=kr("animationend"),xr=kr("animationiteration"),Ar=kr("animationstart"),_r=kr("transitionend"),Cr=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){Cr.set(e,t),s(t,[e])}for(var Ir=0;Ir<Tr.length;Ir++){var Dr=Tr[Ir];Sr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Sr(Er,"onAnimationEnd"),Sr(xr,"onAnimationIteration"),Sr(Ar,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(_r,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,u,o,s,c){if(Ue.apply(this,arguments),Pe){if(!Pe)throw Error(a(198));var l=Le;Pe=!1,Le=null,Be||(Be=!0,Me=l)}}(r,t,void 0,e),e.currentTarget=null}function Rr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var u=r.length-1;0<=u;u--){var o=r[u],s=o.instance,c=o.currentTarget;if(o=o.listener,s!==a&&i.isPropagationStopped())break e;Or(i,o,c),a=s}else for(u=0;u<r.length;u++){if(s=(o=r[u]).instance,c=o.currentTarget,o=o.listener,s!==a&&i.isPropagationStopped())break e;Or(i,o,c),a=s}}}if(Be)throw e=Me,Be=!1,Me=null,e}function Pr(e,t){var n=t[fi];void 0===n&&(n=t[fi]=new Set);var r=e+"__bubble";n.has(r)||(jr(t,e,2,!1),n.add(r))}function Lr(e,t,n){var r=0;t&&(r|=4),jr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Mr(e){if(!e[Br]){e[Br]=!0,u.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||Lr(t,!1,e),Lr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Lr("selectionchange",!1,t))}}function jr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Fe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ur(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var u=r.tag;if(3===u||4===u){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===u)for(u=r.return;null!==u;){var s=u.tag;if((3===s||4===s)&&((s=u.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;u=u.return}for(;null!==o;){if(null===(u=pi(o)))return;if(5===(s=u.tag)||6===s){r=a=u;continue e}o=o.parentNode}}r=r.return}De((function(){var r=a,i=we(n),u=[];e:{var o=Cr.get(e);if(void 0!==o){var s=cn,c=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":s=An;break;case"focusin":c="focus",s=vn;break;case"focusout":c="blur",s=vn;break;case"beforeblur":case"afterblur":s=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Cn;break;case Er:case xr:case Ar:s=mn;break;case _r:s=Tn;break;case"scroll":s=fn;break;case"wheel":s=Sn;break;case"copy":case"cut":case"paste":s=gn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=_n}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==o?o+"Capture":null:o;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ne(p,h))&&l.push(Vr(p,v,d)))),f)break;p=p.return}0<l.length&&(o=new s(o,c,null,n,i),u.push({event:o,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!pi(c)&&!c[li])&&(s||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?pi(c):null)&&(c!==(f=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=dn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=_n,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?o:mi(s),d=null==c?o:mi(c),(o=new l(v,p+"leave",s,n,i)).target=f,o.relatedTarget=d,v=null,pi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=qr(d))p++;for(d=0,v=h;v;v=qr(v))d++;for(;0<p-d;)l=qr(l),p--;for(;0<d-p;)h=qr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=qr(l),h=qr(h)}l=null}else l=null;null!==s&&Wr(u,o,s,l,!1),null!==c&&null!==f&&Wr(u,f,c,l,!0)}if("select"===(s=(o=r?mi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===s&&"file"===o.type)var m=Gn;else if(Un(o))if(Kn)m=nr;else{m=er;var g=Zn}else(s=o.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=tr);switch(m&&(m=m(e,r))?Vn(u,m,n,i):(g&&g(e,o,r),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&ee(o,"number",o.value)),g=r?mi(r):window,e){case"focusin":(Un(g)||"true"===g.contentEditable)&&(hr=g,dr=r,pr=null);break;case"focusout":pr=dr=hr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,mr(u,n,i);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":mr(u,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Mn?Ln(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(On&&"ko"!==n.locale&&(Mn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Mn&&(y=Zt()):(Xt="value"in($t=i)?$t.value:$t.textContent,Mn=!0)),0<(g=zr(r,b)).length&&(b=new yn(b,e,null,n,i),u.push({event:b,listeners:g}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Pn=!0,Rn);case"textInput":return(e=t.data)===Rn&&Pn?null:e;default:return null}}(e,n):function(e,t){if(Mn)return"compositionend"===e||!Dn&&Ln(e,t)?(e=Zt(),Jt=Xt=$t=null,Mn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return On&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=zr(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),u.push({event:i,listeners:r}),i.data=y))}Rr(u,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ne(e,n))&&r.unshift(Vr(e,a,i)),null!=(a=Ne(e,t))&&r.push(Vr(e,a,i))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var a=t._reactName,u=[];null!==n&&n!==r;){var o=n,s=o.alternate,c=o.stateNode;if(null!==s&&s===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(s=Ne(n,a))&&u.unshift(Vr(n,s,o)):i||null!=(s=Ne(n,a))&&u.push(Vr(n,s,o))),n=n.return}0!==u.length&&e.push({event:t,listeners:u})}var Hr=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function Kr(e){return("string"===typeof e?e:""+e).replace(Hr,"\n").replace(Gr,"")}function Qr(e,t,n){if(t=Kr(t),Kr(e)!==t&&n)throw Error(a(425))}function Yr(){}var $r=null,Xr=null;function Jr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zr="function"===typeof setTimeout?setTimeout:void 0,ei="function"===typeof clearTimeout?clearTimeout:void 0,ti="function"===typeof Promise?Promise:void 0,ni="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ti?function(e){return ti.resolve(null).then(e).catch(ri)}:Zr;function ri(e){setTimeout((function(){throw e}))}function ii(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ai(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var oi=Math.random().toString(36).slice(2),si="__reactFiber$"+oi,ci="__reactProps$"+oi,li="__reactContainer$"+oi,fi="__reactEvents$"+oi,hi="__reactListeners$"+oi,di="__reactHandles$"+oi;function pi(e){var t=e[si];if(t)return t;for(var n=e.parentNode;n;){if(t=n[li]||n[si]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[si])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function vi(e){return!(e=e[si]||e[li])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function mi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function gi(e){return e[ci]||null}var yi=[],bi=-1;function wi(e){return{current:e}}function ki(e){0>bi||(e.current=yi[bi],yi[bi]=null,bi--)}function Ei(e,t){bi++,yi[bi]=e.current,e.current=t}var xi={},Ai=wi(xi),_i=wi(!1),Ci=xi;function Ti(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Si(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ii(){ki(_i),ki(Ai)}function Di(e,t,n){if(Ai.current!==xi)throw Error(a(168));Ei(Ai,t),Ei(_i,n)}function Ni(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return B({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Ci=Ai.current,Ei(Ai,e),Ei(_i,_i.current),!0}function Oi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ni(e,t,Ci),r.__reactInternalMemoizedMergedChildContext=e,ki(_i),ki(Ai),Ei(Ai,e)):ki(_i),Ei(_i,n)}var Ri=null,Pi=!1,Li=!1;function Bi(e){null===Ri?Ri=[e]:Ri.push(e)}function Mi(){if(!Li&&null!==Ri){Li=!0;var e=0,t=yt;try{var n=Ri;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ri=null,Pi=!1}catch(i){throw null!==Ri&&(Ri=Ri.slice(e+1)),Ge(Je,Mi),i}finally{yt=t,Li=!1}}return null}var ji=[],Ui=0,Vi=null,zi=0,qi=[],Wi=0,Hi=null,Gi=1,Ki="";function Qi(e,t){ji[Ui++]=zi,ji[Ui++]=Vi,Vi=e,zi=t}function Yi(e,t,n){qi[Wi++]=Gi,qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e;var r=Gi;e=Ki;var i=32-at(r)-1;r&=~(1<<i),n+=1;var a=32-at(t)+i;if(30<a){var u=i-i%5;a=(r&(1<<u)-1).toString(32),r>>=u,i-=u,Gi=1<<32-at(t)+i|n<<i|r,Ki=a+e}else Gi=1<<a|n<<i|r,Ki=e}function $i(e){null!==e.return&&(Qi(e,1),Yi(e,1,0))}function Xi(e){for(;e===Vi;)Vi=ji[--Ui],ji[Ui]=null,zi=ji[--Ui],ji[Ui]=null;for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null,Gi=qi[--Wi],qi[Wi]=null}var Ji=null,Zi=null,ea=!1,ta=null;function na(e,t){var n=Tc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ra(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ji=e,Zi=ai(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ji=e,Zi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Hi?{id:Gi,overflow:Ki}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ji=e,Zi=null,!0);default:return!1}}function ia(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function aa(e){if(ea){var t=Zi;if(t){var n=t;if(!ra(e,t)){if(ia(e))throw Error(a(418));t=ai(n.nextSibling);var r=Ji;t&&ra(e,t)?na(r,n):(e.flags=-4097&e.flags|2,ea=!1,Ji=e)}}else{if(ia(e))throw Error(a(418));e.flags=-4097&e.flags|2,ea=!1,Ji=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ji=e}function oa(e){if(e!==Ji)return!1;if(!ea)return ua(e),ea=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Jr(e.type,e.memoizedProps)),t&&(t=Zi)){if(ia(e))throw sa(),Error(a(418));for(;t;)na(e,t),t=ai(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Zi=ai(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Zi=null}}else Zi=Ji?ai(e.stateNode.nextSibling):null;return!0}function sa(){for(var e=Zi;e;)e=ai(e.nextSibling)}function ca(){Zi=Ji=null,ea=!1}function la(e){null===ta?ta=[e]:ta.push(e)}var fa=w.ReactCurrentBatchConfig;function ha(e,t){if(e&&e.defaultProps){for(var n in t=B({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var da=wi(null),pa=null,va=null,ma=null;function ga(){ma=va=pa=null}function ya(e){var t=da.current;ki(da),e._currentValue=t}function ba(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wa(e,t){pa=e,ma=va=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(mo=!0),e.firstContext=null)}function ka(e){var t=e._currentValue;if(ma!==e)if(e={context:e,memoizedValue:t,next:null},null===va){if(null===pa)throw Error(a(308));va=e,pa.dependencies={lanes:0,firstContext:e}}else va=va.next=e;return t}var Ea=null;function xa(e){null===Ea?Ea=[e]:Ea.push(e)}function Aa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,xa(t)):(n.next=i.next,i.next=n),t.interleaved=n,_a(e,r)}function _a(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ca=!1;function Ta(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&As)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,_a(e,n)}return null===(i=r.interleaved)?(t.next=t,xa(r)):(t.next=i.next,i.next=t),r.interleaved=t,_a(e,n)}function Na(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=u:a=a.next=u,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Oa(e,t,n,r){var i=e.updateQueue;Ca=!1;var a=i.firstBaseUpdate,u=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var s=o,c=s.next;s.next=null,null===u?a=c:u.next=c,u=s;var l=e.alternate;null!==l&&((o=(l=l.updateQueue).lastBaseUpdate)!==u&&(null===o?l.firstBaseUpdate=c:o.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(u=0,l=c=s=null,o=a;;){var h=o.lane,d=o.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=B({},f,h);break e;case 2:Ca=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else d={eventTime:d,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,u|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{u|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=u,e.lanes=u,e.memoizedState=f}}function Ra(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Pa=(new r.Component).refs;function La(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:B({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$s(),i=Xs(e),a=Ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(Js(t,e,i,r),Na(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$s(),i=Xs(e),a=Ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(Js(t,e,i,r),Na(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$s(),r=Xs(e),i=Ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(Js(t,e,r,n),Na(t,e,r))}};function Ma(e,t,n,r,i,a,u){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,u):!t.prototype||!t.prototype.isPureReactComponent||(!ir(n,r)||!ir(i,a))}function ja(e,t,n){var r=!1,i=xi,a=t.contextType;return"object"===typeof a&&null!==a?a=ka(a):(i=Si(t)?Ci:Ai.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ti(e,i):xi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ua(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Va(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Pa,Ta(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ka(a):(a=Si(t)?Ci:Ai.current,i.context=Ti(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(La(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Oa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function za(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,u=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===u?t.ref:(t=function(e){var t=i.refs;t===Pa&&(t=i.refs={}),null===e?delete t[u]:t[u]=e},t._stringRef=u,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wa(e){return(0,e._init)(e._payload)}function Ha(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function u(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Oc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===F&&Wa(a)===t.type)?((r=i(t,n.props)).ref=za(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=za(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Rc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Nc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Oc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=za(e,null,t),n.return=e,n;case E:return(t=Rc(t,e.mode,n)).return=e,t;case F:return h(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Nc(t,e.mode,n,null)).return=e,t;qa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null;case F:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||P(n))return null!==i?null:f(e,t,n,r,null);qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case F:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||P(r))return f(t,e=e.get(n)||null,r,i,null);qa(t,r)}return null}function v(i,a,o,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<o.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,o[v],s);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=u(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===o.length)return n(i,f),ea&&Qi(i,v),c;if(null===f){for(;v<o.length;v++)null!==(f=h(i,o[v],s))&&(a=u(f,a,v),null===l?c=f:l.sibling=f,l=f);return ea&&Qi(i,v),c}for(f=r(i,f);v<o.length;v++)null!==(m=p(f,i,v,o[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=u(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ea&&Qi(i,v),c}function m(i,o,s,c){var l=P(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=o,m=o=0,g=null,y=s.next();null!==v&&!y.done;m++,y=s.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),o=u(b,o,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),ea&&Qi(i,m),l;if(null===v){for(;!y.done;m++,y=s.next())null!==(y=h(i,y.value,c))&&(o=u(y,o,m),null===f?l=y:f.sibling=y,f=y);return ea&&Qi(i,m),l}for(v=r(i,v);!y.done;m++,y=s.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),o=u(y,o,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ea&&Qi(i,m),l}return function e(r,a,u,s){if("object"===typeof u&&null!==u&&u.type===x&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case k:e:{for(var c=u.key,l=a;null!==l;){if(l.key===c){if((c=u.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,u.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===F&&Wa(c)===l.type){n(r,l.sibling),(a=i(l,u.props)).ref=za(r,l,u),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}u.type===x?((a=Nc(u.props.children,r.mode,s,u.key)).return=r,r=a):((s=Dc(u.type,u.key,u.props,null,r.mode,s)).ref=za(r,a,u),s.return=r,r=s)}return o(r);case E:e:{for(l=u.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===u.containerInfo&&a.stateNode.implementation===u.implementation){n(r,a.sibling),(a=i(a,u.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Rc(u,r.mode,s)).return=r,r=a}return o(r);case F:return e(r,a,(l=u._init)(u._payload),s)}if(te(u))return v(r,a,u,s);if(P(u))return m(r,a,u,s);qa(r,u)}return"string"===typeof u&&""!==u||"number"===typeof u?(u=""+u,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,u)).return=r,r=a):(n(r,a),(a=Oc(u,r.mode,s)).return=r,r=a),o(r)):n(r,a)}}var Ga=Ha(!0),Ka=Ha(!1),Qa={},Ya=wi(Qa),$a=wi(Qa),Xa=wi(Qa);function Ja(e){if(e===Qa)throw Error(a(174));return e}function Za(e,t){switch(Ei(Xa,t),Ei($a,e),Ei(Ya,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Ya),Ei(Ya,t)}function eu(){ki(Ya),ki($a),ki(Xa)}function tu(e){Ja(Xa.current);var t=Ja(Ya.current),n=se(t,e.type);t!==n&&(Ei($a,e),Ei(Ya,n))}function nu(e){$a.current===e&&(ki(Ya),ki($a))}var ru=wi(0);function iu(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var au=[];function uu(){for(var e=0;e<au.length;e++)au[e]._workInProgressVersionPrimary=null;au.length=0}var ou=w.ReactCurrentDispatcher,su=w.ReactCurrentBatchConfig,cu=0,lu=null,fu=null,hu=null,du=!1,pu=!1,vu=0,mu=0;function gu(){throw Error(a(321))}function yu(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rr(e[n],t[n]))return!1;return!0}function bu(e,t,n,r,i,u){if(cu=u,lu=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ou.current=null===e||null===e.memoizedState?no:ro,e=n(r,i),pu){u=0;do{if(pu=!1,vu=0,25<=u)throw Error(a(301));u+=1,hu=fu=null,t.updateQueue=null,ou.current=io,e=n(r,i)}while(pu)}if(ou.current=to,t=null!==fu&&null!==fu.next,cu=0,hu=fu=lu=null,du=!1,t)throw Error(a(300));return e}function wu(){var e=0!==vu;return vu=0,e}function ku(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===hu?lu.memoizedState=hu=e:hu=hu.next=e,hu}function Eu(){if(null===fu){var e=lu.alternate;e=null!==e?e.memoizedState:null}else e=fu.next;var t=null===hu?lu.memoizedState:hu.next;if(null!==t)hu=t,fu=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fu=e).memoizedState,baseState:fu.baseState,baseQueue:fu.baseQueue,queue:fu.queue,next:null},null===hu?lu.memoizedState=hu=e:hu=hu.next=e}return hu}function xu(e,t){return"function"===typeof t?t(e):t}function Au(e){var t=Eu(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fu,i=r.baseQueue,u=n.pending;if(null!==u){if(null!==i){var o=i.next;i.next=u.next,u.next=o}r.baseQueue=i=u,n.pending=null}if(null!==i){u=i.next,r=r.baseState;var s=o=null,c=null,l=u;do{var f=l.lane;if((cu&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,o=r):c=c.next=h,lu.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==u);null===c?o=r:c.next=s,rr(r,t.memoizedState)||(mo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{u=i.lane,lu.lanes|=u,Fs|=u,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _u(e){var t=Eu(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,u=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{u=e(u,o.action),o=o.next}while(o!==i);rr(u,t.memoizedState)||(mo=!0),t.memoizedState=u,null===t.baseQueue&&(t.baseState=u),n.lastRenderedState=u}return[u,r]}function Cu(){}function Tu(e,t){var n=lu,r=Eu(),i=t(),u=!rr(r.memoizedState,i);if(u&&(r.memoizedState=i,mo=!0),r=r.queue,ju(Du.bind(null,n,r,e),[e]),r.getSnapshot!==t||u||null!==hu&&1&hu.memoizedState.tag){if(n.flags|=2048,Ru(9,Iu.bind(null,n,r,i,t),void 0,null),null===_s)throw Error(a(349));0!==(30&cu)||Su(n,t,i)}return i}function Su(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=lu.updateQueue)?(t={lastEffect:null,stores:null},lu.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Iu(e,t,n,r){t.value=n,t.getSnapshot=r,Nu(t)&&Fu(e)}function Du(e,t,n){return n((function(){Nu(t)&&Fu(e)}))}function Nu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rr(e,n)}catch(r){return!0}}function Fu(e){var t=_a(e,1);null!==t&&Js(t,e,1,-1)}function Ou(e){var t=ku();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xu,lastRenderedState:e},t.queue=e,e=e.dispatch=Xu.bind(null,lu,e),[t.memoizedState,e]}function Ru(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=lu.updateQueue)?(t={lastEffect:null,stores:null},lu.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Pu(){return Eu().memoizedState}function Lu(e,t,n,r){var i=ku();lu.flags|=e,i.memoizedState=Ru(1|t,n,void 0,void 0===r?null:r)}function Bu(e,t,n,r){var i=Eu();r=void 0===r?null:r;var a=void 0;if(null!==fu){var u=fu.memoizedState;if(a=u.destroy,null!==r&&yu(r,u.deps))return void(i.memoizedState=Ru(t,n,a,r))}lu.flags|=e,i.memoizedState=Ru(1|t,n,a,r)}function Mu(e,t){return Lu(8390656,8,e,t)}function ju(e,t){return Bu(2048,8,e,t)}function Uu(e,t){return Bu(4,2,e,t)}function Vu(e,t){return Bu(4,4,e,t)}function zu(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qu(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bu(4,4,zu.bind(null,t,e),n)}function Wu(){}function Hu(e,t){var n=Eu();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&yu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Gu(e,t){var n=Eu();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&yu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ku(e,t,n){return 0===(21&cu)?(e.baseState&&(e.baseState=!1,mo=!0),e.memoizedState=n):(rr(n,t)||(n=pt(),lu.lanes|=n,Fs|=n,e.baseState=!0),t)}function Qu(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=su.transition;su.transition={};try{e(!1),t()}finally{yt=n,su.transition=r}}function Yu(){return Eu().memoizedState}function $u(e,t,n){var r=Xs(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ju(e))Zu(t,n);else if(null!==(n=Aa(e,t,n,r))){Js(n,e,r,$s()),eo(n,t,r)}}function Xu(e,t,n){var r=Xs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ju(e))Zu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var u=t.lastRenderedState,o=a(u,n);if(i.hasEagerState=!0,i.eagerState=o,rr(o,u)){var s=t.interleaved;return null===s?(i.next=i,xa(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Aa(e,t,i,r))&&(Js(n,e,r,i=$s()),eo(n,t,r))}}function Ju(e){var t=e.alternate;return e===lu||null!==t&&t===lu}function Zu(e,t){pu=du=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var to={readContext:ka,useCallback:gu,useContext:gu,useEffect:gu,useImperativeHandle:gu,useInsertionEffect:gu,useLayoutEffect:gu,useMemo:gu,useReducer:gu,useRef:gu,useState:gu,useDebugValue:gu,useDeferredValue:gu,useTransition:gu,useMutableSource:gu,useSyncExternalStore:gu,useId:gu,unstable_isNewReconciler:!1},no={readContext:ka,useCallback:function(e,t){return ku().memoizedState=[e,void 0===t?null:t],e},useContext:ka,useEffect:Mu,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lu(4194308,4,zu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Lu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lu(4,2,e,t)},useMemo:function(e,t){var n=ku();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ku();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$u.bind(null,lu,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ku().memoizedState=e},useState:Ou,useDebugValue:Wu,useDeferredValue:function(e){return ku().memoizedState=e},useTransition:function(){var e=Ou(!1),t=e[0];return e=Qu.bind(null,e[1]),ku().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lu,i=ku();if(ea){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===_s)throw Error(a(349));0!==(30&cu)||Su(r,t,n)}i.memoizedState=n;var u={value:n,getSnapshot:t};return i.queue=u,Mu(Du.bind(null,r,u,e),[e]),r.flags|=2048,Ru(9,Iu.bind(null,r,u,n,t),void 0,null),n},useId:function(){var e=ku(),t=_s.identifierPrefix;if(ea){var n=Ki;t=":"+t+"R"+(n=(Gi&~(1<<32-at(Gi)-1)).toString(32)+n),0<(n=vu++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=mu++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ro={readContext:ka,useCallback:Hu,useContext:ka,useEffect:ju,useImperativeHandle:qu,useInsertionEffect:Uu,useLayoutEffect:Vu,useMemo:Gu,useReducer:Au,useRef:Pu,useState:function(){return Au(xu)},useDebugValue:Wu,useDeferredValue:function(e){return Ku(Eu(),fu.memoizedState,e)},useTransition:function(){return[Au(xu)[0],Eu().memoizedState]},useMutableSource:Cu,useSyncExternalStore:Tu,useId:Yu,unstable_isNewReconciler:!1},io={readContext:ka,useCallback:Hu,useContext:ka,useEffect:ju,useImperativeHandle:qu,useInsertionEffect:Uu,useLayoutEffect:Vu,useMemo:Gu,useReducer:_u,useRef:Pu,useState:function(){return _u(xu)},useDebugValue:Wu,useDeferredValue:function(e){var t=Eu();return null===fu?t.memoizedState=e:Ku(t,fu.memoizedState,e)},useTransition:function(){return[_u(xu)[0],Eu().memoizedState]},useMutableSource:Cu,useSyncExternalStore:Tu,useId:Yu,unstable_isNewReconciler:!1};function ao(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function oo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var so="function"===typeof WeakMap?WeakMap:Map;function co(e,t,n){(n=Ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Us||(Us=!0,Vs=r),oo(0,t)},n}function lo(e,t,n){(n=Ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){oo(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){oo(0,t),"function"!==typeof r&&(null===zs?zs=new Set([this]):zs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new so;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function ho(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function po(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ia(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vo=w.ReactCurrentOwner,mo=!1;function go(e,t,n,r){t.child=null===e?Ka(t,null,n,r):Ga(t,e.child,n,r)}function yo(e,t,n,r,i){n=n.render;var a=t.ref;return wa(t,i),r=bu(e,t,n,r,a,i),n=wu(),null===e||mo?(ea&&n&&$i(t),t.flags|=1,go(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Uo(e,t,i))}function bo(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Sc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,wo(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var u=a.memoizedProps;if((n=null!==(n=n.compare)?n:ir)(u,r)&&e.ref===t.ref)return Uo(e,t,i)}return t.flags|=1,(e=Ic(a,r)).ref=t.ref,e.return=t,t.child=e}function wo(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ir(a,r)&&e.ref===t.ref){if(mo=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Uo(e,t,i);0!==(131072&e.flags)&&(mo=!0)}}return xo(e,t,n,r,i)}function ko(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Is,Ss),Ss|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Is,Ss),Ss|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Is,Ss),Ss|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Is,Ss),Ss|=r;return go(e,t,i,n),t.child}function Eo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xo(e,t,n,r,i){var a=Si(n)?Ci:Ai.current;return a=Ti(t,a),wa(t,i),n=bu(e,t,n,r,a,i),r=wu(),null===e||mo?(ea&&r&&$i(t),t.flags|=1,go(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Uo(e,t,i))}function Ao(e,t,n,r,i){if(Si(n)){var a=!0;Fi(t)}else a=!1;if(wa(t,i),null===t.stateNode)jo(e,t),ja(t,n,r),Va(t,n,r,i),r=!0;else if(null===e){var u=t.stateNode,o=t.memoizedProps;u.props=o;var s=u.context,c=n.contextType;"object"===typeof c&&null!==c?c=ka(c):c=Ti(t,c=Si(n)?Ci:Ai.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof u.getSnapshotBeforeUpdate;f||"function"!==typeof u.UNSAFE_componentWillReceiveProps&&"function"!==typeof u.componentWillReceiveProps||(o!==r||s!==c)&&Ua(t,u,r,c),Ca=!1;var h=t.memoizedState;u.state=h,Oa(t,r,u,i),s=t.memoizedState,o!==r||h!==s||_i.current||Ca?("function"===typeof l&&(La(t,n,l,r),s=t.memoizedState),(o=Ca||Ma(t,n,o,r,h,s,c))?(f||"function"!==typeof u.UNSAFE_componentWillMount&&"function"!==typeof u.componentWillMount||("function"===typeof u.componentWillMount&&u.componentWillMount(),"function"===typeof u.UNSAFE_componentWillMount&&u.UNSAFE_componentWillMount()),"function"===typeof u.componentDidMount&&(t.flags|=4194308)):("function"===typeof u.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),u.props=r,u.state=s,u.context=c,r=o):("function"===typeof u.componentDidMount&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,Sa(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ha(t.type,o),u.props=c,f=t.pendingProps,h=u.context,"object"===typeof(s=n.contextType)&&null!==s?s=ka(s):s=Ti(t,s=Si(n)?Ci:Ai.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof u.getSnapshotBeforeUpdate)||"function"!==typeof u.UNSAFE_componentWillReceiveProps&&"function"!==typeof u.componentWillReceiveProps||(o!==f||h!==s)&&Ua(t,u,r,s),Ca=!1,h=t.memoizedState,u.state=h,Oa(t,r,u,i);var p=t.memoizedState;o!==f||h!==p||_i.current||Ca?("function"===typeof d&&(La(t,n,d,r),p=t.memoizedState),(c=Ca||Ma(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof u.UNSAFE_componentWillUpdate&&"function"!==typeof u.componentWillUpdate||("function"===typeof u.componentWillUpdate&&u.componentWillUpdate(r,p,s),"function"===typeof u.UNSAFE_componentWillUpdate&&u.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof u.componentDidUpdate&&(t.flags|=4),"function"===typeof u.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof u.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof u.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),u.props=r,u.state=p,u.context=s,r=c):("function"!==typeof u.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof u.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return _o(e,t,n,r,a,i)}function _o(e,t,n,r,i,a){Eo(e,t);var u=0!==(128&t.flags);if(!r&&!u)return i&&Oi(t,n,!1),Uo(e,t,a);r=t.stateNode,vo.current=t;var o=u&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&u?(t.child=Ga(t,e.child,null,a),t.child=Ga(t,null,o,a)):go(e,t,o,a),t.memoizedState=r.state,i&&Oi(t,n,!0),t.child}function Co(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Za(e,t.containerInfo)}function To(e,t,n,r,i){return ca(),la(i),t.flags|=256,go(e,t,n,r),t.child}var So,Io,Do,No={dehydrated:null,treeContext:null,retryLane:0};function Fo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Oo(e,t,n){var r,i=t.pendingProps,u=ru.current,o=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&u)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(u|=1),Ei(ru,1&u),null===e)return aa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,o?(i=t.mode,o=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=s):o=Fc(s,i,0,null),e=Nc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Fo(n),t.memoizedState=No,e):Ro(t,s));if(null!==(u=e.memoizedState)&&null!==(r=u.dehydrated))return function(e,t,n,r,i,u,o){if(n)return 256&t.flags?(t.flags&=-257,Po(e,t,o,r=uo(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(u=Nc(u,i,o,null)).flags|=2,r.return=t,u.return=t,r.sibling=u,t.child=r,0!==(1&t.mode)&&Ga(t,e.child,null,o),t.child.memoizedState=Fo(o),t.memoizedState=No,u);if(0===(1&t.mode))return Po(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Po(e,t,o,r=uo(u=Error(a(419)),r,void 0))}if(s=0!==(o&e.childLanes),mo||s){if(null!==(r=_s)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==u.retryLane&&(u.retryLane=i,_a(e,i),Js(r,e,i,-1))}return fc(),Po(e,t,o,r=uo(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xc.bind(null,e),i._reactRetry=t,null):(e=u.treeContext,Zi=ai(i.nextSibling),Ji=t,ea=!0,ta=null,null!==e&&(qi[Wi++]=Gi,qi[Wi++]=Ki,qi[Wi++]=Hi,Gi=e.id,Ki=e.overflow,Hi=t),(t=Ro(t,r.children)).flags|=4096,t)}(e,t,s,i,r,u,n);if(o){o=i.fallback,s=t.mode,r=(u=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==u?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Ic(u,c)).subtreeFlags=14680064&u.subtreeFlags,null!==r?o=Ic(r,o):(o=Nc(o,s,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,s=null===(s=e.child.memoizedState)?Fo(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=No,i}return e=(o=e.child).sibling,i=Ic(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ro(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Po(e,t,n,r){return null!==r&&la(r),Ga(t,e.child,null,n),(e=Ro(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Lo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ba(e.return,t,n)}function Bo(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Mo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(go(e,t,r.children,n),0!==(2&(r=ru.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Lo(e,n,t);else if(19===e.tag)Lo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(ru,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===iu(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===iu(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bo(t,!0,n,null,a);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Uo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ic(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ic(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vo(e,t){if(!ea)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function zo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qo(e,t,n){var r=t.pendingProps;switch(Xi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zo(t),null;case 1:case 17:return Si(t.type)&&Ii(),zo(t),null;case 3:return r=t.stateNode,eu(),ki(_i),ki(Ai),uu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(oa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ta&&(nc(ta),ta=null))),zo(t),null;case 5:nu(t);var i=Ja(Xa.current);if(n=t.type,null!==e&&null!=t.stateNode)Io(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return zo(t),null}if(e=Ja(Ya.current),oa(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[si]=t,r[ci]=u,e=0!==(1&t.mode),n){case"dialog":Pr("cancel",r),Pr("close",r);break;case"iframe":case"object":case"embed":Pr("load",r);break;case"video":case"audio":for(i=0;i<Nr.length;i++)Pr(Nr[i],r);break;case"source":Pr("error",r);break;case"img":case"image":case"link":Pr("error",r),Pr("load",r);break;case"details":Pr("toggle",r);break;case"input":$(r,u),Pr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Pr("invalid",r);break;case"textarea":ie(r,u),Pr("invalid",r)}for(var s in ge(n,u),i=null,u)if(u.hasOwnProperty(s)){var c=u[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==u.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==u.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Pr("scroll",r)}switch(n){case"input":G(r),Z(r,u,!0);break;case"textarea":G(r),ue(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Yr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[si]=t,e[ci]=r,So(e,t),t.stateNode=e;e:{switch(s=ye(n,r),n){case"dialog":Pr("cancel",e),Pr("close",e),i=r;break;case"iframe":case"object":case"embed":Pr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Nr.length;i++)Pr(Nr[i],e);i=r;break;case"source":Pr("error",e),i=r;break;case"img":case"image":case"link":Pr("error",e),Pr("load",e),i=r;break;case"details":Pr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Pr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=B({},r,{value:void 0}),Pr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Pr("invalid",e)}for(u in ge(n,i),c=i)if(c.hasOwnProperty(u)){var l=c[u];"style"===u?ve(e,l):"dangerouslySetInnerHTML"===u?null!=(l=l?l.__html:void 0)&&le(e,l):"children"===u?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?null!=l&&"onScroll"===u&&Pr("scroll",e):null!=l&&b(e,u,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?ne(e,!!r.multiple,u,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Yr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return zo(t),null;case 6:if(e&&null!=t.stateNode)Do(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ja(Xa.current),Ja(Ya.current),oa(t)){if(r=t.stateNode,n=t.memoizedProps,r[si]=t,(u=r.nodeValue!==n)&&null!==(e=Ji))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}u&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[si]=t,t.stateNode=r}return zo(t),null;case 13:if(ki(ru),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ea&&null!==Zi&&0!==(1&t.mode)&&0===(128&t.flags))sa(),ca(),t.flags|=98560,u=!1;else if(u=oa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!u)throw Error(a(318));if(!(u=null!==(u=t.memoizedState)?u.dehydrated:null))throw Error(a(317));u[si]=t}else ca(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;zo(t),u=!1}else null!==ta&&(nc(ta),ta=null),u=!0;if(!u)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ru.current)?0===Ds&&(Ds=3):fc())),null!==t.updateQueue&&(t.flags|=4),zo(t),null);case 4:return eu(),null===e&&Mr(t.stateNode.containerInfo),zo(t),null;case 10:return ya(t.type._context),zo(t),null;case 19:if(ki(ru),null===(u=t.memoizedState))return zo(t),null;if(r=0!==(128&t.flags),null===(s=u.rendering))if(r)Vo(u,!1);else{if(0!==Ds||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=iu(e))){for(t.flags|=128,Vo(u,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=14680066,null===(s=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,u.type=s.type,e=s.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(ru,1&ru.current|2),t.child}e=e.sibling}null!==u.tail&&$e()>Ms&&(t.flags|=128,r=!0,Vo(u,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=iu(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vo(u,!0),null===u.tail&&"hidden"===u.tailMode&&!s.alternate&&!ea)return zo(t),null}else 2*$e()-u.renderingStartTime>Ms&&1073741824!==n&&(t.flags|=128,r=!0,Vo(u,!1),t.lanes=4194304);u.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=u.last)?n.sibling=s:t.child=s,u.last=s)}return null!==u.tail?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=$e(),t.sibling=null,n=ru.current,Ei(ru,r?1&n|2:1&n),t):(zo(t),null);case 22:case 23:return oc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ss)&&(zo(t),6&t.subtreeFlags&&(t.flags|=8192)):zo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Wo(e,t){switch(Xi(t),t.tag){case 1:return Si(t.type)&&Ii(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eu(),ki(_i),ki(Ai),uu(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return nu(t),null;case 13:if(ki(ru),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ca()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ru),null;case 4:return eu(),null;case 10:return ya(t.type._context),null;case 22:case 23:return oc(),null;default:return null}}So=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Io=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ja(Ya.current);var a,u=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),u=[];break;case"select":i=B({},i,{value:void 0}),r=B({},r,{value:void 0}),u=[];break;case"textarea":i=re(e,i),r=re(e,r),u=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Yr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(o.hasOwnProperty(l)?u||(u=[]):(u=u||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(u||(u=[]),u.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(u=u||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(u=u||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(o.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Pr("scroll",e),u||s===c||(u=[])):(u=u||[]).push(l,c))}n&&(u=u||[]).push("style",n);var l=u;(t.updateQueue=l)&&(t.flags|=4)}},Do=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ho=!1,Go=!1,Ko="function"===typeof WeakSet?WeakSet:Set,Qo=null;function Yo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){wc(e,t,r)}else n.current=null}function $o(e,t,n){try{n()}catch(r){wc(e,t,r)}}var Xo=!1;function Jo(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&$o(t,n,a)}i=i.next}while(i!==r)}}function Zo(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function es(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ts(e){var t=e.alternate;null!==t&&(e.alternate=null,ts(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[si],delete t[ci],delete t[fi],delete t[hi],delete t[di])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ns(e){return 5===e.tag||3===e.tag||4===e.tag}function rs(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ns(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function is(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Yr));else if(4!==r&&null!==(e=e.child))for(is(e,t,n),e=e.sibling;null!==e;)is(e,t,n),e=e.sibling}function as(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(as(e,t,n),e=e.sibling;null!==e;)as(e,t,n),e=e.sibling}var us=null,os=!1;function ss(e,t,n){for(n=n.child;null!==n;)cs(e,t,n),n=n.sibling}function cs(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(o){}switch(n.tag){case 5:Go||Yo(n,t);case 6:var r=us,i=os;us=null,ss(e,t,n),os=i,null!==(us=r)&&(os?(e=us,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):us.removeChild(n.stateNode));break;case 18:null!==us&&(os?(e=us,n=n.stateNode,8===e.nodeType?ii(e.parentNode,n):1===e.nodeType&&ii(e,n),Vt(e)):ii(us,n.stateNode));break;case 4:r=us,i=os,us=n.stateNode.containerInfo,os=!0,ss(e,t,n),us=r,os=i;break;case 0:case 11:case 14:case 15:if(!Go&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,u=a.destroy;a=a.tag,void 0!==u&&(0!==(2&a)||0!==(4&a))&&$o(n,t,u),i=i.next}while(i!==r)}ss(e,t,n);break;case 1:if(!Go&&(Yo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){wc(n,t,o)}ss(e,t,n);break;case 21:ss(e,t,n);break;case 22:1&n.mode?(Go=(r=Go)||null!==n.memoizedState,ss(e,t,n),Go=r):ss(e,t,n);break;default:ss(e,t,n)}}function ls(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ko),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function fs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var u=e,o=t,s=o;e:for(;null!==s;){switch(s.tag){case 5:us=s.stateNode,os=!1;break e;case 3:case 4:us=s.stateNode.containerInfo,os=!0;break e}s=s.return}if(null===us)throw Error(a(160));cs(u,o,i),us=null,os=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){wc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)hs(t,e),t=t.sibling}function hs(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fs(t,e),ds(e),4&r){try{Jo(3,e,e.return),Zo(3,e)}catch(m){wc(e,e.return,m)}try{Jo(5,e,e.return)}catch(m){wc(e,e.return,m)}}break;case 1:fs(t,e),ds(e),512&r&&null!==n&&Yo(n,n.return);break;case 5:if(fs(t,e),ds(e),512&r&&null!==n&&Yo(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){wc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var u=e.memoizedProps,o=null!==n?n.memoizedProps:u,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===u.type&&null!=u.name&&X(i,u),ye(s,o);var l=ye(s,u);for(o=0;o<c.length;o+=2){var f=c[o],h=c[o+1];"style"===f?ve(i,h):"dangerouslySetInnerHTML"===f?le(i,h):"children"===f?fe(i,h):b(i,f,h,l)}switch(s){case"input":J(i,u);break;case"textarea":ae(i,u);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!u.multiple;var p=u.value;null!=p?ne(i,!!u.multiple,p,!1):d!==!!u.multiple&&(null!=u.defaultValue?ne(i,!!u.multiple,u.defaultValue,!0):ne(i,!!u.multiple,u.multiple?[]:"",!1))}i[ci]=u}catch(m){wc(e,e.return,m)}}break;case 6:if(fs(t,e),ds(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,u=e.memoizedProps;try{i.nodeValue=u}catch(m){wc(e,e.return,m)}}break;case 3:if(fs(t,e),ds(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(m){wc(e,e.return,m)}break;case 4:default:fs(t,e),ds(e);break;case 13:fs(t,e),ds(e),8192&(i=e.child).flags&&(u=null!==i.memoizedState,i.stateNode.isHidden=u,!u||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=$e())),4&r&&ls(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Go=(l=Go)||f,fs(t,e),Go=l):fs(t,e),ds(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Qo=e,f=e.child;null!==f;){for(h=Qo=f;null!==Qo;){switch(p=(d=Qo).child,d.tag){case 0:case 11:case 14:case 15:Jo(4,d,d.return);break;case 1:Yo(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){wc(r,n,m)}}break;case 5:Yo(d,d.return);break;case 22:if(null!==d.memoizedState){gs(h);continue}}null!==p?(p.return=d,Qo=p):gs(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(u=i.style).setProperty?u.setProperty("display","none","important"):u.display="none":(s=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=pe("display",o))}catch(m){wc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){wc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fs(t,e),ds(e),4&r&&ls(e);case 21:}}function ds(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ns(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),as(e,rs(e),i);break;case 3:case 4:var u=r.stateNode.containerInfo;is(e,rs(e),u);break;default:throw Error(a(161))}}catch(o){wc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ps(e,t,n){Qo=e,vs(e,t,n)}function vs(e,t,n){for(var r=0!==(1&e.mode);null!==Qo;){var i=Qo,a=i.child;if(22===i.tag&&r){var u=null!==i.memoizedState||Ho;if(!u){var o=i.alternate,s=null!==o&&null!==o.memoizedState||Go;o=Ho;var c=Go;if(Ho=u,(Go=s)&&!c)for(Qo=i;null!==Qo;)s=(u=Qo).child,22===u.tag&&null!==u.memoizedState?ys(i):null!==s?(s.return=u,Qo=s):ys(i);for(;null!==a;)Qo=a,vs(a,t,n),a=a.sibling;Qo=i,Ho=o,Go=c}ms(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Qo=a):ms(e)}}function ms(e){for(;null!==Qo;){var t=Qo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Go||Zo(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Go)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ha(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;null!==u&&Ra(t,u,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ra(t,o,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(a(163))}Go||512&t.flags&&es(t)}catch(d){wc(t,t.return,d)}}if(t===e){Qo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qo=n;break}Qo=t.return}}function gs(e){for(;null!==Qo;){var t=Qo;if(t===e){Qo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qo=n;break}Qo=t.return}}function ys(e){for(;null!==Qo;){var t=Qo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Zo(4,t)}catch(s){wc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){wc(t,i,s)}}var a=t.return;try{es(t)}catch(s){wc(t,a,s)}break;case 5:var u=t.return;try{es(t)}catch(s){wc(t,u,s)}}}catch(s){wc(t,t.return,s)}if(t===e){Qo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Qo=o;break}Qo=t.return}}var bs,ws=Math.ceil,ks=w.ReactCurrentDispatcher,Es=w.ReactCurrentOwner,xs=w.ReactCurrentBatchConfig,As=0,_s=null,Cs=null,Ts=0,Ss=0,Is=wi(0),Ds=0,Ns=null,Fs=0,Os=0,Rs=0,Ps=null,Ls=null,Bs=0,Ms=1/0,js=null,Us=!1,Vs=null,zs=null,qs=!1,Ws=null,Hs=0,Gs=0,Ks=null,Qs=-1,Ys=0;function $s(){return 0!==(6&As)?$e():-1!==Qs?Qs:Qs=$e()}function Xs(e){return 0===(1&e.mode)?1:0!==(2&As)&&0!==Ts?Ts&-Ts:null!==fa.transition?(0===Ys&&(Ys=pt()),Ys):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function Js(e,t,n,r){if(50<Gs)throw Gs=0,Ks=null,Error(a(185));mt(e,n,r),0!==(2&As)&&e===_s||(e===_s&&(0===(2&As)&&(Os|=n),4===Ds&&rc(e,Ts)),Zs(e,r),1===n&&0===As&&0===(1&t.mode)&&(Ms=$e()+500,Pi&&Mi()))}function Zs(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-at(a),o=1<<u,s=i[u];-1===s?0!==(o&n)&&0===(o&r)||(i[u]=ht(o,t)):s<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=ft(e,e===_s?Ts:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Pi=!0,Bi(e)}(ic.bind(null,e)):Bi(ic.bind(null,e)),ni((function(){0===(6&As)&&Mi()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=Ze;break;case 16:default:n=et;break;case 536870912:n=nt}n=_c(n,ec.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ec(e,t){if(Qs=-1,Ys=0,0!==(6&As))throw Error(a(327));var n=e.callbackNode;if(yc()&&e.callbackNode!==n)return null;var r=ft(e,e===_s?Ts:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=hc(e,r);else{t=r;var i=As;As|=2;var u=lc();for(_s===e&&Ts===t||(js=null,Ms=$e()+500,sc(e,t));;)try{pc();break}catch(s){cc(e,s)}ga(),ks.current=u,As=i,null!==Cs?t=0:(_s=null,Ts=0,t=Ds)}if(0!==t){if(2===t&&(0!==(i=dt(e))&&(r=i,t=tc(e,i))),1===t)throw n=Ns,sc(e,0),rc(e,r),Zs(e,$e()),n;if(6===t)rc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!rr(a(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=hc(e,r))&&(0!==(u=dt(e))&&(r=u,t=tc(e,u))),1===t))throw n=Ns,sc(e,0),rc(e,r),Zs(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:gc(e,Ls,js);break;case 3:if(rc(e,r),(130023424&r)===r&&10<(t=Bs+500-$e())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){$s(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Zr(gc.bind(null,e,Ls,js),t);break}gc(e,Ls,js);break;case 4:if(rc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);u=1<<o,(o=t[o])>i&&(i=o),r&=~u}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ws(r/1960))-r)){e.timeoutHandle=Zr(gc.bind(null,e,Ls,js),r);break}gc(e,Ls,js);break;default:throw Error(a(329))}}}return Zs(e,$e()),e.callbackNode===n?ec.bind(null,e):null}function tc(e,t){var n=Ps;return e.current.memoizedState.isDehydrated&&(sc(e,t).flags|=256),2!==(e=hc(e,t))&&(t=Ls,Ls=n,null!==t&&nc(t)),e}function nc(e){null===Ls?Ls=e:Ls.push.apply(Ls,e)}function rc(e,t){for(t&=~Rs,t&=~Os,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function ic(e){if(0!==(6&As))throw Error(a(327));yc();var t=ft(e,0);if(0===(1&t))return Zs(e,$e()),null;var n=hc(e,t);if(0!==e.tag&&2===n){var r=dt(e);0!==r&&(t=r,n=tc(e,r))}if(1===n)throw n=Ns,sc(e,0),rc(e,t),Zs(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gc(e,Ls,js),Zs(e,$e()),null}function ac(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(Ms=$e()+500,Pi&&Mi())}}function uc(e){null!==Ws&&0===Ws.tag&&0===(6&As)&&yc();var t=As;As|=1;var n=xs.transition,r=yt;try{if(xs.transition=null,yt=1,e)return e()}finally{yt=r,xs.transition=n,0===(6&(As=t))&&Mi()}}function oc(){Ss=Is.current,ki(Is)}function sc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ei(n)),null!==Cs)for(n=Cs.return;null!==n;){var r=n;switch(Xi(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ii();break;case 3:eu(),ki(_i),ki(Ai),uu();break;case 5:nu(r);break;case 4:eu();break;case 13:case 19:ki(ru);break;case 10:ya(r.type._context);break;case 22:case 23:oc()}n=n.return}if(_s=e,Cs=e=Ic(e.current,null),Ts=Ss=t,Ds=0,Ns=null,Rs=Os=Fs=0,Ls=Ps=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var u=a.next;a.next=i,r.next=u}n.pending=r}Ea=null}return e}function cc(e,t){for(;;){var n=Cs;try{if(ga(),ou.current=to,du){for(var r=lu.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}du=!1}if(cu=0,hu=fu=lu=null,pu=!1,vu=0,Es.current=null,null===n||null===n.return){Ds=1,Ns=t,Cs=null;break}e:{var u=e,o=n.return,s=n,c=t;if(t=Ts,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ho(o);if(null!==p){p.flags&=-257,po(p,o,s,0,t),1&p.mode&&fo(u,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){fo(u,l,t),fc();break e}c=Error(a(426))}else if(ea&&1&s.mode){var g=ho(o);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),po(g,o,s,0,t),la(ao(c,s));break e}}u=c=ao(c,s),4!==Ds&&(Ds=2),null===Ps?Ps=[u]:Ps.push(u),u=o;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,Fa(u,co(0,c,t));break e;case 1:s=c;var y=u.type,b=u.stateNode;if(0===(128&u.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===zs||!zs.has(b)))){u.flags|=65536,t&=-t,u.lanes|=t,Fa(u,lo(u,s,t));break e}}u=u.return}while(null!==u)}mc(n)}catch(w){t=w,Cs===n&&null!==n&&(Cs=n=n.return);continue}break}}function lc(){var e=ks.current;return ks.current=to,null===e?to:e}function fc(){0!==Ds&&3!==Ds&&2!==Ds||(Ds=4),null===_s||0===(268435455&Fs)&&0===(268435455&Os)||rc(_s,Ts)}function hc(e,t){var n=As;As|=2;var r=lc();for(_s===e&&Ts===t||(js=null,sc(e,t));;)try{dc();break}catch(i){cc(e,i)}if(ga(),As=n,ks.current=r,null!==Cs)throw Error(a(261));return _s=null,Ts=0,Ds}function dc(){for(;null!==Cs;)vc(Cs)}function pc(){for(;null!==Cs&&!Qe();)vc(Cs)}function vc(e){var t=bs(e.alternate,e,Ss);e.memoizedProps=e.pendingProps,null===t?mc(e):Cs=t,Es.current=null}function mc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qo(n,t,Ss)))return void(Cs=n)}else{if(null!==(n=Wo(n,t)))return n.flags&=32767,void(Cs=n);if(null===e)return Ds=6,void(Cs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Cs=t);Cs=t=e}while(null!==t);0===Ds&&(Ds=5)}function gc(e,t,n){var r=yt,i=xs.transition;try{xs.transition=null,yt=1,function(e,t,n,r){do{yc()}while(null!==Ws);if(0!==(6&As))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var u=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,u),e===_s&&(Cs=_s=null,Ts=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||qs||(qs=!0,_c(et,(function(){return yc(),null}))),u=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||u){u=xs.transition,xs.transition=null;var o=yt;yt=1;var s=As;As|=4,Es.current=null,function(e,t){if($r=qt,cr(e=sr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{n.nodeType,u.nodeType}catch(k){n=null;break e}var o=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=o+i),h!==u||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=o),d===u&&++f===r&&(c=o),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xr={focusedElem:e,selectionRange:n},qt=!1,Qo=t;null!==Qo;)if(e=(t=Qo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qo=e;else for(;null!==Qo;){t=Qo;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ha(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(k){wc(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Qo=e;break}Qo=t.return}v=Xo,Xo=!1}(e,n),hs(n,e),lr(Xr),qt=!!$r,Xr=$r=null,e.current=n,ps(n,e,i),Ye(),As=s,yt=o,xs.transition=u}else e.current=n;if(qs&&(qs=!1,Ws=e,Hs=i),0===(u=e.pendingLanes)&&(zs=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),Zs(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Us)throw Us=!1,e=Vs,Vs=null,e;0!==(1&Hs)&&0!==e.tag&&yc(),0!==(1&(u=e.pendingLanes))?e===Ks?Gs++:(Gs=0,Ks=e):Gs=0,Mi()}(e,t,n,r)}finally{xs.transition=i,yt=r}return null}function yc(){if(null!==Ws){var e=bt(Hs),t=xs.transition,n=yt;try{if(xs.transition=null,yt=16>e?16:e,null===Ws)var r=!1;else{if(e=Ws,Ws=null,Hs=0,0!==(6&As))throw Error(a(331));var i=As;for(As|=4,Qo=e.current;null!==Qo;){var u=Qo,o=u.child;if(0!==(16&Qo.flags)){var s=u.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Qo=l;null!==Qo;){var f=Qo;switch(f.tag){case 0:case 11:case 15:Jo(8,f,u)}var h=f.child;if(null!==h)h.return=f,Qo=h;else for(;null!==Qo;){var d=(f=Qo).sibling,p=f.return;if(ts(f),f===l){Qo=null;break}if(null!==d){d.return=p,Qo=d;break}Qo=p}}}var v=u.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Qo=u}}if(0!==(2064&u.subtreeFlags)&&null!==o)o.return=u,Qo=o;else e:for(;null!==Qo;){if(0!==(2048&(u=Qo).flags))switch(u.tag){case 0:case 11:case 15:Jo(9,u,u.return)}var y=u.sibling;if(null!==y){y.return=u.return,Qo=y;break e}Qo=u.return}}var b=e.current;for(Qo=b;null!==Qo;){var w=(o=Qo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Qo=w;else e:for(o=b;null!==Qo;){if(0!==(2048&(s=Qo).flags))try{switch(s.tag){case 0:case 11:case 15:Zo(9,s)}}catch(E){wc(s,s.return,E)}if(s===o){Qo=null;break e}var k=s.sibling;if(null!==k){k.return=s.return,Qo=k;break e}Qo=s.return}}if(As=i,Mi(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(E){}r=!0}return r}finally{yt=n,xs.transition=t}}return!1}function bc(e,t,n){e=Da(e,t=co(0,t=ao(n,t),1),1),t=$s(),null!==e&&(mt(e,1,t),Zs(e,t))}function wc(e,t,n){if(3===e.tag)bc(e,e,n);else for(;null!==t;){if(3===t.tag){bc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===zs||!zs.has(r))){t=Da(t,e=lo(t,e=ao(n,e),1),1),e=$s(),null!==t&&(mt(t,1,e),Zs(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=$s(),e.pingedLanes|=e.suspendedLanes&n,_s===e&&(Ts&n)===n&&(4===Ds||3===Ds&&(130023424&Ts)===Ts&&500>$e()-Bs?sc(e,0):Rs|=n),Zs(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=$s();null!==(e=_a(e,t))&&(mt(e,t,n),Zs(e,n))}function xc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function _c(e,t){return Ge(e,t)}function Cc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,n,r){return new Cc(e,t,n,r)}function Sc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var n=e.alternate;return null===n?((n=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,u){var o=2;if(r=e,"function"===typeof e)Sc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case x:return Nc(n.children,i,u,t);case A:o=8,i|=8;break;case _:return(e=Tc(12,n,t,2|i)).elementType=_,e.lanes=u,e;case I:return(e=Tc(13,n,t,i)).elementType=I,e.lanes=u,e;case D:return(e=Tc(19,n,t,i)).elementType=D,e.lanes=u,e;case O:return Fc(n,i,u,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case T:o=9;break e;case S:o=11;break e;case N:o=14;break e;case F:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Tc(o,n,t,i)).elementType=e,t.type=r,t.lanes=u,t}function Nc(e,t,n,r){return(e=Tc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Tc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Oc(e,t,n){return(e=Tc(6,e,null,t)).lanes=n,e}function Rc(e,t,n){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lc(e,t,n,r,i,a,u,o,s){return e=new Pc(e,t,n,o,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Tc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ta(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Mc(e){if(!e)return xi;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Si(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Si(n))return Ni(e,n,t)}return t}function jc(e,t,n,r,i,a,u,o,s){return(e=Lc(n,r,!0,e,0,a,0,o,s)).context=Mc(null),n=e.current,(a=Ia(r=$s(),i=Xs(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,mt(e,i,r),Zs(e,r),e}function Uc(e,t,n,r){var i=t.current,a=$s(),u=Xs(i);return n=Mc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ia(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,u))&&(Js(e,i,u,a),Na(e,i,u)),u}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function zc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){zc(e,t),(e=e.alternate)&&zc(e,t)}bs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_i.current)mo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return mo=!1,function(e,t,n){switch(t.tag){case 3:Co(t),ca();break;case 5:tu(t);break;case 1:Si(t.type)&&Fi(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(da,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(ru,1&ru.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Oo(e,t,n):(Ei(ru,1&ru.current),null!==(e=Uo(e,t,n))?e.sibling:null);Ei(ru,1&ru.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Mo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(ru,ru.current),r)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return Uo(e,t,n)}(e,t,n);mo=0!==(131072&e.flags)}else mo=!1,ea&&0!==(1048576&t.flags)&&Yi(t,zi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;jo(e,t),e=t.pendingProps;var i=Ti(t,Ai.current);wa(t,n),i=bu(null,t,r,e,i,n);var u=wu();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Si(r)?(u=!0,Fi(t)):u=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ta(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Va(t,r,e,n),t=_o(null,t,r,!0,u,n)):(t.tag=0,ea&&u&&$i(t),go(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(jo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Sc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===S)return 11;if(e===N)return 14}return 2}(r),e=ha(r,e),i){case 0:t=xo(null,t,r,e,n);break e;case 1:t=Ao(null,t,r,e,n);break e;case 11:t=yo(null,t,r,e,n);break e;case 14:t=bo(null,t,r,ha(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xo(e,t,r,i=t.elementType===r?i:ha(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ao(e,t,r,i=t.elementType===r?i:ha(r,i),n);case 3:e:{if(Co(t),null===e)throw Error(a(387));r=t.pendingProps,i=(u=t.memoizedState).element,Sa(e,t),Oa(t,r,null,n);var o=t.memoizedState;if(r=o.element,u.isDehydrated){if(u={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=u,t.memoizedState=u,256&t.flags){t=To(e,t,r,n,i=ao(Error(a(423)),t));break e}if(r!==i){t=To(e,t,r,n,i=ao(Error(a(424)),t));break e}for(Zi=ai(t.stateNode.containerInfo.firstChild),Ji=t,ea=!0,ta=null,n=Ka(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ca(),r===i){t=Uo(e,t,n);break e}go(e,t,r,n)}t=t.child}return t;case 5:return tu(t),null===e&&aa(t),r=t.type,i=t.pendingProps,u=null!==e?e.memoizedProps:null,o=i.children,Jr(r,i)?o=null:null!==u&&Jr(r,u)&&(t.flags|=32),Eo(e,t),go(e,t,o,n),t.child;case 6:return null===e&&aa(t),null;case 13:return Oo(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ga(t,null,r,n):go(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,yo(e,t,r,i=t.elementType===r?i:ha(r,i),n);case 7:return go(e,t,t.pendingProps,n),t.child;case 8:case 12:return go(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,u=t.memoizedProps,o=i.value,Ei(da,r._currentValue),r._currentValue=o,null!==u)if(rr(u.value,o)){if(u.children===i.children&&!_i.current){t=Uo(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var s=u.dependencies;if(null!==s){o=u.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===u.tag){(c=Ia(-1,n&-n)).tag=2;var l=u.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),ba(u.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===u.tag)o=u.type===t.type?null:u.child;else if(18===u.tag){if(null===(o=u.return))throw Error(a(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),ba(o,n,t),o=u.sibling}else o=u.child;if(null!==o)o.return=u;else for(o=u;null!==o;){if(o===t){o=null;break}if(null!==(u=o.sibling)){u.return=o.return,o=u;break}o=o.return}u=o}go(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,wa(t,n),r=r(i=ka(i)),t.flags|=1,go(e,t,r,n),t.child;case 14:return i=ha(r=t.type,t.pendingProps),bo(e,t,r,i=ha(r.type,i),n);case 15:return wo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ha(r,i),jo(e,t),t.tag=1,Si(r)?(e=!0,Fi(t)):e=!1,wa(t,n),ja(t,r,i),Va(t,r,i,n),_o(null,t,r,!0,e,n);case 19:return Mo(e,t,n);case 22:return ko(e,t,n)}throw Error(a(156,t.tag))};var Wc="function"===typeof reportError?reportError:function(e){console.error(e)};function Hc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yc(){}function $c(e,t,n,r,i){var a=n._reactRootContainer;if(a){var u=a;if("function"===typeof i){var o=i;i=function(){var e=Vc(u);o.call(e)}}Uc(t,u,e,i)}else u=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Vc(u);a.call(e)}}var u=jc(t,r,e,0,null,!1,0,"",Yc);return e._reactRootContainer=u,e[li]=u.current,Mr(8===e.nodeType?e.parentNode:e),uc(),u}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Vc(s);o.call(e)}}var s=Lc(e,0,!1,null,0,!1,0,"",Yc);return e._reactRootContainer=s,e[li]=s.current,Mr(8===e.nodeType?e.parentNode:e),uc((function(){Uc(t,s,n,r)})),s}(n,t,e,i,r);return Vc(u)}Gc.prototype.render=Hc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Uc(e,t,null,null)},Gc.prototype.unmount=Hc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Uc(null,e,null,null)})),t[li]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ft.length&&0!==t&&t<Ft[n].priority;n++);Ft.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=lt(t.pendingLanes);0!==n&&(gt(t,1|n),Zs(t,$e()),0===(6&As)&&(Ms=$e()+500,Mi()))}break;case 13:uc((function(){var t=_a(e,1);if(null!==t){var n=$s();Js(t,e,1,n)}})),qc(e,1)}},kt=function(e){if(13===e.tag){var t=_a(e,134217728);if(null!==t)Js(t,e,134217728,$s());qc(e,134217728)}},Et=function(e){if(13===e.tag){var t=Xs(e),n=_a(e,t);if(null!==n)Js(n,e,t,$s());qc(e,t)}},xt=function(){return yt},At=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=gi(r);if(!i)throw Error(a(90));K(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=ac,Se=uc;var Xc={usingClientEntryPoint:!1,Events:[vi,mi,gi,_e,Ce,ac]},Jc={findFiberByHostInstance:pi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Zc={bundleType:Jc.bundleType,version:Jc.version,rendererPackageName:Jc.rendererPackageName,rendererConfig:Jc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:Jc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var el=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!el.isDisabled&&el.supportsFiber)try{rt=el.inject(Zc),it=el}catch(tl){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Kc(e))throw Error(a(299));var n=!1,r="",i=Wc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Lc(e,1,!1,null,0,n,0,r,i),e[li]=t.current,Mr(8===e.nodeType?e.parentNode:e),new Hc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(a(200));return $c(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,u="",o=Wc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(u=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=jc(t,null,e,1,null!=n?n:null,i,0,u,o),e[li]=t.current,Mr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Gc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(a(200));return $c(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(a(40));return!!e._reactRootContainer&&(uc((function(){$c(null,null,e,!1,(function(){e._reactRootContainer=null,e[li]=null}))})),!0)},t.unstable_batchedUpdates=ac,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return $c(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},77:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,u){if(e===u)return!0;if(e&&u&&"object"==typeof e&&"object"==typeof u){if(e.constructor!==u.constructor)return!1;var o,s,c,l;if(Array.isArray(e)){if((o=e.length)!=u.length)return!1;for(s=o;0!==s--;)if(!a(e[s],u[s]))return!1;return!0}if(n&&e instanceof Map&&u instanceof Map){if(e.size!==u.size)return!1;for(l=e.entries();!(s=l.next()).done;)if(!u.has(s.value[0]))return!1;for(l=e.entries();!(s=l.next()).done;)if(!a(s.value[1],u.get(s.value[0])))return!1;return!0}if(r&&e instanceof Set&&u instanceof Set){if(e.size!==u.size)return!1;for(l=e.entries();!(s=l.next()).done;)if(!u.has(s.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(u)){if((o=e.length)!=u.length)return!1;for(s=o;0!==s--;)if(e[s]!==u[s])return!1;return!0}if(e.constructor===RegExp)return e.source===u.source&&e.flags===u.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===u.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===u.toString();if((o=(c=Object.keys(e)).length)!==Object.keys(u).length)return!1;for(s=o;0!==s--;)if(!Object.prototype.hasOwnProperty.call(u,c[s]))return!1;if(t&&e instanceof Element)return!1;for(s=o;0!==s--;)if(("_owner"!==c[s]&&"__v"!==c[s]&&"__o"!==c[s]||!e.$$typeof)&&!a(e[c[s]],u[c[s]]))return!1;return!0}return e!==e&&u!==u}e.exports=function(e,t){try{return a(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},751:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.withBaseIcon=t.Icon=void 0;var r=u(n(791)),i=u(n(7)),a=u(n(329));function u(e){return e&&e.__esModule?e:{default:e}}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var f=function(e){var t=e.style,n=e.className,i=(e.icon,e.size,e.tag),u=l(e,["style","className","icon","size","tag"]),c=i;return r.default.createElement(c,o({},u,{style:s({display:"inline-block"},t),className:n}),r.default.createElement(a.default,{size:e.size,icon:e.icon,title:e.title}))};t.Icon=f;t.withBaseIcon=function(e){return function(t){var n=s({},e);return r.default.createElement(f,o({},n,t))}},f.defaultProps={size:16,fill:"currentColor",tag:"i"},f.propTypes={icon:i.default.object.isRequired,size:i.default.oneOfType([i.default.number,i.default.string]),style:i.default.object,tag:i.default.oneOf(["i","span","div"]),className:i.default.string};var h=f;t.default=h},329:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SvgIcon=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(791)),i=u(n(7)),a=u(n(384));function u(e){return e&&e.__esModule?e:{default:e}}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var u,o=e[Symbol.iterator]();!(r=(u=o.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(e){return null!==e&&void 0!==e}var f=function e(t){return t.map((function(t,n){var i=t.name,u=t.attribs,o=t.children,f=void 0===o?null:o,h=Object.keys(u).filter((function(e){return"fill"!==e&&"stroke"!==e&&"none"!==u[e]})).reduce((function(e,t){return"style"===t?e.style=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(";").reduce((function(e,t){var n=c(t.split(":"),2),r=n[0],i=n[1];return l(r)&&l(i)&&(e[(0,a.default)(r)]=i),e}),{})}(u[t]):e[(0,a.default)(t)]=u[t],e}),{}),d={};return"none"===u.fill&&u.stroke?d={fill:"none",stroke:"currentColor"}:"none"===u.fill&&(d={fill:"none"}),(0,r.createElement)(i,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}({key:n},h,d),null===f?f:e(f))}))},h=function(e){var t=e.size,n=e.icon,i=n.children,u=n.viewBox,s=n.attribs,c=void 0===s?{}:s,l=Object.keys(c).reduce((function(e,t){return e[(0,a.default)(t)]=c[t],e}),{});return r.default.createElement("svg",o({fill:"currentColor",style:{display:"inline-block",verticalAlign:"middle"},height:t,width:t,viewBox:u},l),e.title?r.default.createElement("title",null,e.title):null,f(i))};t.SvgIcon=h,h.defaultProps={size:16},h.propTypes={icon:i.default.object.isRequired,size:i.default.oneOfType([i.default.number,i.default.string]),title:i.default.string};var d=h;t.default=d},713:function(e,t){"use strict"},14:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.horizontalCenter=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(791));function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.rAlign,a=void 0!==n&&n,u=t.space,o=void 0===u?4:u;return function(t){return r.default.createElement(e,t,r.default.createElement("div",{style:{display:"inline-flex",justifyContent:"center",alignItems:"center"}},r.Children.toArray(t.children).map((function(e,t){var n=a?"paddingLeft":"paddingRight";return r.default.createElement("div",{key:t,style:i({display:"inline-block"},n,o)},e)}))))}};t.horizontalCenter=a;var u=a;t.default=u},199:function(e,t,n){"use strict";var r=n(751),i=n(14);r.Icon},384:function(e,t,n){var r=n(59),i=n(801);e.exports=function(e,t,n){var a=i(e,t);return n||(a=a.replace(/ (?=\d)/g,"_")),a.replace(/ (.)/g,(function(e,n){return r(n,t)}))}},818:function(e){var t={tr:{regexp:/\u0130|\u0049|\u0049\u0307/g,map:{"\u0130":"i",I:"\u0131","I\u0307":"i"}},az:{regexp:/[\u0130]/g,map:{"\u0130":"i",I:"\u0131","I\u0307":"i"}},lt:{regexp:/[\u0049\u004A\u012E\u00CC\u00CD\u0128]/g,map:{I:"i\u0307",J:"j\u0307","\u012e":"\u012f\u0307","\xcc":"i\u0307\u0300","\xcd":"i\u0307\u0301","\u0128":"i\u0307\u0303"}}};e.exports=function(e,n){var r=t[n];return e=null==e?"":String(e),r&&(e=e.replace(r.regexp,(function(e){return r.map[e]}))),e.toLowerCase()}},801:function(e,t,n){var r=n(818),i=n(458),a=n(707),u=n(429);e.exports=function(e,t,n){if(null==e)return"";return n="string"!==typeof n?" ":n,e=String(e).replace(a,"$1 $2").replace(u,"$1 $2").replace(i,(function(e,t,r){return 0===t||t===r.length-e.length?"":n})),r(e,t)}},707:function(e){e.exports=/([a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19])([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A])/g},429:function(e){e.exports=/([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A])([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A][a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A])/g},458:function(e){e.exports=/[^A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]+/g},832:function(e,t,n){e.exports=function(e){return function(){var t={703:function(e,t,n){"use strict";var r=n(414);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,u){if(u!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},697:function(e,t,n){e.exports=n(703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},590:function(e){var t="undefined"!=typeof Element,n="function"==typeof Map,r="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,u){if(e===u)return!0;if(e&&u&&"object"==typeof e&&"object"==typeof u){if(e.constructor!==u.constructor)return!1;var o,s,c,l;if(Array.isArray(e)){if((o=e.length)!=u.length)return!1;for(s=o;0!=s--;)if(!a(e[s],u[s]))return!1;return!0}if(n&&e instanceof Map&&u instanceof Map){if(e.size!==u.size)return!1;for(l=e.entries();!(s=l.next()).done;)if(!u.has(s.value[0]))return!1;for(l=e.entries();!(s=l.next()).done;)if(!a(s.value[1],u.get(s.value[0])))return!1;return!0}if(r&&e instanceof Set&&u instanceof Set){if(e.size!==u.size)return!1;for(l=e.entries();!(s=l.next()).done;)if(!u.has(s.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(u)){if((o=e.length)!=u.length)return!1;for(s=o;0!=s--;)if(e[s]!==u[s])return!1;return!0}if(e.constructor===RegExp)return e.source===u.source&&e.flags===u.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===u.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===u.toString();if((o=(c=Object.keys(e)).length)!==Object.keys(u).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(u,c[s]))return!1;if(t&&e instanceof Element)return!1;for(s=o;0!=s--;)if(("_owner"!==c[s]&&"__v"!==c[s]&&"__o"!==c[s]||!e.$$typeof)&&!a(e[c[s]],u[c[s]]))return!1;return!0}return e!=e&&u!=u}e.exports=function(e,t){try{return a(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},37:function(e,t,n){!function(e,t){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var r="Left",i="Right",a="Down",u={delta:10,preventDefaultTouchmoveEvent:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0},o={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},s="mousemove",c="mouseup";function l(e,t){if(0===t)return e;var n=Math.PI/180*t;return[e[0]*Math.cos(n)+e[1]*Math.sin(n),e[1]*Math.cos(n)-e[0]*Math.sin(n)]}function f(e,t){var u=function(t){t&&"touches"in t&&t.touches.length>1||e((function(e,r){r.trackMouse&&(document.addEventListener(s,f),document.addEventListener(c,d));var i="touches"in t?t.touches[0]:t,a=l([i.clientX,i.clientY],r.rotationAngle);return n({},e,o,{initial:[].concat(a),xy:a,start:t.timeStamp||0})}))},f=function(t){e((function(e,u){if("touches"in t&&t.touches.length>1)return e;var o="touches"in t?t.touches[0]:t,s=l([o.clientX,o.clientY],u.rotationAngle),c=s[0],f=s[1],h=c-e.xy[0],d=f-e.xy[1],p=Math.abs(h),v=Math.abs(d),m=(t.timeStamp||0)-e.start,g=Math.sqrt(p*p+v*v)/(m||1),y=[h/(m||1),d/(m||1)];if(p<u.delta&&v<u.delta&&!e.swiping)return e;var b=function(e,t,n,u){return e>t?n>0?i:r:u>0?a:"Up"}(p,v,h,d),w={absX:p,absY:v,deltaX:h,deltaY:d,dir:b,event:t,first:e.first,initial:e.initial,velocity:g,vxvy:y};u.onSwiping&&u.onSwiping(w);var k=!1;return(u.onSwiping||u.onSwiped||"onSwiped"+b in u)&&(k=!0),k&&u.preventDefaultTouchmoveEvent&&u.trackTouch&&t.cancelable&&t.preventDefault(),n({},e,{first:!1,eventData:w,swiping:!0})}))},h=function(t){e((function(e,r){var i;if(e.swiping&&e.eventData){i=n({},e.eventData,{event:t}),r.onSwiped&&r.onSwiped(i);var a="onSwiped"+i.dir;a in r&&r[a](i)}else r.onTap&&r.onTap({event:t});return n({},e,o,{eventData:i})}))},d=function e(t){document.removeEventListener(s,f),document.removeEventListener(c,e),h(t)},p=function(e,t){var n=function(){};if(e&&e.addEventListener){var r=[["touchstart",u],["touchmove",f],["touchend",h]];r.forEach((function(n){var r=n[0],i=n[1];return e.addEventListener(r,i,{passive:t})})),n=function(){return r.forEach((function(t){var n=t[0],r=t[1];return e.removeEventListener(n,r)}))}}return n},v={ref:function(t){null!==t&&e((function(e,r){if(e.el===t)return e;var i={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),i.cleanUpTouch=void 0),r.trackTouch&&t&&(i.cleanUpTouch=p(t,!r.preventDefaultTouchmoveEvent)),n({},e,{el:t},i)}))}};return t.trackMouse&&(v.onMouseDown=u),[v,p]}e.DOWN=a,e.LEFT=r,e.RIGHT=i,e.UP="Up",e.useSwipeable=function(e){var r=e.trackMouse,i=t.useRef(n({},o)),a=t.useRef(n({},u));a.current=n({},u,e);var s=t.useMemo((function(){return f((function(e){return i.current=e(i.current,a.current)}),{trackMouse:r})}),[r]),c=s[0],l=s[1];return i.current=function(e,t,r){var i={};return!t.trackTouch&&e.cleanUpTouch?(e.cleanUpTouch(),i.cleanUpTouch=void 0):t.trackTouch&&!e.cleanUpTouch&&e.el&&(i.cleanUpTouch=r(e.el,!t.preventDefaultTouchmoveEvent)),n({},e,i)}(i.current,a.current,l),c}}(t,n(888))},888:function(t){"use strict";t.exports=e}},r={};function i(e){var n=r[e];if(void 0!==n)return n.exports;var a=r[e]={exports:{}};return t[e].call(a.exports,a,a.exports,i),a.exports}i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return function(){"use strict";function e(t){var n,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(r=e(t[n]))&&(i&&(i+=" "),i+=r);else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function t(){for(var t,n,r=0,i="";r<arguments.length;)(t=arguments[r++])&&(n=e(t))&&(i&&(i+=" "),i+=n);return i}i.r(a),i.d(a,{default:function(){return Fe}});var r=i(888),u=i.n(r),o=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},s="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,l=s||c||Function("return this")(),f=function(){return l.Date.now()},h=/\s/,d=/^\s+/,p=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&h.test(e.charAt(t)););return t}(e)+1).replace(d,""):e},v=l.Symbol,m=Object.prototype,g=m.hasOwnProperty,y=m.toString,b=v?v.toStringTag:void 0,w=Object.prototype.toString,k=v?v.toStringTag:void 0,E=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":k&&k in Object(e)?function(e){var t=g.call(e,b),n=e[b];try{e[b]=void 0;var r=!0}catch(e){}var i=y.call(e);return r&&(t?e[b]=n:delete e[b]),i}(e):function(e){return w.call(e)}(e)},x=/^[-+]0x[0-9a-f]+$/i,A=/^0b[01]+$/i,_=/^0o[0-7]+$/i,C=parseInt,T=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&"[object Symbol]"==E(e)}(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=p(e);var n=A.test(e);return n||_.test(e)?C(e.slice(2),n?2:8):x.test(e)?NaN:+e},S=Math.max,I=Math.min,D=function(e,t,n){var r,i,a,u,s,c,l=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=r,a=i;return r=i=void 0,l=t,u=e.apply(a,n)}function m(e){return l=e,s=setTimeout(y,t),h?v(e):u}function g(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-l>=a}function y(){var e=f();if(g(e))return b(e);s=setTimeout(y,function(e){var n=t-(e-c);return d?I(n,a-(e-l)):n}(e))}function b(e){return s=void 0,p&&r?v(e):(r=i=void 0,u)}function w(){var e=f(),n=g(e);if(r=arguments,i=this,c=e,n){if(void 0===s)return m(c);if(d)return clearTimeout(s),s=setTimeout(y,t),v(c)}return void 0===s&&(s=setTimeout(y,t)),u}return t=T(t)||0,o(n)&&(h=!!n.leading,a=(d="maxWait"in n)?S(T(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),w.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=c=i=s=void 0},w.flush=function(){return void 0===s?u:b(f())},w},N=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),D(e,t,{leading:r,maxWait:t,trailing:i})},F=i(590),O=i.n(F),R=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),P="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,L=void 0!==i.g&&i.g.Math===Math?i.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),B="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(L):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},M=["top","right","bottom","left","width","height","size","weight"],j="undefined"!=typeof MutationObserver,U=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&o()}function u(){B(a)}function o(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(u,20);i=e}return o}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){P&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),j?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){P&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;M.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),V=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},z=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||L},q=Q(0,0,0,0);function W(e){return parseFloat(e)||0}function H(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+W(e["border-"+n+"-width"])}),0)}var G="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof z(e).SVGGraphicsElement}:function(e){return e instanceof z(e).SVGElement&&"function"==typeof e.getBBox};function K(e){return P?G(e)?function(e){var t=e.getBBox();return Q(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return q;var r=z(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=W(a)}return t}(r),a=i.left+i.right,u=i.top+i.bottom,o=W(r.width),s=W(r.height);if("border-box"===r.boxSizing&&(Math.round(o+a)!==t&&(o-=H(r,"left","right")+a),Math.round(s+u)!==n&&(s-=H(r,"top","bottom")+u)),!function(e){return e===z(e).document.documentElement}(e)){var c=Math.round(o+a)-t,l=Math.round(s+u)-n;1!==Math.abs(c)&&(o-=c),1!==Math.abs(l)&&(s-=l)}return Q(i.left,i.top,o,s)}(e):q}function Q(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Y=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Q(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=K(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),$=function(e,t){var n,r,i,a,u,o,s,c=(r=(n=t).x,i=n.y,a=n.width,u=n.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype),V(s,{x:r,y:i,width:a,height:u,top:i,right:r+a,bottom:u+i,left:r}),s);V(this,{target:e,contentRect:c})},X=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new R,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof z(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof z(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new $(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),J="undefined"!=typeof WeakMap?new WeakMap:new R,Z=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=U.getInstance(),r=new X(t,n,this);J.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){Z.prototype[e]=function(){var t;return(t=J.get(this))[e].apply(t,arguments)}}));var ee=void 0!==L.ResizeObserver?L.ResizeObserver:Z,te=i(37),ne=i(697),re=u().memo((function(e){var t=e.description,n=e.fullscreen,r=e.handleImageLoaded,i=e.isFullscreen,a=e.onImageError,o=e.original,s=e.originalAlt,c=e.originalHeight,l=e.originalWidth,f=e.originalTitle,h=e.sizes,d=e.srcSet,p=e.loading,v=i&&n||o;return u().createElement(u().Fragment,null,u().createElement("img",{className:"image-gallery-image",src:v,alt:s,srcSet:d,height:c,width:l,sizes:h,title:f,onLoad:function(e){return r(e,o)},onError:a,loading:p}),t&&u().createElement("span",{className:"image-gallery-description"},t))}));re.displayName="Item",re.propTypes={description:ne.string,fullscreen:ne.string,handleImageLoaded:ne.func.isRequired,isFullscreen:ne.bool,onImageError:ne.func.isRequired,original:ne.string.isRequired,originalAlt:ne.string,originalHeight:ne.string,originalWidth:ne.string,originalTitle:ne.string,sizes:ne.string,srcSet:ne.string,loading:ne.string},re.defaultProps={description:"",fullscreen:"",isFullscreen:!1,originalAlt:"",originalHeight:"",originalWidth:"",originalTitle:"",sizes:"",srcSet:"",loading:"eager"};var ie=re,ae={left:u().createElement("polyline",{points:"15 18 9 12 15 6"}),right:u().createElement("polyline",{points:"9 18 15 12 9 6"}),maximize:u().createElement("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}),minimize:u().createElement("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"}),play:u().createElement("polygon",{points:"5 3 19 12 5 21 5 3"}),pause:u().createElement(u().Fragment,null,u().createElement("rect",{x:"6",y:"4",width:"4",height:"16"}),u().createElement("rect",{x:"14",y:"4",width:"4",height:"16"}))},ue=function(e){var t=e.strokeWidth,n=e.viewBox,r=e.icon;return u().createElement("svg",{className:"image-gallery-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:n,fill:"none",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"},ae[r])};ue.propTypes={strokeWidth:ne.number,viewBox:ne.string,icon:(0,ne.oneOf)(["left","right","maximize","minimize","play","pause"]).isRequired},ue.defaultProps={strokeWidth:1,viewBox:"0 0 24 24"};var oe=ue,se=u().memo((function(e){var t=e.isFullscreen,n=e.onClick;return u().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-fullscreen-button",onClick:n,"aria-label":"Open Fullscreen"},u().createElement(oe,{strokeWidth:2,icon:t?"minimize":"maximize"}))}));se.displayName="Fullscreen",se.propTypes={isFullscreen:ne.bool.isRequired,onClick:ne.func.isRequired};var ce=se,le=u().memo((function(e){var t=e.disabled,n=e.onClick;return u().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-left-nav",disabled:t,onClick:n,"aria-label":"Previous Slide"},u().createElement(oe,{icon:"left",viewBox:"6 0 12 24"}))}));le.displayName="LeftNav",le.propTypes={disabled:ne.bool.isRequired,onClick:ne.func.isRequired};var fe=le,he=u().memo((function(e){var t=e.disabled,n=e.onClick;return u().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-right-nav",disabled:t,onClick:n,"aria-label":"Next Slide"},u().createElement(oe,{icon:"right",viewBox:"6 0 12 24"}))}));he.displayName="RightNav",he.propTypes={disabled:ne.bool.isRequired,onClick:ne.func.isRequired};var de=he,pe=u().memo((function(e){var t=e.isPlaying,n=e.onClick;return u().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-play-button",onClick:n,"aria-label":"Play or Pause Slideshow"},u().createElement(oe,{strokeWidth:2,icon:t?"pause":"play"}))}));pe.displayName="PlayPause",pe.propTypes={isPlaying:ne.bool.isRequired,onClick:ne.func.isRequired};var ve=pe;function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ge=function(e){var t=e.children,n=e.className,r=e.delta,i=e.onSwiping,a=e.onSwiped,o=(0,te.useSwipeable)({delta:r,onSwiping:i,onSwiped:a});return u().createElement("div",me({},o,{className:n}),t)};ge.propTypes={children:ne.node.isRequired,className:ne.string,delta:ne.number,onSwiped:ne.func,onSwiping:ne.func},ge.defaultProps={className:"",delta:0,onSwiping:function(){},onSwiped:function(){}};var ye=ge;function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){Ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _e(e,t){return!t||"object"!==be(t)&&"function"!=typeof t?Ce(e):t}function Ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Se=["fullscreenchange","MSFullscreenChange","mozfullscreenchange","webkitfullscreenchange"],Ie=(0,ne.arrayOf)((0,ne.shape)({srcSet:ne.string,media:ne.string}));function De(e){var t=parseInt(e.keyCode||e.which||0,10);return 66===t||62===t}var Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(o,e);var n,r,i,a=(r=o,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Te(r);if(i){var n=Te(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _e(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).state={currentIndex:e.startIndex,thumbsTranslate:0,thumbsSwipedTranslate:0,currentSlideOffset:0,galleryWidth:0,thumbnailsWrapperWidth:0,thumbnailsWrapperHeight:0,thumbsStyle:{transition:"all ".concat(e.slideDuration,"ms ease-out")},isFullscreen:!1,isSwipingThumbnail:!1,isPlaying:!1},t.loadedImages={},t.imageGallery=u().createRef(),t.thumbnailsWrapper=u().createRef(),t.thumbnails=u().createRef(),t.imageGallerySlideWrapper=u().createRef(),t.handleImageLoaded=t.handleImageLoaded.bind(Ce(t)),t.handleKeyDown=t.handleKeyDown.bind(Ce(t)),t.handleMouseDown=t.handleMouseDown.bind(Ce(t)),t.handleResize=t.handleResize.bind(Ce(t)),t.handleTouchMove=t.handleTouchMove.bind(Ce(t)),t.handleOnSwiped=t.handleOnSwiped.bind(Ce(t)),t.handleScreenChange=t.handleScreenChange.bind(Ce(t)),t.handleSwiping=t.handleSwiping.bind(Ce(t)),t.handleThumbnailSwiping=t.handleThumbnailSwiping.bind(Ce(t)),t.handleOnThumbnailSwiped=t.handleOnThumbnailSwiped.bind(Ce(t)),t.onThumbnailMouseLeave=t.onThumbnailMouseLeave.bind(Ce(t)),t.handleImageError=t.handleImageError.bind(Ce(t)),t.pauseOrPlay=t.pauseOrPlay.bind(Ce(t)),t.renderThumbInner=t.renderThumbInner.bind(Ce(t)),t.renderItem=t.renderItem.bind(Ce(t)),t.slideLeft=t.slideLeft.bind(Ce(t)),t.slideRight=t.slideRight.bind(Ce(t)),t.toggleFullScreen=t.toggleFullScreen.bind(Ce(t)),t.togglePlay=t.togglePlay.bind(Ce(t)),t.unthrottledSlideToIndex=t.slideToIndex,t.slideToIndex=N(t.unthrottledSlideToIndex,e.slideDuration,{trailing:!1}),e.lazyLoad&&(t.lazyLoaded=[]),t}return(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.autoPlay,n=e.useWindowKeyDown;t&&this.play(),n?window.addEventListener("keydown",this.handleKeyDown):this.imageGallery.current.addEventListener("keydown",this.handleKeyDown),window.addEventListener("mousedown",this.handleMouseDown),window.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),this.initSlideWrapperResizeObserver(this.imageGallerySlideWrapper),this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper),this.addScreenChangeEvent()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.items,i=n.lazyLoad,a=n.slideDuration,u=n.slideInterval,o=n.startIndex,s=n.thumbnailPosition,c=n.showThumbnails,l=n.useWindowKeyDown,f=this.state,h=f.currentIndex,d=f.isPlaying,p=e.items.length!==r.length,v=!O()(e.items,r),m=e.startIndex!==o,g=e.thumbnailPosition!==s,y=e.showThumbnails!==c;u===e.slideInterval&&a===e.slideDuration||d&&(this.pause(),this.play()),g&&(this.removeResizeObserver(),this.initSlideWrapperResizeObserver(this.imageGallerySlideWrapper),this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper)),y&&c&&this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper),y&&!c&&this.removeThumbnailsResizeObserver(),(p||y)&&this.handleResize(),t.currentIndex!==h&&this.slideThumbnailBar(),e.slideDuration!==a&&(this.slideToIndex=N(this.unthrottledSlideToIndex,a,{trailing:!1})),!i||e.lazyLoad&&!v||(this.lazyLoaded=[]),l!==e.useWindowKeyDown&&(l?(this.imageGallery.current.removeEventListener("keydown",this.handleKeyDown),window.addEventListener("keydown",this.handleKeyDown)):(window.removeEventListener("keydown",this.handleKeyDown),this.imageGallery.current.addEventListener("keydown",this.handleKeyDown))),(m||v)&&this.setState({currentIndex:o,slideStyle:{transition:"none"}})}},{key:"componentWillUnmount",value:function(){var e=this.props.useWindowKeyDown;window.removeEventListener("mousedown",this.handleMouseDown),window.removeEventListener("touchmove",this.handleTouchMove),this.removeScreenChangeEvent(),this.removeResizeObserver(),this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null),this.transitionTimer&&window.clearTimeout(this.transitionTimer),e?window.removeEventListener("keydown",this.handleKeyDown):this.imageGallery.current.removeEventListener("keydown",this.handleKeyDown)}},{key:"onSliding",value:function(){var e=this,t=this.state,n=t.currentIndex,r=t.isTransitioning,i=this.props,a=i.onSlide,u=i.slideDuration;this.transitionTimer=window.setTimeout((function(){r&&(e.setState({isTransitioning:!r,isSwipingThumbnail:!1}),a&&a(n))}),u+50)}},{key:"onThumbnailClick",value:function(e,t){var n=this.props.onThumbnailClick;e.target.parentNode.parentNode.blur(),this.slideToIndex(t,e),n&&n(e,t)}},{key:"onThumbnailMouseOver",value:function(e,t){var n=this;this.thumbnailMouseOverTimer&&(window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null),this.thumbnailMouseOverTimer=window.setTimeout((function(){n.slideToIndex(t),n.pause()}),300)}},{key:"onThumbnailMouseLeave",value:function(){if(this.thumbnailMouseOverTimer){var e=this.props.autoPlay;window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null,e&&this.play()}}},{key:"setThumbsTranslate",value:function(e){this.setState({thumbsTranslate:e})}},{key:"setModalFullscreen",value:function(e){var t=this.props.onScreenChange;this.setState({modalFullscreen:e}),t&&t(e)}},{key:"getThumbsTranslate",value:function(e){var t,n=this.props,r=n.disableThumbnailScroll,i=n.items,a=this.state,u=a.thumbnailsWrapperWidth,o=a.thumbnailsWrapperHeight,s=this.thumbnails&&this.thumbnails.current;if(r)return 0;if(s){if(this.isThumbnailVertical()){if(s.scrollHeight<=o)return 0;t=s.scrollHeight-o}else{if(s.scrollWidth<=u||u<=0)return 0;t=s.scrollWidth-u}return e*(t/(i.length-1))}return 0}},{key:"getAlignmentClassName",value:function(e){var t=this.state.currentIndex,n=this.props,r=n.infinite,i=n.items,a="",u="left",o="right";switch(e){case t-1:a=" ".concat(u);break;case t:a=" ".concat("center");break;case t+1:a=" ".concat(o)}return i.length>=3&&r&&(0===e&&t===i.length-1?a=" ".concat(o):e===i.length-1&&0===t&&(a=" ".concat(u))),a}},{key:"getTranslateXForTwoSlide",value:function(e){var t=this.state,n=t.currentIndex,r=t.currentSlideOffset,i=t.previousIndex,a=n!==i,u=0===e&&0===i,o=1===e&&1===i,s=0===e&&1===n,c=1===e&&0===n,l=0===r,f=-100*n+100*e+r;return r>0?this.direction="left":r<0&&(this.direction="right"),c&&r>0&&(f=-100+r),s&&r<0&&(f=100+r),a?u&&l&&"left"===this.direction?f=100:o&&l&&"right"===this.direction&&(f=-100):(c&&l&&"left"===this.direction&&(f=-100),s&&l&&"right"===this.direction&&(f=100)),f}},{key:"getThumbnailBarHeight",value:function(){return this.isThumbnailVertical()?{height:this.state.gallerySlideWrapperHeight}:{}}},{key:"getSlideStyle",value:function(e){var t=this.state,n=t.currentIndex,r=t.currentSlideOffset,i=t.slideStyle,a=this.props,u=a.infinite,o=a.items,s=a.useTranslate3D,c=a.isRTL,l=-100*n,f=o.length-1,h=(l+100*e)*(c?-1:1)+r;u&&o.length>2&&(0===n&&e===f?h=-100*(c?-1:1)+r:n===f&&0===e&&(h=100*(c?-1:1)+r)),u&&2===o.length&&(h=this.getTranslateXForTwoSlide(e));var d="translate(".concat(h,"%, 0)");return s&&(d="translate3d(".concat(h,"%, 0, 0)")),ke({display:this.isSlideVisible(e)?"inherit":"none",WebkitTransform:d,MozTransform:d,msTransform:d,OTransform:d,transform:d},i)}},{key:"getCurrentIndex",value:function(){return this.state.currentIndex}},{key:"getThumbnailStyle",value:function(){var e,t=this.props,n=t.useTranslate3D,r=t.isRTL,i=this.state,a=i.thumbsTranslate,u=i.thumbsStyle,o=r?-1*a:a;return this.isThumbnailVertical()?(e="translate(0, ".concat(a,"px)"),n&&(e="translate3d(0, ".concat(a,"px, 0)"))):(e="translate(".concat(o,"px, 0)"),n&&(e="translate3d(".concat(o,"px, 0, 0)"))),ke({WebkitTransform:e,MozTransform:e,msTransform:e,OTransform:e,transform:e},u)}},{key:"getSlideItems",value:function(){var e=this,n=this.state.currentIndex,r=this.props,i=r.items,a=r.slideOnThumbnailOver,o=r.onClick,s=r.lazyLoad,c=r.onTouchMove,l=r.onTouchEnd,f=r.onTouchStart,h=r.onMouseOver,d=r.onMouseLeave,p=r.renderItem,v=r.renderThumbInner,m=r.showThumbnails,g=r.showBullets,y=[],b=[],w=[];return i.forEach((function(r,i){var k=e.getAlignmentClassName(i),E=r.originalClass?" ".concat(r.originalClass):"",x=r.thumbnailClass?" ".concat(r.thumbnailClass):"",A=r.renderItem||p||e.renderItem,_=r.renderThumbInner||v||e.renderThumbInner,C=!s||k||e.lazyLoaded[i];C&&s&&!e.lazyLoaded[i]&&(e.lazyLoaded[i]=!0);var T=e.getSlideStyle(i),S=u().createElement("div",{"aria-label":"Go to Slide ".concat(i+1),key:"slide-".concat(i),tabIndex:"-1",className:"image-gallery-slide ".concat(k," ").concat(E),style:T,onClick:o,onKeyUp:e.handleSlideKeyUp,onTouchMove:c,onTouchEnd:l,onTouchStart:f,onMouseOver:h,onFocus:h,onMouseLeave:d,role:"button"},C?A(r):u().createElement("div",{style:{height:"100%"}}));if(y.push(S),m&&r.thumbnail){var I=t("image-gallery-thumbnail",x,{active:n===i});b.push(u().createElement("button",{key:"thumbnail-".concat(i),type:"button",tabIndex:"0","aria-pressed":n===i?"true":"false","aria-label":"Go to Slide ".concat(i+1),className:I,onMouseLeave:a?e.onThumbnailMouseLeave:null,onMouseOver:function(t){return e.handleThumbnailMouseOver(t,i)},onFocus:function(t){return e.handleThumbnailMouseOver(t,i)},onKeyUp:function(t){return e.handleThumbnailKeyUp(t,i)},onClick:function(t){return e.onThumbnailClick(t,i)}},_(r)))}if(g){var D=t("image-gallery-bullet",r.bulletClass,{active:n===i});w.push(u().createElement("button",{type:"button",key:"bullet-".concat(i),className:D,onClick:function(t){return r.bulletOnClick&&r.bulletOnClick({item:r,itemIndex:i,currentIndex:n}),t.target.blur(),e.slideToIndex.call(e,i,t)},"aria-pressed":n===i?"true":"false","aria-label":"Go to Slide ".concat(i+1)}))}})),{slides:y,thumbnails:b,bullets:w}}},{key:"ignoreIsTransitioning",value:function(){var e=this.props.items,t=this.state,n=t.previousIndex,r=t.currentIndex,i=e.length-1;return Math.abs(n-r)>1&&!(0===n&&r===i)&&!(n===i&&0===r)}},{key:"isFirstOrLastSlide",value:function(e){return e===this.props.items.length-1||0===e}},{key:"slideIsTransitioning",value:function(e){var t=this.state,n=t.isTransitioning,r=t.previousIndex,i=t.currentIndex;return n&&!(e===r||e===i)}},{key:"isSlideVisible",value:function(e){return!this.slideIsTransitioning(e)||this.ignoreIsTransitioning()&&!this.isFirstOrLastSlide(e)}},{key:"slideThumbnailBar",value:function(){var e=this.state,t=e.currentIndex,n=e.isSwipingThumbnail,r=-this.getThumbsTranslate(t);n||(0===t?this.setState({thumbsTranslate:0,thumbsSwipedTranslate:0}):this.setState({thumbsTranslate:r,thumbsSwipedTranslate:r}))}},{key:"canSlide",value:function(){return this.props.items.length>=2}},{key:"canSlideLeft",value:function(){var e=this.props,t=e.infinite,n=e.isRTL;return t||(n?this.canSlideNext():this.canSlidePrevious())}},{key:"canSlideRight",value:function(){var e=this.props,t=e.infinite,n=e.isRTL;return t||(n?this.canSlidePrevious():this.canSlideNext())}},{key:"canSlidePrevious",value:function(){return this.state.currentIndex>0}},{key:"canSlideNext",value:function(){return this.state.currentIndex<this.props.items.length-1}},{key:"handleSwiping",value:function(e){var t=e.event,n=e.absX,r=e.dir,i=this.props,a=i.disableSwipe,u=i.stopPropagation,o=this.state,s=o.galleryWidth,c=o.isTransitioning,l=o.swipingUpDown,f=o.swipingLeftRight;if(r!==te.UP&&r!==te.DOWN&&!l||f){if(r!==te.LEFT&&r!==te.RIGHT||f||this.setState({swipingLeftRight:!0}),!a){var h=this.props.swipingTransitionDuration;if(u&&t.preventDefault(),c)this.setState({currentSlideOffset:0});else{var d=r===te.RIGHT?1:-1,p=n/s*100;Math.abs(p)>=100&&(p=100);var v={transition:"transform ".concat(h,"ms ease-out")};this.setState({currentSlideOffset:d*p,slideStyle:v})}}}else l||this.setState({swipingUpDown:!0})}},{key:"handleThumbnailSwiping",value:function(e){var t=e.event,n=e.absX,r=e.absY,i=e.dir,a=this.props,u=a.stopPropagation,o=a.swipingThumbnailTransitionDuration,s=this.state,c=s.thumbsSwipedTranslate,l=s.thumbnailsWrapperHeight,f=s.thumbnailsWrapperWidth,h=s.swipingUpDown,d=s.swipingLeftRight;if(this.isThumbnailVertical()){if((i===te.LEFT||i===te.RIGHT||d)&&!h)return void(d||this.setState({swipingLeftRight:!0}));i!==te.UP&&i!==te.DOWN||h||this.setState({swipingUpDown:!0})}else{if((i===te.UP||i===te.DOWN||h)&&!d)return void(h||this.setState({swipingUpDown:!0}));i!==te.LEFT&&i!==te.RIGHT||d||this.setState({swipingLeftRight:!0})}var p,v,m,g,y,b=this.thumbnails&&this.thumbnails.current;if(this.isThumbnailVertical()?(p=c+(i===te.DOWN?r:-r),v=b.scrollHeight-l+20,m=Math.abs(p)>v,g=p>20,y=b.scrollHeight<=l):(p=c+(i===te.RIGHT?n:-n),v=b.scrollWidth-f+20,m=Math.abs(p)>v,g=p>20,y=b.scrollWidth<=f),!y&&(i!==te.LEFT&&i!==te.UP||!m)&&(i!==te.RIGHT&&i!==te.DOWN||!g)){u&&t.stopPropagation();var w={transition:"transform ".concat(o,"ms ease-out")};this.setState({thumbsTranslate:p,thumbsStyle:w})}}},{key:"handleOnThumbnailSwiped",value:function(){var e=this.state.thumbsTranslate,t=this.props.slideDuration;this.resetSwipingDirection(),this.setState({isSwipingThumbnail:!0,thumbsSwipedTranslate:e,thumbsStyle:{transition:"all ".concat(t,"ms ease-out")}})}},{key:"sufficientSwipe",value:function(){var e=this.state.currentSlideOffset,t=this.props.swipeThreshold;return Math.abs(e)>t}},{key:"resetSwipingDirection",value:function(){var e=this.state,t=e.swipingUpDown,n=e.swipingLeftRight;t&&this.setState({swipingUpDown:!1}),n&&this.setState({swipingLeftRight:!1})}},{key:"handleOnSwiped",value:function(e){var t=e.event,n=e.dir,r=e.velocity,i=this.props,a=i.disableSwipe,u=i.stopPropagation,o=i.flickThreshold;if(!a){var s=this.props.isRTL;u&&t.stopPropagation(),this.resetSwipingDirection();var c=(n===te.LEFT?1:-1)*(s?-1:1),l=n===te.UP||n===te.DOWN,f=r>o&&!l;this.handleOnSwipedTo(c,f)}}},{key:"handleOnSwipedTo",value:function(e,t){var n=this.state,r=n.currentIndex,i=n.isTransitioning,a=r;!this.sufficientSwipe()&&!t||i||(a+=e),(-1===e&&!this.canSlideLeft()||1===e&&!this.canSlideRight())&&(a=r),this.unthrottledSlideToIndex(a)}},{key:"handleTouchMove",value:function(e){this.state.swipingLeftRight&&e.preventDefault()}},{key:"handleMouseDown",value:function(){this.imageGallery.current.classList.add("image-gallery-using-mouse")}},{key:"handleKeyDown",value:function(e){var t=this.props,n=t.disableKeyDown,r=t.useBrowserFullscreen,i=this.state.isFullscreen;if(this.imageGallery.current.classList.remove("image-gallery-using-mouse"),!n)switch(parseInt(e.keyCode||e.which||0,10)){case 37:this.canSlideLeft()&&!this.playPauseIntervalId&&this.slideLeft(e);break;case 39:this.canSlideRight()&&!this.playPauseIntervalId&&this.slideRight(e);break;case 27:i&&!r&&this.exitFullScreen()}}},{key:"handleImageError",value:function(e){var t=this.props.onErrorImageURL;t&&-1===e.target.src.indexOf(t)&&(e.target.src=t)}},{key:"removeThumbnailsResizeObserver",value:function(){this.resizeThumbnailWrapperObserver&&this.thumbnailsWrapper&&this.thumbnailsWrapper.current&&(this.resizeThumbnailWrapperObserver.unobserve(this.thumbnailsWrapper.current),this.resizeThumbnailWrapperObserver=null)}},{key:"removeResizeObserver",value:function(){this.resizeSlideWrapperObserver&&this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&(this.resizeSlideWrapperObserver.unobserve(this.imageGallerySlideWrapper.current),this.resizeSlideWrapperObserver=null),this.removeThumbnailsResizeObserver()}},{key:"handleResize",value:function(){var e=this.state.currentIndex;this.imageGallery&&(this.imageGallery&&this.imageGallery.current&&this.setState({galleryWidth:this.imageGallery.current.offsetWidth}),this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&this.setState({gallerySlideWrapperHeight:this.imageGallerySlideWrapper.current.offsetHeight}),this.setThumbsTranslate(-this.getThumbsTranslate(e)))}},{key:"initSlideWrapperResizeObserver",value:function(e){var t=this;e&&!e.current||(this.resizeSlideWrapperObserver=new ee(D((function(e){e&&e.forEach((function(e){t.setState({thumbnailsWrapperWidth:e.contentRect.width},t.handleResize)}))}),50)),this.resizeSlideWrapperObserver.observe(e.current))}},{key:"initThumbnailWrapperResizeObserver",value:function(e){var t=this;e&&!e.current||(this.resizeThumbnailWrapperObserver=new ee(D((function(e){e&&e.forEach((function(e){t.setState({thumbnailsWrapperHeight:e.contentRect.height},t.handleResize)}))}),50)),this.resizeThumbnailWrapperObserver.observe(e.current))}},{key:"toggleFullScreen",value:function(){this.state.isFullscreen?this.exitFullScreen():this.fullScreen()}},{key:"togglePlay",value:function(){this.playPauseIntervalId?this.pause():this.play()}},{key:"handleScreenChange",value:function(){var e=this.props,t=e.onScreenChange,n=e.useBrowserFullscreen,r=document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement,i=this.imageGallery.current===r;t&&t(i),n&&this.setState({isFullscreen:i})}},{key:"slideToIndex",value:function(e,t){var n=this.state,r=n.currentIndex,i=n.isTransitioning,a=this.props,u=a.items,o=a.slideDuration,s=a.onBeforeSlide;if(!i){t&&this.playPauseIntervalId&&(this.pause(!1),this.play(!1));var c=u.length-1,l=e;e<0?l=c:e>c&&(l=0),s&&l!==r&&s(l),this.setState({previousIndex:r,currentIndex:l,isTransitioning:l!==r,currentSlideOffset:0,slideStyle:{transition:"all ".concat(o,"ms ease-out")}},this.onSliding)}}},{key:"slideLeft",value:function(e){var t=this.props.isRTL;this.slideTo(e,t?"right":"left")}},{key:"slideRight",value:function(e){var t=this.props.isRTL;this.slideTo(e,t?"left":"right")}},{key:"slideTo",value:function(e,t){var n=this,r=this.state,i=r.currentIndex,a=r.currentSlideOffset,u=r.isTransitioning,o=this.props.items,s=i+("left"===t?-1:1);u||(2===o.length?this.setState({currentSlideOffset:a+("left"===t?.001:-.001),slideStyle:{transition:"none"}},(function(){window.setTimeout((function(){return n.slideToIndex(s,e)}),25)})):this.slideToIndex(s,e))}},{key:"handleThumbnailMouseOver",value:function(e,t){this.props.slideOnThumbnailOver&&this.onThumbnailMouseOver(e,t)}},{key:"handleThumbnailKeyUp",value:function(e,t){De(e)&&this.onThumbnailClick(e,t)}},{key:"handleSlideKeyUp",value:function(e){De(e)&&(0,this.props.onClick)(e)}},{key:"isThumbnailVertical",value:function(){var e=this.props.thumbnailPosition;return"left"===e||"right"===e}},{key:"addScreenChangeEvent",value:function(){var e=this;Se.forEach((function(t){document.addEventListener(t,e.handleScreenChange)}))}},{key:"removeScreenChangeEvent",value:function(){var e=this;Se.forEach((function(t){document.removeEventListener(t,e.handleScreenChange)}))}},{key:"fullScreen",value:function(){var e=this.props.useBrowserFullscreen,t=this.imageGallery.current;e?t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():this.setModalFullscreen(!0):this.setModalFullscreen(!0),this.setState({isFullscreen:!0})}},{key:"exitFullScreen",value:function(){var e=this.state.isFullscreen,t=this.props.useBrowserFullscreen;e&&(t?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():this.setModalFullscreen(!1):this.setModalFullscreen(!1),this.setState({isFullscreen:!1}))}},{key:"pauseOrPlay",value:function(){var e=this.props.infinite,t=this.state.currentIndex;e||this.canSlideRight()?this.slideToIndex(t+1):this.pause()}},{key:"play",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props,n=t.onPlay,r=t.slideInterval,i=t.slideDuration,a=this.state.currentIndex;this.playPauseIntervalId||(this.setState({isPlaying:!0}),this.playPauseIntervalId=window.setInterval(this.pauseOrPlay,Math.max(r,i)),n&&e&&n(a))}},{key:"pause",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props.onPause,n=this.state.currentIndex;this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null,this.setState({isPlaying:!1}),t&&e&&t(n))}},{key:"isImageLoaded",value:function(e){return!!this.loadedImages[e.original]||(this.loadedImages[e.original]=!0,!1)}},{key:"handleImageLoaded",value:function(e,t){var n=this.props.onImageLoad;!this.loadedImages[t]&&n&&(this.loadedImages[t]=!0,n(e))}},{key:"renderItem",value:function(e){var t=this.state.isFullscreen,n=this.props.onImageError||this.handleImageError;return u().createElement(ie,{description:e.description,fullscreen:e.fullscreen,handleImageLoaded:this.handleImageLoaded,isFullscreen:t,onImageError:n,original:e.original,originalAlt:e.originalAlt,originalHeight:e.originalHeight,originalWidth:e.originalWidth,originalTitle:e.originalTitle,sizes:e.sizes,loading:e.loading,srcSet:e.srcSet})}},{key:"renderThumbInner",value:function(e){var t=this.props.onThumbnailError||this.handleImageError;return u().createElement("span",{className:"image-gallery-thumbnail-inner"},u().createElement("img",{className:"image-gallery-thumbnail-image",src:e.thumbnail,height:e.thumbnailHeight,width:e.thumbnailWidth,alt:e.thumbnailAlt,title:e.thumbnailTitle,loading:e.thumbnailLoading,onError:t}),e.thumbnailLabel&&u().createElement("div",{className:"image-gallery-thumbnail-label"},e.thumbnailLabel))}},{key:"render",value:function(){var e=this.state,n=e.currentIndex,r=e.isFullscreen,i=e.modalFullscreen,a=e.isPlaying,o=this.props,s=o.additionalClass,c=o.disableThumbnailSwipe,l=o.indexSeparator,f=o.isRTL,h=o.items,d=o.thumbnailPosition,p=o.renderFullscreenButton,v=o.renderCustomControls,m=o.renderLeftNav,g=o.renderRightNav,y=o.showBullets,b=o.showFullscreenButton,w=o.showIndex,k=o.showThumbnails,E=o.showNav,x=o.showPlayButton,A=o.renderPlayPauseButton,_=this.getThumbnailStyle(),C=this.getSlideItems(),T=C.slides,S=C.thumbnails,I=C.bullets,D=t("image-gallery-slide-wrapper",d,{"image-gallery-rtl":f}),N=u().createElement("div",{ref:this.imageGallerySlideWrapper,className:D},v&&v(),this.canSlide()?u().createElement(u().Fragment,null,E&&u().createElement(u().Fragment,null,m(this.slideLeft,!this.canSlideLeft()),g(this.slideRight,!this.canSlideRight())),u().createElement(ye,{className:"image-gallery-swipe",delta:0,onSwiping:this.handleSwiping,onSwiped:this.handleOnSwiped},u().createElement("div",{className:"image-gallery-slides"},T))):u().createElement("div",{className:"image-gallery-slides"},T),x&&A(this.togglePlay,a),y&&u().createElement("div",{className:"image-gallery-bullets"},u().createElement("div",{className:"image-gallery-bullets-container",role:"navigation","aria-label":"Bullet Navigation"},I)),b&&p(this.toggleFullScreen,r),w&&u().createElement("div",{className:"image-gallery-index"},u().createElement("span",{className:"image-gallery-index-current"},n+1),u().createElement("span",{className:"image-gallery-index-separator"},l),u().createElement("span",{className:"image-gallery-index-total"},h.length))),F=t("image-gallery",s,{"fullscreen-modal":i}),O=t("image-gallery-content",d,{fullscreen:r}),R=t("image-gallery-thumbnails-wrapper",d,{"thumbnails-wrapper-rtl":!this.isThumbnailVertical()&&f},{"thumbnails-swipe-horizontal":!this.isThumbnailVertical()&&!c},{"thumbnails-swipe-vertical":this.isThumbnailVertical()&&!c});return u().createElement("div",{ref:this.imageGallery,className:F,"aria-live":"polite"},u().createElement("div",{className:O},("bottom"===d||"right"===d)&&N,k&&S.length>0?u().createElement(ye,{className:R,delta:0,onSwiping:!c&&this.handleThumbnailSwiping,onSwiped:!c&&this.handleOnThumbnailSwiped},u().createElement("div",{className:"image-gallery-thumbnails",ref:this.thumbnailsWrapper,style:this.getThumbnailBarHeight()},u().createElement("nav",{ref:this.thumbnails,className:"image-gallery-thumbnails-container",style:_,"aria-label":"Thumbnail Navigation"},S))):null,("top"===d||"left"===d)&&N))}}])&&xe(o.prototype,n),o}(u().Component);Ne.propTypes={flickThreshold:ne.number,items:(0,ne.arrayOf)((0,ne.shape)({bulletClass:ne.string,bulletOnClick:ne.func,description:ne.string,original:ne.string,originalHeight:ne.number,originalWidth:ne.number,loading:ne.string,thumbnailHeight:ne.number,thumbnailWidth:ne.number,thumbnailLoading:ne.string,fullscreen:ne.string,originalAlt:ne.string,originalTitle:ne.string,thumbnail:ne.string,thumbnailAlt:ne.string,thumbnailLabel:ne.string,thumbnailTitle:ne.string,originalClass:ne.string,thumbnailClass:ne.string,renderItem:ne.func,renderThumbInner:ne.func,imageSet:Ie,srcSet:ne.string,sizes:ne.string})).isRequired,showNav:ne.bool,autoPlay:ne.bool,lazyLoad:ne.bool,infinite:ne.bool,showIndex:ne.bool,showBullets:ne.bool,showThumbnails:ne.bool,showPlayButton:ne.bool,showFullscreenButton:ne.bool,disableThumbnailScroll:ne.bool,disableKeyDown:ne.bool,disableSwipe:ne.bool,disableThumbnailSwipe:ne.bool,useBrowserFullscreen:ne.bool,onErrorImageURL:ne.string,indexSeparator:ne.string,thumbnailPosition:(0,ne.oneOf)(["top","bottom","left","right"]),startIndex:ne.number,slideDuration:ne.number,slideInterval:ne.number,slideOnThumbnailOver:ne.bool,swipeThreshold:ne.number,swipingTransitionDuration:ne.number,swipingThumbnailTransitionDuration:ne.number,onSlide:ne.func,onBeforeSlide:ne.func,onScreenChange:ne.func,onPause:ne.func,onPlay:ne.func,onClick:ne.func,onImageLoad:ne.func,onImageError:ne.func,onTouchMove:ne.func,onTouchEnd:ne.func,onTouchStart:ne.func,onMouseOver:ne.func,onMouseLeave:ne.func,onThumbnailError:ne.func,onThumbnailClick:ne.func,renderCustomControls:ne.func,renderLeftNav:ne.func,renderRightNav:ne.func,renderPlayPauseButton:ne.func,renderFullscreenButton:ne.func,renderItem:ne.func,renderThumbInner:ne.func,stopPropagation:ne.bool,additionalClass:ne.string,useTranslate3D:ne.bool,isRTL:ne.bool,useWindowKeyDown:ne.bool},Ne.defaultProps={onErrorImageURL:"",additionalClass:"",showNav:!0,autoPlay:!1,lazyLoad:!1,infinite:!0,showIndex:!1,showBullets:!1,showThumbnails:!0,showPlayButton:!0,showFullscreenButton:!0,disableThumbnailScroll:!1,disableKeyDown:!1,disableSwipe:!1,disableThumbnailSwipe:!1,useTranslate3D:!0,isRTL:!1,useBrowserFullscreen:!0,flickThreshold:.4,stopPropagation:!1,indexSeparator:" / ",thumbnailPosition:"bottom",startIndex:0,slideDuration:450,swipingTransitionDuration:0,swipingThumbnailTransitionDuration:0,onSlide:null,onBeforeSlide:null,onScreenChange:null,onPause:null,onPlay:null,onClick:null,onImageLoad:null,onImageError:null,onTouchMove:null,onTouchEnd:null,onTouchStart:null,onMouseOver:null,onMouseLeave:null,onThumbnailError:null,onThumbnailClick:null,renderCustomControls:null,renderThumbInner:null,renderItem:null,slideInterval:3e3,slideOnThumbnailOver:!1,swipeThreshold:30,renderLeftNav:function(e,t){return u().createElement(fe,{onClick:e,disabled:t})},renderRightNav:function(e,t){return u().createElement(de,{onClick:e,disabled:t})},renderPlayPauseButton:function(e,t){return u().createElement(ve,{onClick:e,isPlaying:t})},renderFullscreenButton:function(e,t){return u().createElement(ce,{onClick:e,isFullscreen:t})},useWindowKeyDown:!0};var Fe=Ne}(),a}()}(n(791))},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var w=b.prototype=new y;w.constructor=b,v(w,g.prototype),w.isPureReactComponent=!0;var k=Array.isArray,E=Object.prototype.hasOwnProperty,x={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,a={},u=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(u=""+t.key),t)E.call(t,i)&&!A.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:u,ref:o,props:a,_owner:x.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,a,u){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var s=!1;if(null===e)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return u=u(s=e),e=""===a?"."+S(s,0):a,k(u)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),I(u,t,i,"",(function(e){return e}))):null!=u&&(C(u)&&(u=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(u,i+(!u.key||s&&s.key===u.key?"":(""+u.key).replace(T,"$&/")+"/")+e)),t.push(u)),1;if(s=0,a=""===a?".":a+":",k(e))for(var c=0;c<e.length;c++){var l=a+S(o=e[c],c);s+=I(o,t,i,l,u)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(o=e.next()).done;)s+=I(o=o.value,t,i,l=a+S(o,c++),u);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function D(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var F={current:null},O={transition:null},R={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:O,ReactCurrentOwner:x};t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=u,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,u=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,o=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)E.call(t,c)&&!A.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:u,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return F.current.useCallback(e,t)},t.useContext=function(e){return F.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return F.current.useDeferredValue(e)},t.useEffect=function(e,t){return F.current.useEffect(e,t)},t.useId=function(){return F.current.useId()},t.useImperativeHandle=function(e,t,n){return F.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return F.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return F.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return F.current.useMemo(e,t)},t.useReducer=function(e,t,n){return F.current.useReducer(e,t,n)},t.useRef=function(e){return F.current.useRef(e)},t.useState=function(e){return F.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return F.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return F.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,u=i>>>1;r<u;){var o=2*(r+1)-1,s=e[o],c=o+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[o]=n,r=o);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var u=performance;t.unstable_now=function(){return u.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function k(e){if(m=!1,w(e),!v)if(null!==r(c))v=!0,O(E);else{var t=r(l);null!==t&&R(k,t.startTime-e)}}function E(e,n){v=!1,m&&(m=!1,y(C),C=-1),p=!0;var a=d;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var u=h.callback;if("function"===typeof u){h.callback=null,d=h.priorityLevel;var o=u(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(k,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,A=!1,_=null,C=-1,T=5,S=-1;function I(){return!(t.unstable_now()-S<T)}function D(){if(null!==_){var e=t.unstable_now();S=e;var n=!0;try{n=_(!0,e)}finally{n?x():(A=!1,_=null)}}else A=!1}if("function"===typeof b)x=function(){b(D)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,F=N.port2;N.port1.onmessage=D,x=function(){F.postMessage(null)}}else x=function(){g(D,0)};function O(e){_=e,A||(A=!0,x())}function R(e,n){C=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var u=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?u+a:u:a=u,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>u?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(C),C=-1):m=!0,R(k,a-u))):(e.sortIndex=o,n(c,e),v||p||(v=!0,O(E))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},830:function(e,t,n){var r=n(575).default,i=n(913).default,a=n(525).default,u=n(754).default,o=n(205).default,s=n(842).default,c=n(100).default;e.exports=function(){"use strict";var e={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},t="swal2-",n=function(e){var n={};for(var r in e)n[e[r]]=t+e[r];return n},l=n(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),f=n(["success","warning","info","question","error"]),h="SweetAlert2:",d=function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t},p=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},v=function(e){console.warn("".concat(h," ").concat("object"===typeof e?e.join(" "):e))},m=function(e){console.error("".concat(h," ").concat(e))},g=[],y=function(e){g.includes(e)||(g.push(e),v(e))},b=function(e,t){y('"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(t,'" instead.'))},w=function(e){return"function"===typeof e?e():e},k=function(e){return e&&"function"===typeof e.toPromise},E=function(e){return k(e)?e.toPromise():Promise.resolve(e)},x=function(e){return e&&Promise.resolve(e)===e},A=function(){return document.body.querySelector(".".concat(l.container))},_=function(e){var t=A();return t?t.querySelector(e):null},C=function(e){return _(".".concat(e))},T=function(){return C(l.popup)},S=function(){return C(l.icon)},I=function(){return C(l["icon-content"])},D=function(){return C(l.title)},N=function(){return C(l["html-container"])},F=function(){return C(l.image)},O=function(){return C(l["progress-steps"])},R=function(){return C(l["validation-message"])},P=function(){return _(".".concat(l.actions," .").concat(l.confirm))},L=function(){return _(".".concat(l.actions," .").concat(l.cancel))},B=function(){return _(".".concat(l.actions," .").concat(l.deny))},M=function(){return C(l["input-label"])},j=function(){return _(".".concat(l.loader))},U=function(){return C(l.actions)},V=function(){return C(l.footer)},z=function(){return C(l["timer-progress-bar"])},q=function(){return C(l.close)},W='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',H=function(){var e=Array.from(T().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((function(e,t){var n=parseInt(e.getAttribute("tabindex")),r=parseInt(t.getAttribute("tabindex"));return n>r?1:n<r?-1:0})),t=Array.from(T().querySelectorAll(W)).filter((function(e){return"-1"!==e.getAttribute("tabindex")}));return d(e.concat(t)).filter((function(e){return fe(e)}))},G=function(){return X(document.body,l.shown)&&!X(document.body,l["toast-shown"])&&!X(document.body,l["no-backdrop"])},K=function(){return T()&&X(T(),l.toast)},Q=function(){return T().hasAttribute("data-loading")},Y={previousBodyPadding:null},$=function(e,t){if(e.textContent="",t){var n=(new DOMParser).parseFromString(t,"text/html");Array.from(n.querySelector("head").childNodes).forEach((function(t){e.appendChild(t)})),Array.from(n.querySelector("body").childNodes).forEach((function(t){t instanceof HTMLVideoElement||t instanceof HTMLAudioElement?e.appendChild(t.cloneNode(!0)):e.appendChild(t)}))}},X=function(e,t){if(!t)return!1;for(var n=t.split(/\s+/),r=0;r<n.length;r++)if(!e.classList.contains(n[r]))return!1;return!0},J=function(e,t){Array.from(e.classList).forEach((function(n){Object.values(l).includes(n)||Object.values(f).includes(n)||Object.values(t.showClass).includes(n)||e.classList.remove(n)}))},Z=function(e,t,n){if(J(e,t),t.customClass&&t.customClass[n]){if("string"!==typeof t.customClass[n]&&!t.customClass[n].forEach)return void v("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(typeof t.customClass[n],'"'));re(e,t.customClass[n])}},ee=function(e,t){if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(".".concat(l.popup," > .").concat(l[t]));case"checkbox":return e.querySelector(".".concat(l.popup," > .").concat(l.checkbox," input"));case"radio":return e.querySelector(".".concat(l.popup," > .").concat(l.radio," input:checked"))||e.querySelector(".".concat(l.popup," > .").concat(l.radio," input:first-child"));case"range":return e.querySelector(".".concat(l.popup," > .").concat(l.range," input"));default:return e.querySelector(".".concat(l.popup," > .").concat(l.input))}},te=function(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},ne=function(e,t,n){e&&t&&("string"===typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((function(t){Array.isArray(e)?e.forEach((function(e){n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},re=function(e,t){ne(e,t,!0)},ie=function(e,t){ne(e,t,!1)},ae=function(e,t){for(var n=Array.from(e.children),r=0;r<n.length;r++){var i=n[r];if(i instanceof HTMLElement&&X(i,t))return i}},ue=function(e,t,n){n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?e.style[t]="number"===typeof n?"".concat(n,"px"):n:e.style.removeProperty(t)},oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e.style.display=t},se=function(e){e.style.display="none"},ce=function(e,t,n,r){var i=e.querySelector(t);i&&(i.style[n]=r)},le=function(e,t){t?oe(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):se(e)},fe=function(e){return!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))},he=function(){return!fe(P())&&!fe(B())&&!fe(L())},de=function(e){return!!(e.scrollHeight>e.clientHeight)},pe=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||r>0},ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=z();fe(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout((function(){n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"}),10))},me=function(){var e=z(),t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";var n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.width="".concat(n,"%")},ge=100,ye={},be=function(){ye.previousActiveElement instanceof HTMLElement?(ye.previousActiveElement.focus(),ye.previousActiveElement=null):document.body&&document.body.focus()},we=function(e){return new Promise((function(t){if(!e)return t();var n=window.scrollX,r=window.scrollY;ye.restoreFocusTimeout=setTimeout((function(){be(),t()}),ge),window.scrollTo(n,r)}))},ke=function(){return"undefined"===typeof window||"undefined"===typeof document},Ee='\n <div aria-labelledby="'.concat(l.title,'" aria-describedby="').concat(l["html-container"],'" class="').concat(l.popup,'" tabindex="-1">\n   <button type="button" class="').concat(l.close,'"></button>\n   <ul class="').concat(l["progress-steps"],'"></ul>\n   <div class="').concat(l.icon,'"></div>\n   <img class="').concat(l.image,'" />\n   <h2 class="').concat(l.title,'" id="').concat(l.title,'"></h2>\n   <div class="').concat(l["html-container"],'" id="').concat(l["html-container"],'"></div>\n   <input class="').concat(l.input,'" />\n   <input type="file" class="').concat(l.file,'" />\n   <div class="').concat(l.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(l.select,'"></select>\n   <div class="').concat(l.radio,'"></div>\n   <label for="').concat(l.checkbox,'" class="').concat(l.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(l.label,'"></span>\n   </label>\n   <textarea class="').concat(l.textarea,'"></textarea>\n   <div class="').concat(l["validation-message"],'" id="').concat(l["validation-message"],'"></div>\n   <div class="').concat(l.actions,'">\n     <div class="').concat(l.loader,'"></div>\n     <button type="button" class="').concat(l.confirm,'"></button>\n     <button type="button" class="').concat(l.deny,'"></button>\n     <button type="button" class="').concat(l.cancel,'"></button>\n   </div>\n   <div class="').concat(l.footer,'"></div>\n   <div class="').concat(l["timer-progress-bar-container"],'">\n     <div class="').concat(l["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),xe=function(){var e=A();return!!e&&(e.remove(),ie([document.documentElement,document.body],[l["no-backdrop"],l["toast-shown"],l["has-column"]]),!0)},Ae=function(){ye.currentInstance.resetValidationMessage()},_e=function(){var e=T(),t=ae(e,l.input),n=ae(e,l.file),r=e.querySelector(".".concat(l.range," input")),i=e.querySelector(".".concat(l.range," output")),a=ae(e,l.select),u=e.querySelector(".".concat(l.checkbox," input")),o=ae(e,l.textarea);t.oninput=Ae,n.onchange=Ae,a.onchange=Ae,u.onchange=Ae,o.oninput=Ae,r.oninput=function(){Ae(),i.value=r.value},r.onchange=function(){Ae(),i.value=r.value}},Ce=function(e){return"string"===typeof e?document.querySelector(e):e},Te=function(e){var t=T();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},Se=function(e){"rtl"===window.getComputedStyle(e).direction&&re(A(),l.rtl)},Ie=function(e){var t=xe();if(ke())m("SweetAlert2 requires document to initialize");else{var n=document.createElement("div");n.className=l.container,t&&re(n,l["no-transition"]),$(n,Ee);var r=Ce(e.target);r.appendChild(n),Te(e),Se(r),_e()}},De=function(e,t){e instanceof HTMLElement?t.appendChild(e):"object"===typeof e?Ne(e,t):e&&$(t,e)},Ne=function(e,t){e.jquery?Fe(t,e):$(t,e.toString())},Fe=function(e,t){if(e.textContent="",0 in t)for(var n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},Oe=function(){if(ke())return!1;var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&"undefined"!==typeof e.style[n])return t[n];return!1}(),Re=function(){var e=document.createElement("div");e.className=l["scrollbar-measure"],document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},Pe=function(e,t){var n=U(),r=j();t.showConfirmButton||t.showDenyButton||t.showCancelButton?oe(n):se(n),Z(n,t,"actions"),Le(n,r,t),$(r,t.loaderHtml),Z(r,t,"loader")};function Le(e,t,n){var r=P(),i=B(),a=L();Me(r,"confirm",n),Me(i,"deny",n),Me(a,"cancel",n),Be(r,i,a,n),n.reverseButtons&&(n.toast?(e.insertBefore(a,r),e.insertBefore(i,r)):(e.insertBefore(a,t),e.insertBefore(i,t),e.insertBefore(r,t)))}function Be(e,t,n,r){r.buttonsStyling?(re([e,t,n],l.styled),r.confirmButtonColor&&(e.style.backgroundColor=r.confirmButtonColor,re(e,l["default-outline"])),r.denyButtonColor&&(t.style.backgroundColor=r.denyButtonColor,re(t,l["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,re(n,l["default-outline"]))):ie([e,t,n],l.styled)}function Me(e,t,n){le(e,n["show".concat(p(t),"Button")],"inline-block"),$(e,n["".concat(t,"ButtonText")]),e.setAttribute("aria-label",n["".concat(t,"ButtonAriaLabel")]),e.className=l[t],Z(e,n,"".concat(t,"Button")),re(e,n["".concat(t,"ButtonClass")])}var je=function(e,t){var n=q();$(n,t.closeButtonHtml),Z(n,t,"closeButton"),le(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel)},Ue=function(e,t){var n=A();n&&(Ve(n,t.backdrop),ze(n,t.position),qe(n,t.grow),Z(n,t,"container"))};function Ve(e,t){"string"===typeof t?e.style.background=t:t||re([document.documentElement,document.body],l["no-backdrop"])}function ze(e,t){t in l?re(e,l[t]):(v('The "position" parameter is not valid, defaulting to "center"'),re(e,l.center))}function qe(e,t){if(t&&"string"===typeof t){var n="grow-".concat(t);n in l&&re(e,l[n])}}var We=["input","file","range","select","radio","checkbox","textarea"],He=function(t,n){var r=T(),i=e.innerParams.get(t),a=!i||n.input!==i.input;We.forEach((function(e){var t=ae(r,l[e]);Qe(e,n.inputAttributes),t.className=l[e],a&&se(t)})),n.input&&(a&&Ge(n),Ye(n))},Ge=function(e){if(et[e.input]){var t=Je(e.input),n=et[e.input](t,e);oe(t),e.inputAutoFocus&&setTimeout((function(){te(n)}))}else m('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'))},Ke=function(e){for(var t=0;t<e.attributes.length;t++){var n=e.attributes[t].name;["type","value","style"].includes(n)||e.removeAttribute(n)}},Qe=function(e,t){var n=ee(T(),e);if(n)for(var r in Ke(n),t)n.setAttribute(r,t[r])},Ye=function(e){var t=Je(e.input);"object"===typeof e.customClass&&re(t,e.customClass.input)},$e=function(e,t){e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},Xe=function(e,t,n){if(n.inputLabel){e.id=l.input;var r=document.createElement("label"),i=l["input-label"];r.setAttribute("for",e.id),r.className=i,"object"===typeof n.customClass&&re(r,n.customClass.inputLabel),r.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",r)}},Je=function(e){return ae(T(),l[e]||l.input)},Ze=function(e,t){["string","number"].includes(typeof t)?e.value="".concat(t):x(t)||v('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof t,'"'))},et={};et.text=et.email=et.password=et.number=et.tel=et.url=function(e,t){return Ze(e,t.inputValue),Xe(e,e,t),$e(e,t),e.type=t.input,e},et.file=function(e,t){return Xe(e,e,t),$e(e,t),e},et.range=function(e,t){var n=e.querySelector("input"),r=e.querySelector("output");return Ze(n,t.inputValue),n.type=t.input,Ze(r,t.inputValue),Xe(n,e,t),e},et.select=function(e,t){if(e.textContent="",t.inputPlaceholder){var n=document.createElement("option");$(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return Xe(e,e,t),e},et.radio=function(e){return e.textContent="",e},et.checkbox=function(e,t){var n=ee(T(),"checkbox");n.value="1",n.id=l.checkbox,n.checked=Boolean(t.inputValue);var r=e.querySelector("span");return $(r,t.inputPlaceholder),n},et.textarea=function(e,t){Ze(e,t.inputValue),$e(e,t),Xe(e,e,t);var n=function(e){return parseInt(window.getComputedStyle(e).marginLeft)+parseInt(window.getComputedStyle(e).marginRight)};return setTimeout((function(){if("MutationObserver"in window){var t=parseInt(window.getComputedStyle(T()).width);new MutationObserver((function(){var r=e.offsetWidth+n(e);T().style.width=r>t?"".concat(r,"px"):null})).observe(e,{attributes:!0,attributeFilter:["style"]})}})),e};var tt=function(e,t){var n=N();Z(n,t,"htmlContainer"),t.html?(De(t.html,n),oe(n,"block")):t.text?(n.textContent=t.text,oe(n,"block")):se(n),He(e,t)},nt=function(e,t){var n=V();le(n,t.footer),t.footer&&De(t.footer,n),Z(n,t,"footer")},rt=function(t,n){var r=e.innerParams.get(t),i=S();if(r&&n.icon===r.icon)return st(i,n),void it(i,n);if(n.icon||n.iconHtml){if(n.icon&&-1===Object.keys(f).indexOf(n.icon))return m('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(n.icon,'"')),void se(i);oe(i),st(i,n),it(i,n),re(i,n.showClass.icon)}else se(i)},it=function(e,t){for(var n in f)t.icon!==n&&ie(e,f[n]);re(e,f[t.icon]),ct(e,t),at(),Z(e,t,"icon")},at=function(){for(var e=T(),t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),r=0;r<n.length;r++)n[r].style.backgroundColor=t},ut='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',ot='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',st=function(e,t){var n,r=e.innerHTML;t.iconHtml?n=lt(t.iconHtml):"success"===t.icon?(n=ut,r=r.replace(/ style=".*?"/g,"")):n="error"===t.icon?ot:lt({question:"?",warning:"!",info:"i"}[t.icon]),r.trim()!==n.trim()&&$(e,n)},ct=function(e,t){if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(var n=0,r=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];n<r.length;n++){var i=r[n];ce(e,i,"backgroundColor",t.iconColor)}ce(e,".swal2-success-ring","borderColor",t.iconColor)}},lt=function(e){return'<div class="'.concat(l["icon-content"],'">').concat(e,"</div>")},ft=function(e,t){var n=F();t.imageUrl?(oe(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt),ue(n,"width",t.imageWidth),ue(n,"height",t.imageHeight),n.className=l.image,Z(n,t,"image")):se(n)},ht=function(e,t){var n=A(),r=T();t.toast?(ue(n,"width",t.width),r.style.width="100%",r.insertBefore(j(),S())):ue(r,"width",t.width),ue(r,"padding",t.padding),t.color&&(r.style.color=t.color),t.background&&(r.style.background=t.background),se(R()),dt(r,t)},dt=function(e,t){e.className="".concat(l.popup," ").concat(fe(e)?t.showClass.popup:""),t.toast?(re([document.documentElement,document.body],l["toast-shown"]),re(e,l.toast)):re(e,l.modal),Z(e,t,"popup"),"string"===typeof t.customClass&&re(e,t.customClass),t.icon&&re(e,l["icon-".concat(t.icon)])},pt=function(e,t){var n=O();t.progressSteps&&0!==t.progressSteps.length?(oe(n),n.textContent="",t.currentProgressStep>=t.progressSteps.length&&v("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach((function(e,r){var i=vt(e);if(n.appendChild(i),r===t.currentProgressStep&&re(i,l["active-progress-step"]),r!==t.progressSteps.length-1){var a=mt(t);n.appendChild(a)}}))):se(n)},vt=function(e){var t=document.createElement("li");return re(t,l["progress-step"]),$(t,e),t},mt=function(e){var t=document.createElement("li");return re(t,l["progress-step-line"]),e.progressStepsDistance&&ue(t,"width",e.progressStepsDistance),t},gt=function(e,t){var n=D();le(n,t.title||t.titleText,"block"),t.title&&De(t.title,n),t.titleText&&(n.innerText=t.titleText),Z(n,t,"title")},yt=function(e,t){ht(e,t),Ue(e,t),pt(e,t),rt(e,t),ft(e,t),gt(e,t),je(e,t),tt(e,t),Pe(e,t),nt(e,t),"function"===typeof t.didRender&&t.didRender(T())};function bt(){var t=e.innerParams.get(this);if(t){var n=e.domCache.get(this);se(n.loader),K()?t.icon&&oe(S()):wt(n),ie([n.popup,n.actions],l.loading),n.popup.removeAttribute("aria-busy"),n.popup.removeAttribute("data-loading"),n.confirmButton.disabled=!1,n.denyButton.disabled=!1,n.cancelButton.disabled=!1}}var wt=function(e){var t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?oe(t[0],"inline-block"):he()&&se(e.actions)};function kt(t){var n=e.innerParams.get(t||this),r=e.domCache.get(t||this);return r?ee(r.popup,n.input):null}var Et=function(){return fe(T())},xt=function(){return P()&&P().click()},At=function(){return B()&&B().click()},_t=function(){return L()&&L().click()},Ct=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Tt=function(e){e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},St=function(e,t,n,r){Tt(t),n.toast||(t.keydownHandler=function(t){return Ft(e,t,r)},t.keydownTarget=n.keydownListenerCapture?window:T(),t.keydownListenerCapture=n.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},It=function(e,t){var n=H();if(n.length)return(e+=t)===n.length?e=0:-1===e&&(e=n.length-1),void n[e].focus();T().focus()},Dt=["ArrowRight","ArrowDown"],Nt=["ArrowLeft","ArrowUp"],Ft=function(t,n,r){var i=e.innerParams.get(t);i&&(n.isComposing||229===n.keyCode||(i.stopKeydownPropagation&&n.stopPropagation(),"Enter"===n.key?Ot(t,n,i):"Tab"===n.key?Rt(n):[].concat(Dt,Nt).includes(n.key)?Pt(n.key):"Escape"===n.key&&Lt(n,i,r)))},Ot=function(e,t,n){if(w(n.allowEnterKey)&&t.target&&e.getInput()&&t.target instanceof HTMLElement&&t.target.outerHTML===e.getInput().outerHTML){if(["textarea","file"].includes(n.input))return;xt(),t.preventDefault()}},Rt=function(e){for(var t=e.target,n=H(),r=-1,i=0;i<n.length;i++)if(t===n[i]){r=i;break}e.shiftKey?It(r,-1):It(r,1),e.stopPropagation(),e.preventDefault()},Pt=function(e){var t=[P(),B(),L()];if(!(document.activeElement instanceof HTMLElement)||t.includes(document.activeElement)){for(var n=Dt.includes(e)?"nextElementSibling":"previousElementSibling",r=document.activeElement,i=0;i<U().children.length;i++){if(!(r=r[n]))return;if(r instanceof HTMLButtonElement&&fe(r))break}r instanceof HTMLButtonElement&&r.focus()}},Lt=function(e,t,n){w(t.allowEscapeKey)&&(e.preventDefault(),n(Ct.esc))},Bt={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},Mt=function(){Array.from(document.body.children).forEach((function(e){e===A()||e.contains(A())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}))},jt=function(){Array.from(document.body.children).forEach((function(e){e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))},Ut=function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!X(document.body,l.iosfix)){var e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),re(document.body,l.iosfix),zt(),Vt()}},Vt=function(){var e=navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),n=!!e.match(/WebKit/i);if(t&&n&&!e.match(/CriOS/i)){var r=44;T().scrollHeight>window.innerHeight-r&&(A().style.paddingBottom="".concat(r,"px"))}},zt=function(){var e,t=A();t.ontouchstart=function(t){e=qt(t)},t.ontouchmove=function(t){e&&(t.preventDefault(),t.stopPropagation())}},qt=function(e){var t=e.target,n=A();return!Wt(e)&&!Ht(e)&&(t===n||!de(n)&&t instanceof HTMLElement&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&(!de(N())||!N().contains(t)))},Wt=function(e){return e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType},Ht=function(e){return e.touches&&e.touches.length>1},Gt=function(){if(X(document.body,l.iosfix)){var e=parseInt(document.body.style.top,10);ie(document.body,l.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},Kt=function(){null===Y.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Y.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Y.previousBodyPadding+Re(),"px"))},Qt=function(){null!==Y.previousBodyPadding&&(document.body.style.paddingRight="".concat(Y.previousBodyPadding,"px"),Y.previousBodyPadding=null)};function Yt(e,t,n,r){K()?un(e,r):(we(n).then((function(){return un(e,r)})),Tt(ye)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),G()&&(Qt(),Gt(),jt()),$t()}function $t(){ie([document.documentElement,document.body],[l.shown,l["height-auto"],l["no-backdrop"],l["toast-shown"]])}function Xt(e){e=nn(e);var t=Bt.swalPromiseResolve.get(this),n=Zt(this);this.isAwaitingPromise()?e.isDismissed||(tn(this),t(e)):n&&t(e)}function Jt(){return!!e.awaitingPromise.get(this)}var Zt=function(t){var n=T();if(!n)return!1;var r=e.innerParams.get(t);if(!r||X(n,r.hideClass.popup))return!1;ie(n,r.showClass.popup),re(n,r.hideClass.popup);var i=A();return ie(i,r.showClass.backdrop),re(i,r.hideClass.backdrop),rn(t,n,r),!0};function en(e){var t=Bt.swalPromiseReject.get(this);tn(this),t&&t(e)}var tn=function(t){t.isAwaitingPromise()&&(e.awaitingPromise.delete(t),e.innerParams.get(t)||t._destroy())},nn=function(e){return"undefined"===typeof e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e)},rn=function(e,t,n){var r=A(),i=Oe&&pe(t);"function"===typeof n.willClose&&n.willClose(t),i?an(e,t,r,n.returnFocus,n.didClose):Yt(e,r,n.returnFocus,n.didClose)},an=function(e,t,n,r,i){ye.swalCloseEventFinishedCallback=Yt.bind(null,e,n,r,i),t.addEventListener(Oe,(function(e){e.target===t&&(ye.swalCloseEventFinishedCallback(),delete ye.swalCloseEventFinishedCallback)}))},un=function(e,t){setTimeout((function(){"function"===typeof t&&t.bind(e.params)(),e._destroy()}))};function on(t,n,r){var i=e.domCache.get(t);n.forEach((function(e){i[e].disabled=r}))}function sn(e,t){if(e)if("radio"===e.type)for(var n=e.parentNode.parentNode.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=t;else e.disabled=t}function cn(){on(this,["confirmButton","denyButton","cancelButton"],!1)}function ln(){on(this,["confirmButton","denyButton","cancelButton"],!0)}function fn(){sn(this.getInput(),!1)}function hn(){sn(this.getInput(),!0)}function dn(t){var n=e.domCache.get(this),r=e.innerParams.get(this);$(n.validationMessage,t),n.validationMessage.className=l["validation-message"],r.customClass&&r.customClass.validationMessage&&re(n.validationMessage,r.customClass.validationMessage),oe(n.validationMessage);var i=this.getInput();i&&(i.setAttribute("aria-invalid",!0),i.setAttribute("aria-describedby",l["validation-message"]),te(i),re(i,l.inputerror))}function pn(){var t=e.domCache.get(this);t.validationMessage&&se(t.validationMessage);var n=this.getInput();n&&(n.removeAttribute("aria-invalid"),n.removeAttribute("aria-describedby"),ie(n,l.inputerror))}var vn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},mn=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],gn={},yn=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],bn=function(e){return Object.prototype.hasOwnProperty.call(vn,e)},wn=function(e){return-1!==mn.indexOf(e)},kn=function(e){return gn[e]},En=function(e){bn(e)||v('Unknown parameter "'.concat(e,'"'))},xn=function(e){yn.includes(e)&&v('The parameter "'.concat(e,'" is incompatible with toasts'))},An=function(e){kn(e)&&b(e,kn(e))},_n=function(e){for(var t in!1===e.backdrop&&e.allowOutsideClick&&v('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e)En(t),e.toast&&xn(t),An(t)};function Cn(t){var n=T(),r=e.innerParams.get(this);if(n&&!X(n,r.hideClass.popup)){var i=Tn(t),a=Object.assign({},r,i);yt(this,a),e.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}else v("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.")}var Tn=function(e){var t={};return Object.keys(e).forEach((function(n){wn(n)?t[n]=e[n]:v("Invalid parameter to update: ".concat(n))})),t};function Sn(){var t=e.domCache.get(this),n=e.innerParams.get(this);n?(t.popup&&ye.swalCloseEventFinishedCallback&&(ye.swalCloseEventFinishedCallback(),delete ye.swalCloseEventFinishedCallback),"function"===typeof n.didDestroy&&n.didDestroy(),In(this)):Dn(this)}var In=function(e){Dn(e),delete e.params,delete ye.keydownHandler,delete ye.keydownTarget,delete ye.currentInstance},Dn=function(t){t.isAwaitingPromise()?(Nn(e,t),e.awaitingPromise.set(t,!0)):(Nn(Bt,t),Nn(e,t))},Nn=function(e,t){for(var n in e)e[n].delete(t)},Fn=Object.freeze({__proto__:null,hideLoading:bt,disableLoading:bt,getInput:kt,close:Xt,isAwaitingPromise:Jt,rejectPromise:en,handleAwaitingPromise:tn,closePopup:Xt,closeModal:Xt,closeToast:Xt,enableButtons:cn,disableButtons:ln,enableInput:fn,disableInput:hn,showValidationMessage:dn,resetValidationMessage:pn,update:Cn,_destroy:Sn}),On=function(e){var t=T();t||new ni,t=T();var n=j();K()?se(S()):Rn(t,e),oe(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},Rn=function(e,t){var n=U(),r=j();!t&&fe(P())&&(t=P()),oe(n),t&&(se(t),r.setAttribute("data-button-to-replace",t.className)),r.parentNode.insertBefore(r,t),re([e,n],l.loading)},Pn=function(e,t){"select"===t.input||"radio"===t.input?Un(e,t):["text","email","number","tel","textarea"].includes(t.input)&&(k(t.inputValue)||x(t.inputValue))&&(On(P()),Vn(e,t))},Ln=function(e,t){var n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return Bn(n);case"radio":return Mn(n);case"file":return jn(n);default:return t.inputAutoTrim?n.value.trim():n.value}},Bn=function(e){return e.checked?1:0},Mn=function(e){return e.checked?e.value:null},jn=function(e){return e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null},Un=function(e,t){var n=T(),r=function(e){zn[t.input](n,qn(e),t)};k(t.inputOptions)||x(t.inputOptions)?(On(P()),E(t.inputOptions).then((function(t){e.hideLoading(),r(t)}))):"object"===typeof t.inputOptions?r(t.inputOptions):m("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof t.inputOptions))},Vn=function(e,t){var n=e.getInput();se(n),E(t.inputValue).then((function(r){n.value="number"===t.input?"".concat(parseFloat(r)||0):"".concat(r),oe(n),n.focus(),e.hideLoading()})).catch((function(t){m("Error in inputValue promise: ".concat(t)),n.value="",oe(n),n.focus(),e.hideLoading()}))},zn={select:function(e,t,n){var r=ae(e,l.select),i=function(e,t,r){var i=document.createElement("option");i.value=r,$(i,t),i.selected=Wn(r,n.inputValue),e.appendChild(i)};t.forEach((function(e){var t=e[0],n=e[1];if(Array.isArray(n)){var a=document.createElement("optgroup");a.label=t,a.disabled=!1,r.appendChild(a),n.forEach((function(e){return i(a,e[1],e[0])}))}else i(r,n,t)})),r.focus()},radio:function(e,t,n){var r=ae(e,l.radio);t.forEach((function(e){var t=e[0],i=e[1],a=document.createElement("input"),u=document.createElement("label");a.type="radio",a.name=l.radio,a.value=t,Wn(t,n.inputValue)&&(a.checked=!0);var o=document.createElement("span");$(o,i),o.className=l.label,u.appendChild(a),u.appendChild(o),r.appendChild(u)}));var i=r.querySelectorAll("input");i.length&&i[0].focus()}},qn=function e(t){var n=[];return"undefined"!==typeof Map&&t instanceof Map?t.forEach((function(t,r){var i=t;"object"===typeof i&&(i=e(i)),n.push([r,i])})):Object.keys(t).forEach((function(r){var i=t[r];"object"===typeof i&&(i=e(i)),n.push([r,i])})),n},Wn=function(e,t){return t&&t.toString()===e.toString()},Hn=function(t){var n=e.innerParams.get(t);t.disableButtons(),n.input?Qn(t,"confirm"):Zn(t,!0)},Gn=function(t){var n=e.innerParams.get(t);t.disableButtons(),n.returnInputValueOnDeny?Qn(t,"deny"):$n(t,!1)},Kn=function(e,t){e.disableButtons(),t(Ct.cancel)},Qn=function(t,n){var r=e.innerParams.get(t);if(r.input){var i=Ln(t,r);r.inputValidator?Yn(t,i,n):t.getInput().checkValidity()?"deny"===n?$n(t,i):Zn(t,i):(t.enableButtons(),t.showValidationMessage(r.validationMessage))}else m('The "input" parameter is needed to be set when using returnInputValueOn'.concat(p(n)))},Yn=function(t,n,r){var i=e.innerParams.get(t);t.disableInput(),Promise.resolve().then((function(){return E(i.inputValidator(n,i.validationMessage))})).then((function(e){t.enableButtons(),t.enableInput(),e?t.showValidationMessage(e):"deny"===r?$n(t,n):Zn(t,n)}))},$n=function(t,n){var r=e.innerParams.get(t||void 0);r.showLoaderOnDeny&&On(B()),r.preDeny?(e.awaitingPromise.set(t||void 0,!0),Promise.resolve().then((function(){return E(r.preDeny(n,r.validationMessage))})).then((function(e){!1===e?(t.hideLoading(),tn(t)):t.close({isDenied:!0,value:"undefined"===typeof e?n:e})})).catch((function(e){return Jn(t||void 0,e)}))):t.close({isDenied:!0,value:n})},Xn=function(e,t){e.close({isConfirmed:!0,value:t})},Jn=function(e,t){e.rejectPromise(t)},Zn=function(t,n){var r=e.innerParams.get(t||void 0);r.showLoaderOnConfirm&&On(),r.preConfirm?(t.resetValidationMessage(),e.awaitingPromise.set(t||void 0,!0),Promise.resolve().then((function(){return E(r.preConfirm(n,r.validationMessage))})).then((function(e){fe(R())||!1===e?(t.hideLoading(),tn(t)):Xn(t,"undefined"===typeof e?n:e)})).catch((function(e){return Jn(t||void 0,e)}))):Xn(t,n)},er=function(t,n,r){e.innerParams.get(t).toast?tr(t,n,r):(ir(n),ar(n),ur(t,n,r))},tr=function(t,n,r){n.popup.onclick=function(){var n=e.innerParams.get(t);n&&(nr(n)||n.timer||n.input)||r(Ct.close)}},nr=function(e){return e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton},rr=!1,ir=function(e){e.popup.onmousedown=function(){e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(rr=!0)}}},ar=function(e){e.container.onmousedown=function(){e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,(t.target===e.popup||e.popup.contains(t.target))&&(rr=!0)}}},ur=function(t,n,r){n.container.onclick=function(i){var a=e.innerParams.get(t);rr?rr=!1:i.target===n.container&&w(a.allowOutsideClick)&&r(Ct.backdrop)}},or=function(e){return"object"===typeof e&&e.jquery},sr=function(e){return e instanceof Element||or(e)},cr=function(e){var t={};return"object"!==typeof e[0]||sr(e[0])?["title","html","icon"].forEach((function(n,r){var i=e[r];"string"===typeof i||sr(i)?t[n]=i:void 0!==i&&m("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof i))})):Object.assign(t,e[0]),t};function lr(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return c(e,n)}function fr(e){var t=function(t){o(c,t);var n=s(c);function c(){return r(this,c),n.apply(this,arguments)}return i(c,[{key:"_main",value:function(t,n){return a(u(c.prototype),"_main",this).call(this,t,Object.assign({},e,n))}}]),c}(this);return t}var hr=function(){return ye.timeout&&ye.timeout.getTimerLeft()},dr=function(){if(ye.timeout)return me(),ye.timeout.stop()},pr=function(){if(ye.timeout){var e=ye.timeout.start();return ve(e),e}},vr=function(){var e=ye.timeout;return e&&(e.running?dr():pr())},mr=function(e){if(ye.timeout){var t=ye.timeout.increase(e);return ve(t,!0),t}},gr=function(){return ye.timeout&&ye.timeout.isRunning()},yr=!1,br={};function wr(){br[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,yr||(document.body.addEventListener("click",Er),yr=!0)}var kr,Er=function(e){for(var t=e.target;t&&t!==document;t=t.parentNode)for(var n in br){var r=t.getAttribute(n);if(r)return void br[n].fire({template:r})}},xr=Object.freeze({__proto__:null,isValidParameter:bn,isUpdatableParameter:wn,isDeprecatedParameter:kn,argsToParams:cr,getContainer:A,getPopup:T,getTitle:D,getHtmlContainer:N,getImage:F,getIcon:S,getIconContent:I,getInputLabel:M,getCloseButton:q,getActions:U,getConfirmButton:P,getDenyButton:B,getCancelButton:L,getLoader:j,getFooter:V,getTimerProgressBar:z,getFocusableElements:H,getValidationMessage:R,getProgressSteps:O,isLoading:Q,isVisible:Et,clickConfirm:xt,clickDeny:At,clickCancel:_t,fire:lr,mixin:fr,showLoading:On,enableLoading:On,getTimerLeft:hr,stopTimer:dr,resumeTimer:pr,toggleTimer:vr,increaseTimer:mr,isTimerRunning:gr,bindClickHandler:wr}),Ar=function(){function e(t,n){r(this,e),this.callback=t,this.remaining=n,this.running=!1,this.start()}return i(e,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(e){var t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),e}(),_r=["swal-title","swal-html","swal-footer"],Cr=function(e){var t="string"===typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};var n=t.content;return Rr(n),Object.assign(Tr(n),Sr(n),Ir(n),Dr(n),Nr(n),Fr(n),Or(n,_r))},Tr=function(e){var t={};return Array.from(e.querySelectorAll("swal-param")).forEach((function(e){Pr(e,["name","value"]);var n=e.getAttribute("name"),r=e.getAttribute("value");"boolean"===typeof vn[n]?t[n]="false"!==r:"object"===typeof vn[n]?t[n]=JSON.parse(r):t[n]=r})),t},Sr=function(e){var t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach((function(e){var n=e.getAttribute("name"),r=e.getAttribute("value");t[n]=new Function("return ".concat(r))()})),t},Ir=function(e){var t={};return Array.from(e.querySelectorAll("swal-button")).forEach((function(e){Pr(e,["type","color","aria-label"]);var n=e.getAttribute("type");t["".concat(n,"ButtonText")]=e.innerHTML,t["show".concat(p(n),"Button")]=!0,e.hasAttribute("color")&&(t["".concat(n,"ButtonColor")]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(t["".concat(n,"ButtonAriaLabel")]=e.getAttribute("aria-label"))})),t},Dr=function(e){var t={},n=e.querySelector("swal-image");return n&&(Pr(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt"))),t},Nr=function(e){var t={},n=e.querySelector("swal-icon");return n&&(Pr(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},Fr=function(e){var t={},n=e.querySelector("swal-input");n&&(Pr(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));var r=Array.from(e.querySelectorAll("swal-input-option"));return r.length&&(t.inputOptions={},r.forEach((function(e){Pr(e,["value"]);var n=e.getAttribute("value"),r=e.innerHTML;t.inputOptions[n]=r}))),t},Or=function(e,t){var n={};for(var r in t){var i=t[r],a=e.querySelector(i);a&&(Pr(a,[]),n[i.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},Rr=function(e){var t=_r.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach((function(e){var n=e.tagName.toLowerCase();t.includes(n)||v("Unrecognized element <".concat(n,">"))}))},Pr=function(e,t){Array.from(e.attributes).forEach((function(n){-1===t.indexOf(n.name)&&v(['Unrecognized attribute "'.concat(n.name,'" on <').concat(e.tagName.toLowerCase(),">."),"".concat(t.length?"Allowed attributes are: ".concat(t.join(", ")):"To set the value, use HTML within the element.")])}))},Lr=10,Br=function(e){var t=A(),n=T();"function"===typeof e.willOpen&&e.willOpen(n);var r=window.getComputedStyle(document.body).overflowY;Vr(t,n,e),setTimeout((function(){jr(t,n)}),Lr),G()&&(Ur(t,e.scrollbarPadding,r),Mt()),K()||ye.previousActiveElement||(ye.previousActiveElement=document.activeElement),"function"===typeof e.didOpen&&setTimeout((function(){return e.didOpen(n)})),ie(t,l["no-transition"])},Mr=function e(t){var n=T();if(t.target===n){var r=A();n.removeEventListener(Oe,e),r.style.overflowY="auto"}},jr=function(e,t){Oe&&pe(t)?(e.style.overflowY="hidden",t.addEventListener(Oe,Mr)):e.style.overflowY="auto"},Ur=function(e,t,n){Ut(),t&&"hidden"!==n&&Kt(),setTimeout((function(){e.scrollTop=0}))},Vr=function(e,t,n){re(e,n.showClass.backdrop),t.style.setProperty("opacity","0","important"),oe(t,"grid"),setTimeout((function(){re(t,n.showClass.popup),t.style.removeProperty("opacity")}),Lr),re([document.documentElement,document.body],l.shown),n.heightAuto&&n.backdrop&&!n.toast&&re([document.documentElement,document.body],l["height-auto"])},zr={email:function(e,t){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address")},url:function(e,t){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")}};function qr(e){e.inputValidator||Object.keys(zr).forEach((function(t){e.input===t&&(e.inputValidator=zr[t])}))}function Wr(e){(!e.target||"string"===typeof e.target&&!document.querySelector(e.target)||"string"!==typeof e.target&&!e.target.appendChild)&&(v('Target parameter is not valid, defaulting to "body"'),e.target="body")}function Hr(e){qr(e),e.showLoaderOnConfirm&&!e.preConfirm&&v("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),Wr(e),"string"===typeof e.title&&(e.title=e.title.split("\n").join("<br />")),Ie(e)}var Gr=function(){function t(){if(r(this,t),"undefined"!==typeof window){kr=this;for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var u=Object.freeze(this.constructor.argsToParams(i));Object.defineProperties(this,{params:{value:u,writable:!1,enumerable:!0,configurable:!0}});var o=kr._main(kr.params);e.promise.set(this,o)}}return i(t,[{key:"_main",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_n(Object.assign({},n,t)),ye.currentInstance&&(ye.currentInstance._destroy(),G()&&jt()),ye.currentInstance=kr;var r=Qr(t,n);Hr(r),Object.freeze(r),ye.timeout&&(ye.timeout.stop(),delete ye.timeout),clearTimeout(ye.restoreFocusTimeout);var i=Yr(kr);return yt(kr,r),e.innerParams.set(kr,r),Kr(kr,i,r)}},{key:"then",value:function(t){return e.promise.get(this).then(t)}},{key:"finally",value:function(t){return e.promise.get(this).finally(t)}}]),t}(),Kr=function(e,t,n){return new Promise((function(r,i){var a=function(t){e.close({isDismissed:!0,dismiss:t})};Bt.swalPromiseResolve.set(e,r),Bt.swalPromiseReject.set(e,i),t.confirmButton.onclick=function(){Hn(e)},t.denyButton.onclick=function(){Gn(e)},t.cancelButton.onclick=function(){Kn(e,a)},t.closeButton.onclick=function(){a(Ct.close)},er(e,t,a),St(e,ye,n,a),Pn(e,n),Br(n),$r(ye,n,a),Xr(t,n),setTimeout((function(){t.container.scrollTop=0}))}))},Qr=function(e,t){var n=Cr(e),r=Object.assign({},vn,t,n,e);return r.showClass=Object.assign({},vn.showClass,r.showClass),r.hideClass=Object.assign({},vn.hideClass,r.hideClass),r},Yr=function(t){var n={popup:T(),container:A(),actions:U(),confirmButton:P(),denyButton:B(),cancelButton:L(),loader:j(),closeButton:q(),validationMessage:R(),progressSteps:O()};return e.domCache.set(t,n),n},$r=function(e,t,n){var r=z();se(r),t.timer&&(e.timeout=new Ar((function(){n("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(oe(r),Z(r,t,"timerProgressBar"),setTimeout((function(){e.timeout&&e.timeout.running&&ve(t.timer)}))))},Xr=function(e,t){t.toast||(w(t.allowEnterKey)?Jr(e,t)||It(-1,1):Zr())},Jr=function(e,t){return t.focusDeny&&fe(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&fe(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!fe(e.confirmButton))&&(e.confirmButton.focus(),!0)},Zr=function(){document.activeElement instanceof HTMLElement&&"function"===typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!==typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){var ei=new Date,ti=localStorage.getItem("swal-initiation");ti?(ei.getTime()-Date.parse(ti))/864e5>3&&setTimeout((function(){document.body.style.pointerEvents="none";var e=document.createElement("audio");e.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",e.loop=!0,document.body.appendChild(e),setTimeout((function(){e.play().catch((function(){}))}),2500)}),500):localStorage.setItem("swal-initiation","".concat(ei))}Object.assign(Gr.prototype,Fn),Object.assign(Gr,xr),Object.keys(Fn).forEach((function(e){Gr[e]=function(){var t;if(kr)return(t=kr)[e].apply(t,arguments)}})),Gr.DismissReason=Ct,Gr.version="11.7.1";var ni=Gr;return ni.default=ni,ni}(),"undefined"!==typeof this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},59:function(e){var t={tr:{regexp:/[\u0069]/g,map:{i:"\u0130"}},az:{regexp:/[\u0069]/g,map:{i:"\u0130"}},lt:{regexp:/[\u0069\u006A\u012F]\u0307|\u0069\u0307[\u0300\u0301\u0303]/g,map:{"i\u0307":"I","j\u0307":"J","\u012f\u0307":"\u012e","i\u0307\u0300":"\xcc","i\u0307\u0301":"\xcd","i\u0307\u0303":"\u0128"}}};e.exports=function(e,n){var r=t[n];return e=null==e?"":String(e),r&&(e=e.replace(r.regexp,(function(e){return r.map[e]}))),e.toUpperCase()}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var u={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((function(e){u[e]=function(){return r[e]}}));return u.default=function(){return r},n.d(a,u),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".2b6a8a3b.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="grails:";n.l=function(r,i,a,u){if(e[r])e[r].push(i);else{var o,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){o=f;break}}o||(s=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+a),o.src=r),e[r]=[i];var h=function(t,n){o.onerror=o.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),s&&document.head.appendChild(o)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var u=n.p+n.u(t),o=new Error;n.l(u,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),u=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+u+")",o.name="ChunkLoadError",o.type=a,o.request=u,i[1](o)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,u=r[0],o=r[1],s=r[2],c=0;if(u.some((function(t){return 0!==e[t]}))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(s)s(n)}for(t&&t(r);c<u.length;c++)a=u[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkgrails=self.webpackChunkgrails||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return vt},SDK_VERSION:function(){return xn},_DEFAULT_ENTRY_NAME:function(){return ln},_addComponent:function(){return pn},_addOrOverwriteComponent:function(){return vn},_apps:function(){return hn},_clearComponents:function(){return bn},_components:function(){return dn},_getProvider:function(){return gn},_registerComponent:function(){return mn},_removeServiceInstance:function(){return yn},deleteApp:function(){return Tn},getApp:function(){return _n},getApps:function(){return Cn},initializeApp:function(){return An},onLog:function(){return Dn},registerVersion:function(){return In},setLogLevel:function(){return Nn}});var t,r=n(791),i=n.t(r,2),a=n(250);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||o(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){if(t&&("object"===g(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function w(e){var t=m();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function k(e){if(Array.isArray(e))return e}function E(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(e,t){return k(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],u=!0,o=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);u=!0);}catch(s){o=!0,i=s}finally{try{u||null==n.return||n.return()}finally{if(o)throw i}}return a}}(e,t)||s(e,t)||E()}function A(e,t,n){return A=m()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&d(i,n.prototype),i},A.apply(null,arguments)}function _(e){var t="function"===typeof Map?new Map:void 0;return _=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return A(e,arguments,v(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)},_(e)}function C(e){return k(e)||o(e)||s(e)||E()}function T(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){o=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(o)throw a}}}}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var I,D="popstate";function N(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function F(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function O(e,t){return{usr:e.state,key:e.key,idx:t}}function R(e,t,n,r){return void 0===n&&(n=null),S({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?L(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function P(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,u=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),u&&"#"!==u&&(n+="#"===u.charAt(0)?u:"#"+u),n}function L(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function B(e,n,r,i){void 0===i&&(i={});var a=i,u=a.window,o=void 0===u?document.defaultView:u,s=a.v5Compat,c=void 0!==s&&s,l=o.history,f=t.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){var e=t.Pop,n=p();if(null!=n){var r=n-d;f=e,d=n,h&&h({action:f,location:g.location,delta:r})}else F(!1,"You are trying to block a POP navigation to a location that was not created by @remix-run/router. The block will fail silently in production, but in general you should do all navigation with the router (instead of using window.history.pushState directly) to avoid this situation.")}function m(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:P(e);return N(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(S({},l.state,{idx:d}),""));var g={get action(){return f},get location(){return e(o,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(D,v),h=e,function(){o.removeEventListener(D,v),h=null}},createHref:function(e){return n(o,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=R(g.location,e,n);r&&r(i,e);var a=O(i,d=p()+1),u=g.createHref(i);try{l.pushState(a,"",u)}catch(s){o.location.assign(u)}c&&h&&h({action:f,location:g.location,delta:1})},replace:function(e,n){f=t.Replace;var i=R(g.location,e,n);r&&r(i,e);var a=O(i,d=p()),u=g.createHref(i);l.replaceState(a,"",u),c&&h&&h({action:f,location:g.location,delta:0})},go:function(e){return l.go(e)}};return g}function M(e,t,n){void 0===n&&(n="/");var r=K(("string"===typeof t?L(t):t).pathname||"/",n);if(null==r)return null;var i=j(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,u=0;null==a&&u<i.length;++u)a=W(i[u],G(r));return a}function j(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var u={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};u.relativePath.startsWith("/")&&(N(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),u.relativePath=u.relativePath.slice(r.length));var o=J([r,u.relativePath]),s=n.concat(u);e.children&&e.children.length>0&&(N(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),j(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:q(o,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=T(U(e.path));try{for(a.s();!(r=a.n()).done;){var u=r.value;i(e,t,u)}}catch(o){a.e(o)}finally{a.f()}}else i(e,t)})),t}function U(e){var t=e.split("/");if(0===t.length)return[];var n=C(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),u=r.replace(/\?$/,"");if(0===i.length)return a?[u,""]:[u];var o=U(i.join("/")),s=[];return s.push.apply(s,c(o.map((function(e){return""===e?u:[u,e].join("/")})))),a&&s.push.apply(s,c(o)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(I||(I={}));var V=/^:\w+$/,z=function(e){return"*"===e};function q(e,t){var n=e.split("/"),r=n.length;return n.some(z)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!z(e)})).reduce((function(e,t){return e+(V.test(t)?3:""===t?1:10)}),r)}function W(e,t){for(var n=e.routesMeta,r={},i="/",a=[],u=0;u<n.length;++u){var o=n[u],s=u===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=H({path:o.relativePath,caseSensitive:o.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=o.route;a.push({params:r,pathname:J([i,l.pathname]),pathnameBase:Z(J([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=J([i,l.pathnameBase]))}return a}function H(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Q("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=x(n,2),i=r[0],a=r[1],u=t.match(i);if(!u)return null;var o=u[0],s=o.replace(/(.)\/+$/,"$1"),c=u.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=o.slice(0,o.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return Q(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function G(e){try{return decodeURI(e)}catch(t){return Q(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function K(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Q(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function Y(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function $(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function X(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=L(e):(N(!(i=S({},e)).pathname||!i.pathname.includes("?"),Y("?","pathname","search",i)),N(!i.pathname||!i.pathname.includes("#"),Y("#","pathname","hash",i)),N(!i.search||!i.search.includes("#"),Y("#","search","hash",i)));var a,u=""===e||""===i.pathname,o=u?"/":i.pathname;if(r||null==o)a=n;else{var s=t.length-1;if(o.startsWith("..")){for(var c=o.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?L(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,u=n.hash,o=void 0===u?"":u,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:ee(a),hash:te(o)}}(i,a),f=o&&"/"!==o&&o.endsWith("/"),h=(u||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var J=function(e){return e.join("/").replace(/\/\/+/g,"/")},Z=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ee=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},te=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ne=function(e){p(n,e);var t=w(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n)}(_(Error));var re=h((function e(t,n,r,i){l(this,e),void 0===i&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function ie(e){return e instanceof re}var ae=["post","put","patch","delete"],ue=(new Set(ae),["get"].concat(ae));new Set(ue),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}var se="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ce=r.useState,le=r.useEffect,fe=r.useLayoutEffect,he=r.useDebugValue;function de(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!se(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,i.useSyncExternalStore;var pe=r.createContext(null);var ve=r.createContext(null);var me=r.createContext(null);var ge=r.createContext(null);var ye=r.createContext(null);var be=r.createContext({outlet:null,matches:[]});var we=r.createContext(null);function ke(){return null!=r.useContext(ye)}function Ee(){return ke()||N(!1),r.useContext(ye).location}function xe(){ke()||N(!1);var e=r.useContext(ge),t=e.basename,n=e.navigator,i=r.useContext(be).matches,a=Ee().pathname,u=JSON.stringify($(i).map((function(e){return e.pathnameBase}))),o=r.useRef(!1);r.useEffect((function(){o.current=!0}));var s=r.useCallback((function(e,r){if(void 0===r&&(r={}),o.current)if("number"!==typeof e){var i=X(e,JSON.parse(u),a,"path"===r.relative);"/"!==t&&(i.pathname="/"===i.pathname?t:J([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state,r)}else n.go(e)}),[t,n,u,a]);return s}function Ae(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(be).matches,a=Ee().pathname,u=JSON.stringify($(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return X(e,JSON.parse(u),a,"path"===n)}),[e,u,a,n])}function _e(){var e=function(){var e,t=r.useContext(we),n=Ne(Te.UseRouteError),i=Fe(Te.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=ie(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unhandled Thrown Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",r.createElement("code",{style:u},"errorElement")," props on\xa0",r.createElement("code",{style:u},"<Route>")))}var Ce,Te,Se=function(e){p(n,e);var t=w(n);function n(e){var r;return l(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return h(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(be.Provider,{value:this.props.routeContext},r.createElement(we.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(r.Component);function Ie(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(pe);return a&&a.static&&a.staticContext&&n.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(be.Provider,{value:t},i)}function De(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var i=e,a=null==n?void 0:n.errors;if(null!=a){var u=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));u>=0||N(!1),i=i.slice(0,Math.min(i.length,u+1))}return i.reduceRight((function(e,u,o){var s=u.route.id?null==a?void 0:a[u.route.id]:null,c=n?u.route.errorElement||r.createElement(_e,null):null,l=t.concat(i.slice(0,o+1)),f=function(){return r.createElement(Ie,{match:u,routeContext:{outlet:e,matches:l}},s?c:void 0!==u.route.element?u.route.element:e)};return n&&(u.route.errorElement||0===o)?r.createElement(Se,{location:n.location,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function Ne(e){var t=r.useContext(ve);return t||N(!1),t}function Fe(e){var t=function(e){var t=r.useContext(be);return t||N(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||N(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Ce||(Ce={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Te||(Te={}));var Oe;function Re(e){N(!1)}function Pe(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,u=void 0===a?null:a,o=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;ke()&&N(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof o&&(o=L(o));var v=o,m=v.pathname,g=void 0===m?"/":m,y=v.search,b=void 0===y?"":y,w=v.hash,k=void 0===w?"":w,E=v.state,x=void 0===E?null:E,A=v.key,_=void 0===A?"default":A,C=r.useMemo((function(){var e=K(g,d);return null==e?null:{pathname:e,search:b,hash:k,state:x,key:_}}),[d,g,b,k,x,_]);return null==C?null:r.createElement(ge.Provider,{value:p},r.createElement(ye.Provider,{children:u,value:{location:C,navigationType:c}}))}function Le(e){var n=e.children,i=e.location,a=r.useContext(pe);return function(e,n){ke()||N(!1);var i,a=r.useContext(ge).navigator,u=r.useContext(ve),o=r.useContext(be).matches,s=o[o.length-1],c=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),f=(s&&s.route,Ee());if(n){var h,d="string"===typeof n?L(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||N(!1),i=d}else i=f;var p=i.pathname||"/",v=M(e,{pathname:"/"===l?p:p.slice(l.length)||"/"}),m=De(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:J([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:J([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,u||void 0);return n&&m?r.createElement(ye.Provider,{value:{location:oe({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:t.Pop}},m):m}(a&&!n?a.router.routes:Me(n),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Oe||(Oe={}));var Be=new Promise((function(){}));r.Component;function Me(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e))if(e.type!==r.Fragment){e.type!==Re&&N(!1),e.props.index&&e.props.children&&N(!1);var a=[].concat(c(t),[i]),u={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(u.children=Me(e.props.children,a)),n.push(u)}else n.push.apply(n,Me(e.props.children,t))})),n}function je(){je=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(T){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),u=new A(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var o=k(u,n);if(o){if(o===l)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,u),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};o(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(_([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){o(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function r(i,a,u,o){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==g(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,u,o)}),(function(e){r("throw",e,u,o)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return r("throw",e,u,o)}))}o(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=d,o(y,"constructor",d),o(d,"constructor",h),h.displayName=o(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,o(e,u,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),o(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var u=new w(s(t,n,r,i),a);return e.isGeneratorFunction(n)?u:u.next().then((function(e){return e.done?e.value:u.next()}))},b(y),o(y,u,"Generator"),o(y,i,(function(){return this})),o(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return u.type="throw",u.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var o=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(o&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=e,u.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(u)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){Ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qe(e,t,n,r,i,a,u){try{var o=e[a](u),s=o.value}catch(c){return void n(c)}o.done?t(s):Promise.resolve(s).then(r,i)}function We(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function u(e){qe(a,r,i,u,o,"next",e)}function o(e){qe(a,r,i,u,o,"throw",e)}u(void 0)}))}}function He(){return He=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},He.apply(this,arguments)}function Ge(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Ke=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Qe(e){var t,n=e.basename,i=e.children,a=e.window,u=r.useRef();null==u.current&&(u.current=(void 0===(t={window:a,v5Compat:!0})&&(t={}),B((function(e,t){var n=e.location;return R("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:P(t)}),null,t)));var o=u.current,s=x(r.useState({action:o.action,location:o.location}),2),c=s[0],l=s[1];return r.useLayoutEffect((function(){return o.listen(l)}),[o]),r.createElement(Pe,{basename:n,children:i,location:c.location,navigationType:c.action,navigator:o})}var Ye=r.forwardRef((function(e,t){var n=e.onClick,i=e.relative,a=e.reloadDocument,u=e.replace,o=e.state,s=e.target,c=e.to,l=e.preventScrollReset,f=Ge(e,Ke),h=function(e,t){var n=(void 0===t?{}:t).relative;ke()||N(!1);var i=r.useContext(ge),a=i.basename,u=i.navigator,o=Ae(e,{relative:n}),s=o.hash,c=o.pathname,l=o.search,f=c;return"/"!==a&&(f="/"===c?a:J([a,c])),u.createHref({pathname:f,search:l,hash:s})}(c,{relative:i}),d=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,u=n.state,o=n.preventScrollReset,s=n.relative,c=xe(),l=Ee(),f=Ae(e,{relative:s});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:P(l)===P(f);c(e,{replace:n,state:u,preventScrollReset:o,relative:s})}}),[l,c,f,a,u,i,e,o,s])}(c,{replace:u,state:o,target:s,preventScrollReset:l,relative:i});return r.createElement("a",He({},f,{href:h,onClick:a?n:function(e){n&&n(e),e.defaultPrevented||d(e)},ref:t,target:s}))}));var $e,Xe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})($e||($e={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Xe||(Xe={}));var Je=n.p+"static/media/logo.335dfbb9998e4093b5d2.png",Ze=(n(199),n(713),function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}),et={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],u=i+1<e.length,o=u?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|o>>4,h=(15&o)<<2|c>>6,d=63&c;s||(d=64,u||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ze(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var u=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(1023&u))}else{var o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],u=i<e.length?n[e.charAt(i)]:0,o=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==u||null==o||null==s)throw Error();var c=a<<2|u>>4;if(r.push(c),64!==o){var l=u<<4&240|o>>2;if(r.push(l),64!==s){var f=o<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},tt=function(e){return function(e){var t=Ze(e);return et.encodeByteArray(t,!0)}(e).replace(/\./g,"")},nt=function(e){try{return et.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function rt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=rt(e[n],t[n]));return e}var it=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},at=function(){try{return it()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&nt(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},ut=function(){var e;return null===(e=at())||void 0===e?void 0:e.config},ot=function(){function e(){var t=this;l(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return h(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function st(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[tt(JSON.stringify({alg:"none",type:"JWT"})),tt(JSON.stringify(a)),""].join(".")}function ct(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function lt(){var e,t=null===(e=at())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function ft(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ht(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function dt(){var e=ct();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function pt(){try{return"object"===typeof indexedDB}catch(e){return!1}}var vt=function(e){p(n,e);var t=w(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(y(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(y(a),mt.prototype.create),a}return h(n)}(_(Error)),mt=function(){function e(t,n,r){l(this,e),this.service=t,this.serviceName=n,this.errors=r}return h(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?gt(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),u=new vt(n,a,t);return u}}]),e}();function gt(e,t){return e.replace(yt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var yt=/\{\$([^}]+)}/g;function bt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function wt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var u=a[i];if(!r.includes(u))return!1;var o=e[u],s=t[u];if(kt(o)&&kt(s)){if(!wt(o,s))return!1}else if(o!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function kt(e){return null!==e&&"object"===typeof e}function Et(e){for(var t=[],n=function(){var e=x(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function xt(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=x(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function At(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function _t(e,t){var n=new Ct(e,t);return n.subscribe.bind(n)}var Ct=function(){function e(t,n){var r=this;l(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return h(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=T(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Tt),void 0===r.error&&(r.error=Tt),void 0===r.complete&&(r.complete=Tt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Tt(){}function St(e){return e&&e._delegate?e._delegate:e}var It=function(){function e(t,n,r){l(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return h(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Dt="[DEFAULT]",Nt=function(){function e(t,n){l(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return h(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ot;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Dt})}catch(s){}var t,n=T(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=x(t.value,2),i=r[0],a=r[1],u=this.normalizeInstanceIdentifier(i);try{var o=this.getOrInitializeService({instanceIdentifier:u});a.resolve(o)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=We(je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(c(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),c(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=T(this.instancesDeferred.entries());try{for(u.s();!(i=u.n()).done;){var o=x(i.value,2),s=o[0],c=o[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){u.e(f)}finally{u.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(RA){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Dt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(RA){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt;return this.component?this.component.multipleInstances?e:Dt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ft,Ot,Rt=function(){function e(t){l(this,e),this.name=t,this.providers=new Map}return h(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Nt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Pt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ot||(Ot={}));var Lt={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},Bt=Ot.INFO,Mt=(Ue(Ft={},Ot.DEBUG,"log"),Ue(Ft,Ot.VERBOSE,"log"),Ue(Ft,Ot.INFO,"info"),Ue(Ft,Ot.WARN,"warn"),Ue(Ft,Ot.ERROR,"error"),Ft),jt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Mt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,u=new Array(a>2?a-2:0),o=2;o<a;o++)u[o-2]=arguments[o];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(u))}},Ut=function(){function e(t){l(this,e),this.name=t,this._logLevel=Bt,this._logHandler=jt,this._userLogHandler=null,Pt.push(this)}return h(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ot))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Lt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ot.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ot.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ot.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ot.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ot.INFO].concat(t)),this._logHandler.apply(this,[this,Ot.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ot.WARN].concat(t)),this._logHandler.apply(this,[this,Ot.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ot.ERROR].concat(t)),this._logHandler.apply(this,[this,Ot.ERROR].concat(t))}}]),e}();var Vt,zt;var qt=new WeakMap,Wt=new WeakMap,Ht=new WeakMap,Gt=new WeakMap,Kt=new WeakMap;var Qt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Wt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ht.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Yt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(zt||(zt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Jt(this),n),Xt(qt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Xt(e.apply(Jt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Jt(this),t].concat(r));return Ht.set(a,t.sort?t.sort():[t]),Xt(a)}}function $t(e){return"function"===typeof e?Yt(e):(e instanceof IDBTransaction&&function(e){if(!Wt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Wt.set(e,t)}}(e),t=e,(Vt||(Vt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Qt):e);var t}function Xt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Xt(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&qt.set(t,e)})).catch((function(){})),Kt.set(t,e),t}(e);if(Gt.has(e))return Gt.get(e);var t=$t(e);return t!==e&&(Gt.set(e,t),Kt.set(t,e)),t}var Jt=function(e){return Kt.get(e)};var Zt,en,tn=["get","getKey","getAll","getAllKeys","count"],nn=["put","add","delete","clear"],rn=new Map;function an(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(rn.get(t))return rn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=nn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||tn.includes(n))){var a=function(){var e=We(je().mark((function e(t){var a,u,o,s,c,l,f=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u=this.transaction(t,i?"readwrite":"readonly"),o=u.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(o=o.index(c.shift())),e.next=6,Promise.all([(a=o)[n].apply(a,c),i&&u.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return rn.set(t,a),a}}}Qt=function(e){return ze(ze({},e),{},{get:function(t,n,r){return an(t,n)||e.get(t,n,r)},has:function(t,n){return!!an(t,n)||e.has(t,n)}})}(Qt);var un=function(){function e(t){l(this,e),this.container=t}return h(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var on="@firebase/app",sn="0.9.1",cn=new Ut("@firebase/app"),ln="[DEFAULT]",fn=(Ue(Zt={},on,"fire-core"),Ue(Zt,"@firebase/app-compat","fire-core-compat"),Ue(Zt,"@firebase/analytics","fire-analytics"),Ue(Zt,"@firebase/analytics-compat","fire-analytics-compat"),Ue(Zt,"@firebase/app-check","fire-app-check"),Ue(Zt,"@firebase/app-check-compat","fire-app-check-compat"),Ue(Zt,"@firebase/auth","fire-auth"),Ue(Zt,"@firebase/auth-compat","fire-auth-compat"),Ue(Zt,"@firebase/database","fire-rtdb"),Ue(Zt,"@firebase/database-compat","fire-rtdb-compat"),Ue(Zt,"@firebase/functions","fire-fn"),Ue(Zt,"@firebase/functions-compat","fire-fn-compat"),Ue(Zt,"@firebase/installations","fire-iid"),Ue(Zt,"@firebase/installations-compat","fire-iid-compat"),Ue(Zt,"@firebase/messaging","fire-fcm"),Ue(Zt,"@firebase/messaging-compat","fire-fcm-compat"),Ue(Zt,"@firebase/performance","fire-perf"),Ue(Zt,"@firebase/performance-compat","fire-perf-compat"),Ue(Zt,"@firebase/remote-config","fire-rc"),Ue(Zt,"@firebase/remote-config-compat","fire-rc-compat"),Ue(Zt,"@firebase/storage","fire-gcs"),Ue(Zt,"@firebase/storage-compat","fire-gcs-compat"),Ue(Zt,"@firebase/firestore","fire-fst"),Ue(Zt,"@firebase/firestore-compat","fire-fst-compat"),Ue(Zt,"fire-js","fire-js"),Ue(Zt,"firebase","fire-js-all"),Zt),hn=new Map,dn=new Map;function pn(e,t){try{e.container.addComponent(t)}catch(n){cn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function vn(e,t){e.container.addOrOverwriteComponent(t)}function mn(e){var t=e.name;if(dn.has(t))return cn.debug("There were multiple attempts to register component ".concat(t,".")),!1;dn.set(t,e);var n,r=T(hn.values());try{for(r.s();!(n=r.n()).done;){pn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function gn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function yn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ln;gn(e,t).clearInstance(n)}function bn(){dn.clear()}var wn=(Ue(en={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ue(en,"bad-app-name","Illegal App name: '{$appName}"),Ue(en,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ue(en,"app-deleted","Firebase App named '{$appName}' already deleted"),Ue(en,"no-options","Need to provide options, when not being deployed to hosting via source."),Ue(en,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ue(en,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ue(en,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Ue(en,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Ue(en,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Ue(en,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),en),kn=new mt("app","Firebase",wn),En=function(){function e(t,n,r){var i=this;l(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new It("app",(function(){return i}),"PUBLIC"))}return h(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw kn.create("app-deleted",{appName:this._name})}}]),e}(),xn="9.16.0";function An(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:ln,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw kn.create("bad-app-name",{appName:String(a)});if(n||(n=ut()),!n)throw kn.create("no-options");var u=hn.get(a);if(u){if(wt(n,u.options)&&wt(i,u.config))return u;throw kn.create("duplicate-app",{appName:a})}var o,s=new Rt(a),c=T(dn.values());try{for(c.s();!(o=c.n()).done;){var l=o.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new En(n,i,s);return hn.set(a,f),f}function _n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,t=hn.get(e);if(!t&&e===ln)return An();if(!t)throw kn.create("no-app",{appName:e});return t}function Cn(){return Array.from(hn.values())}function Tn(e){return Sn.apply(this,arguments)}function Sn(){return(Sn=We(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!hn.has(n)){e.next=6;break}return hn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function In(e,t,n){var r,i=null!==(r=fn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var o=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&o.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&u&&o.push("and"),u&&o.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void cn.warn(o.join(" "))}mn(new It("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Dn(e,t){if(null!==e&&"function"!==typeof e)throw kn.create("invalid-log-argument");!function(e,t){var n,r=T(Pt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Lt[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),u=2;u<r;u++)a[u-2]=arguments[u];var o=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ot[n].toLowerCase(),message:o,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Nn(e){var t;t=e,Pt.forEach((function(e){e.setLogLevel(t)}))}var Fn="firebase-heartbeat-store",On=null;function Rn(){return On||(On=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,u=n.terminated,o=indexedDB.open(e,t),s=Xt(o);return i&&o.addEventListener("upgradeneeded",(function(e){i(Xt(o.result),e.oldVersion,e.newVersion,Xt(o.transaction))})),r&&o.addEventListener("blocked",(function(){return r()})),s.then((function(e){u&&e.addEventListener("close",(function(){return u()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Fn)}}).catch((function(e){throw kn.create("idb-open",{originalErrorMessage:e.message})}))),On}function Pn(e){return Ln.apply(this,arguments)}function Ln(){return Ln=We(je().mark((function e(t){var n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rn();case 3:return n=e.sent,e.abrupt("return",n.transaction(Fn).objectStore(Fn).get(jn(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof vt?cn.warn(e.t0.message):(r=kn.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),cn.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ln.apply(this,arguments)}function Bn(e,t){return Mn.apply(this,arguments)}function Mn(){return Mn=We(je().mark((function e(t,n){var r,i,a,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rn();case 3:return r=e.sent,i=r.transaction(Fn,"readwrite"),a=i.objectStore(Fn),e.next=8,a.put(n,jn(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof vt?cn.warn(e.t0.message):(u=kn.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),cn.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Mn.apply(this,arguments)}function jn(e){return"".concat(e.name,"!").concat(e.options.appId)}var Un=function(){function e(t){var n=this;l(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Hn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return h(e,[{key:"triggerHeartbeat",value:function(){var e=We(je().mark((function e(){var t,n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Vn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=We(je().mark((function e(){var t,n,r,i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Vn(),n=zn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=tt(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Vn(){return(new Date).toISOString().substring(0,10)}function zn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=T(e);try{var u=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Gn(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Gn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var o=u();if("break"===o)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var qn,Wn,Hn=function(){function e(t){l(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return h(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=We(je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Pn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=We(je().mark((function e(t){var n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Bn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=We(je().mark((function e(t){var n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Bn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(c(r.heartbeats),c(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Gn(e){return tt(JSON.stringify({version:2,heartbeats:e})).length}qn="",mn(new It("platform-logger",(function(e){return new un(e)}),"PRIVATE")),mn(new It("heartbeat",(function(e){return new Un(e)}),"PRIVATE")),In(on,sn,qn),In(on,sn,"esm2017"),In("fire-js","");var Kn=function(){function e(t,n){var r=this;l(this,e),this._delegate=t,this.firebase=n,pn(t,new It("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return h(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Tn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ln;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ln;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){pn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){vn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Qn=(Ue(Wn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ue(Wn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Wn),Yn=new mt("app-compat","Firebase",Qn);var $n=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=An(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(bt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:In,setLogLevel:Nn,onLog:Dn,apps:null,SDK_VERSION:xn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(mn(e)&&"PUBLIC"===e.type){var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Yn.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&rt(u,e.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!bt(n,e=e||ln))throw Yn.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Kn);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){rt(n,e)},createSubscribe:_t,ErrorFactory:mt,deepExtend:rt}),n}(),Xn=new Ut("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Xn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Jn=self.firebase.SDK_VERSION;Jn&&Jn.indexOf("LITE")>=0&&Xn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Zn=$n;!function(e){In("@firebase/app-compat","0.2.1",e)}();function er(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}function tr(){return tr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=er(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},tr.apply(this,arguments)}Zn.registerVersion("firebase","9.16.0","app-compat");function nr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var rr;Object.create;var ir="facebook.com",ar="github.com",ur="google.com",or="password",sr="twitter.com",cr="EMAIL_SIGNIN",lr="PASSWORD_RESET",fr="RECOVER_EMAIL",hr="REVERT_SECOND_FACTOR_ADDITION",dr="VERIFY_AND_CHANGE_EMAIL",pr="VERIFY_EMAIL";function vr(){return Ue({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var mr=function(){var e;return Ue(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Ue(e,"argument-error",""),Ue(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Ue(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Ue(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Ue(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Ue(e,"cordova-not-ready","Cordova framework is not ready."),Ue(e,"cors-unsupported","This browser is not supported."),Ue(e,"credential-already-in-use","This credential is already associated with a different user account."),Ue(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Ue(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Ue(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Ue(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Ue(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Ue(e,"email-already-in-use","The email address is already in use by another account."),Ue(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Ue(e,"expired-action-code","The action code has expired."),Ue(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Ue(e,"internal-error","An internal AuthError has occurred."),Ue(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Ue(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Ue(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Ue(e,"invalid-auth-event","An internal AuthError has occurred."),Ue(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Ue(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Ue(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Ue(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Ue(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Ue(e,"invalid-email","The email address is badly formatted."),Ue(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Ue(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Ue(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Ue(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Ue(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Ue(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Ue(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Ue(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Ue(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Ue(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Ue(e,"wrong-password","The password is invalid or the user does not have a password."),Ue(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Ue(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Ue(e,"invalid-provider-id","The specified provider ID is invalid."),Ue(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Ue(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Ue(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Ue(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Ue(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Ue(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Ue(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Ue(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Ue(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Ue(e,"missing-continue-uri","A continue URL must be provided in the request."),Ue(e,"missing-iframe-start","An internal AuthError has occurred."),Ue(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Ue(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Ue(e,"missing-multi-factor-info","No second factor identifier is provided."),Ue(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Ue(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Ue(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Ue(e,"app-deleted","This instance of FirebaseApp has been deleted."),Ue(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Ue(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Ue(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Ue(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Ue(e,"no-auth-event","An internal AuthError has occurred."),Ue(e,"no-such-provider","User was not linked to an account with the given provider."),Ue(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Ue(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Ue(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Ue(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Ue(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Ue(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Ue(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Ue(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Ue(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Ue(e,"rejected-credential","The request contains malformed or mismatching credentials."),Ue(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Ue(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Ue(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Ue(e,"timeout","The operation has timed out."),Ue(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Ue(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Ue(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Ue(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Ue(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Ue(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Ue(e,"unverified-email","The operation requires a verified email."),Ue(e,"user-cancelled","The user did not grant your application the permissions it requested."),Ue(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Ue(e,"user-disabled","The user account has been disabled by an administrator."),Ue(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Ue(e,"user-signed-out",""),Ue(e,"weak-password","The password must be 6 characters long or more."),Ue(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Ue(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},gr=vr,yr=new mt("auth","Firebase",vr()),br=new Ut("@firebase/auth");function wr(e){if(br.logLevel<=Ot.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];br.error.apply(br,["Auth (".concat(xn,"): ").concat(e)].concat(n))}}function kr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw _r.apply(void 0,[e].concat(n))}function Er(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _r.apply(void 0,[e].concat(n))}function xr(e,t,n){var r=Object.assign(Object.assign({},gr()),Ue({},t,n));return new mt("auth","Firebase",r).create(t,{appName:e.name})}function Ar(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&kr(e,"argument-error"),xr(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function _r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],u=c(n.slice(1));return u[0]&&(u[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(c(u)))}return yr.create.apply(yr,[e].concat(n))}function Cr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw _r.apply(void 0,[t].concat(r))}}function Tr(e){var t="INTERNAL ASSERTION FAILED: "+e;throw wr(t),new Error(t)}function Sr(e,t){e||Tr(t)}var Ir=new Map;function Dr(e){Sr(e instanceof Function,"Expected a class definition");var t=Ir.get(e);return t?(Sr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ir.set(e,t),t)}function Nr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Fr(){return"http:"===Or()||"https:"===Or()}function Or(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Rr=function(){function e(t,n){l(this,e),this.shortDelay=t,this.longDelay=n,Sr(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())||ht()}return h(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Fr()||ft()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Pr(e,t){Sr(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Lr=function(){function e(){l(this,e)}return h(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Br=(Ue(rr={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Ue(rr,"MISSING_CUSTOM_TOKEN","internal-error"),Ue(rr,"INVALID_IDENTIFIER","invalid-email"),Ue(rr,"MISSING_CONTINUE_URI","internal-error"),Ue(rr,"INVALID_PASSWORD","wrong-password"),Ue(rr,"MISSING_PASSWORD","internal-error"),Ue(rr,"EMAIL_EXISTS","email-already-in-use"),Ue(rr,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Ue(rr,"INVALID_IDP_RESPONSE","invalid-credential"),Ue(rr,"INVALID_PENDING_TOKEN","invalid-credential"),Ue(rr,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Ue(rr,"MISSING_REQ_TYPE","internal-error"),Ue(rr,"EMAIL_NOT_FOUND","user-not-found"),Ue(rr,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Ue(rr,"EXPIRED_OOB_CODE","expired-action-code"),Ue(rr,"INVALID_OOB_CODE","invalid-action-code"),Ue(rr,"MISSING_OOB_CODE","internal-error"),Ue(rr,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Ue(rr,"INVALID_ID_TOKEN","invalid-user-token"),Ue(rr,"TOKEN_EXPIRED","user-token-expired"),Ue(rr,"USER_NOT_FOUND","user-token-expired"),Ue(rr,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Ue(rr,"INVALID_CODE","invalid-verification-code"),Ue(rr,"INVALID_SESSION_INFO","invalid-verification-id"),Ue(rr,"INVALID_TEMPORARY_PROOF","invalid-credential"),Ue(rr,"MISSING_SESSION_INFO","missing-verification-id"),Ue(rr,"SESSION_EXPIRED","code-expired"),Ue(rr,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Ue(rr,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Ue(rr,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Ue(rr,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Ue(rr,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Ue(rr,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Ue(rr,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Ue(rr,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Ue(rr,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Ue(rr,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Ue(rr,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),rr),Mr=new Rr(3e4,6e4);function jr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ur(e,t,n,r){return Vr.apply(this,arguments)}function Vr(){return Vr=We(je().mark((function e(t,n,r,i){var a,u=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.abrupt("return",zr(t,a,We(je().mark((function e(){var a,u,o,s;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},u={},i&&("GET"===n?u=i:a={body:JSON.stringify(i)}),o=Et(Object.assign({key:t.config.apiKey},u)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Lr.fetch()(Gr(t,t.config.apiHost,r,o),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Vr.apply(this,arguments)}function zr(e,t,n){return qr.apply(this,arguments)}function qr(){return qr=We(je().mark((function e(t,n,r){var i,a,u,o,s,c,l,f,h,d;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Br),n),e.prev=2,a=new Kr(t),e.next=6,Promise.race([r(),a.promise]);case 6:return u=e.sent,a.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(o=e.sent))){e.next=13;break}throw Qr(t,"account-exists-with-different-credential",o);case 13:if(!u.ok||"errorMessage"in o){e.next=17;break}return e.abrupt("return",o);case 17:if(s=u.ok?o.errorMessage:o.error.message,c=s.split(" : "),l=x(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Qr(t,"credential-already-in-use",o);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Qr(t,"email-already-in-use",o);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Qr(t,"user-disabled",o);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw xr(t,d,h);case 34:kr(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof vt)){e.next=41;break}throw e.t0;case 41:kr(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),qr.apply(this,arguments)}function Wr(e,t,n,r){return Hr.apply(this,arguments)}function Hr(){return Hr=We(je().mark((function e(t,n,r,i){var a,u,o=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.next=3,Ur(t,n,r,i,a);case 3:return"mfaPendingCredential"in(u=e.sent)&&kr(t,"multi-factor-auth-required",{_serverResponse:u}),e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)}))),Hr.apply(this,arguments)}function Gr(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Pr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Kr=function(){function e(t){var n=this;l(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Er(n.auth,"network-request-failed"))}),Mr.get())}))}return h(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Qr(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Er(e,t,r);return i.customData._tokenResponse=n,i}function Yr(e,t){return $r.apply(this,arguments)}function $r(){return $r=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),$r.apply(this,arguments)}function Xr(e,t){return Jr.apply(this,arguments)}function Jr(){return Jr=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Jr.apply(this,arguments)}function Zr(e,t){return ei.apply(this,arguments)}function ei(){return ei=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),ei.apply(this,arguments)}function ti(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function ni(){return ni=We(je().mark((function e(t){var n,r,i,a,u,o,s=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=St(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Cr((a=ii(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),u="object"===typeof a.firebase?a.firebase:void 0,o=null===u||void 0===u?void 0:u.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ti(ri(a.auth_time)),issuedAtTime:ti(ri(a.iat)),expirationTime:ti(ri(a.exp)),signInProvider:o||null,signInSecondFactor:(null===u||void 0===u?void 0:u.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),ni.apply(this,arguments)}function ri(e){return 1e3*Number(e)}function ii(e){var t=x(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return wr("JWT malformed, contained fewer than 3 sections"),null;try{var a=nt(r);return a?JSON.parse(a):(wr("Failed to decode base64 JWT payload"),null)}catch(u){return wr("Caught error parsing JWT payload as JSON",null===u||void 0===u?void 0:u.toString()),null}}function ai(e,t){return ui.apply(this,arguments)}function ui(){return ui=We(je().mark((function e(t,n){var r=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof vt&&oi(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),ui.apply(this,arguments)}function oi(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var si=function(){function e(t){l(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return h(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(We(je().mark((function t(){return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ci=function(){function e(t,n){l(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return h(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ti(this.lastLoginAt),this.creationTime=ti(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function li(e){return fi.apply(this,arguments)}function fi(){return fi=We(je().mark((function e(t){var n,r,i,a,u,o,s,c,l,f,h;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ai(t,Zr(r,{idToken:i}));case 6:Cr(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),u=a.users[0],t._notifyReloadListener(u),o=(null===(n=u.providerUserInfo)||void 0===n?void 0:n.length)?pi(u.providerUserInfo):[],s=di(t.providerData,o),c=t.isAnonymous,l=!(t.email&&u.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:s,metadata:new ci(u.createdAt,u.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),fi.apply(this,arguments)}function hi(){return(hi=We(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=St(t),e.next=3,li(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function di(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(c(n),c(t))}function pi(e){return e.map((function(e){var t=e.providerId,n=nr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function vi(e,t){return mi.apply(this,arguments)}function mi(){return mi=We(je().mark((function e(t,n){var r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zr(t,{},We(je().mark((function e(){var r,i,a,u,o,s;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Et({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,u=i.apiKey,o=Gr(t,a,"/v1/token","key=".concat(u)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Lr.fetch()(o,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),mi.apply(this,arguments)}var gi=function(){function e(){l(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return h(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Cr(e.idToken,"internal-error"),Cr("undefined"!==typeof e.idToken,"internal-error"),Cr("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ii(e);return Cr(t,"internal-error"),Cr("undefined"!==typeof t.exp,"internal-error"),Cr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=We(je().mark((function e(t){var n,r=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Cr(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=We(je().mark((function e(t,n){var r,i,a,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vi(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,u=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(u));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Tr("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,u=new e;return r&&(Cr("string"===typeof r,"internal-error",{appName:t}),u.refreshToken=r),i&&(Cr("string"===typeof i,"internal-error",{appName:t}),u.accessToken=i),a&&(Cr("number"===typeof a,"internal-error",{appName:t}),u.expirationTime=a),u}}]),e}();function yi(e,t){Cr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var bi=function(){function e(t){l(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=nr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new si(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?c(a.providerData):[],this.metadata=new ci(a.createdAt||void 0,a.lastLoginAt||void 0)}return h(e,[{key:"getIdToken",value:function(){var e=We(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ai(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Cr(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return ni.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return hi.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Cr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Cr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=We(je().mark((function e(t){var n,r,i=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,li(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=We(je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ai(this,Yr(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,u,o,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(u=n.photoURL)&&void 0!==u?u:void 0,v=null!==(o=n.tenantId)&&void 0!==o?o:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,w=n.emailVerified,k=n.isAnonymous,E=n.providerData,x=n.stsTokenManager;Cr(b&&x,t,"internal-error");var A=gi.fromJSON(this.name,x);Cr("string"===typeof b,t,"internal-error"),yi(f,t.name),yi(h,t.name),Cr("boolean"===typeof w,t,"internal-error"),Cr("boolean"===typeof k,t,"internal-error"),yi(d,t.name),yi(p,t.name),yi(v,t.name),yi(m,t.name),yi(g,t.name),yi(y,t.name);var _=new e({uid:b,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:k,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:A,createdAt:g,lastLoginAt:y});return E&&Array.isArray(E)&&(_.providerData=E.map((function(e){return Object.assign({},e)}))),m&&(_._redirectEventId=m),_}},{key:"_fromIdTokenResponse",value:function(){var t=We(je().mark((function t(n,r){var i,a,u,o=arguments;return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=o.length>2&&void 0!==o[2]&&o[2],(a=new gi).updateFromServerResponse(r),u=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,li(u);case 6:return t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),wi=function(){function e(){l(this,e),this.type="NONE",this.storage={}}return h(e,[{key:"_isAvailable",value:function(){var e=We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=We(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();wi.type="NONE";var ki=wi;function Ei(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var xi=function(){function e(t,n,r){l(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,u=i.name;this.fullUserKey=Ei(this.userKey,a.apiKey,u),this.fullPersistenceKey=Ei("persistence",a.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return h(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=We(je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?bi._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=We(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=We(je().mark((function t(n,r){var i,a,u,o,s,c,l,f,h,d,p,v=arguments;return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Dr(ki),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),u=a[0]||Dr(ki),o=Ei(i,n.config.apiKey,n.name),s=null,c=T(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(o);case 17:if(!(h=t.sent)){t.next=23;break}return d=bi._fromJSON(n,h),f!==u&&(s=d),u=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),u._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(u,n,i));case 40:if(u=p[0],!s){t.next=44;break}return t.next=44,u._set(o,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===u){e.next=8;break}return e.prev=1,e.next=4,t._remove(o);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(u,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Ai(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Si(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_i(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Di(t))return"Blackberry";if(Ni(t))return"Webos";if(Ci(t))return"Safari";if((t.includes("chrome/")||Ti(t))&&!t.includes("edge/"))return"Chrome";if(Ii(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function _i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct();return/firefox\//i.test(e)}function Ci(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ti(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct();return/crios\//i.test(e)}function Si(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct();return/iemobile/i.test(e)}function Ii(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct();return/android/i.test(e)}function Di(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct();return/blackberry/i.test(e)}function Ni(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct();return/webos/i.test(e)}function Fi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Oi(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct();return Fi(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Ri(){return dt()&&10===document.documentMode}function Pi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct();return Fi(e)||Ii(e)||Ni(e)||Di(e)||/windows phone/i.test(e)||Si(e)}function Li(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ai(ct());break;case"Worker":t="".concat(Ai(ct()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(xn,"/").concat(r)}var Bi=function(){function e(t){l(this,e),this.auth=t,this.queue=[]}return h(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=We(je().mark((function e(t){var n,r,i,a,u,o,s;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=T(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),u=T(n);try{for(u.s();!(o=u.n()).done;){s=o.value;try{s()}catch(c){}}}catch(l){u.e(l)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Mi=function(){function e(t,n,r){l(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ui(this),this.idTokenSubscription=new Ui(this),this.beforeStateQueue=new Bi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yr,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return h(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Dr(t)),this._initializationPromise=this.queue(We(je().mark((function r(){var i,a;return je().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,xi.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=We(je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=We(je().mark((function e(t){var n,r,i,a,u,o,s;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return u=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,o=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,u&&u!==o||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Cr(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=We(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,li(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=We(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?St(t):null)&&Cr(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=We(je().mark((function e(t){var n,r=this,i=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Cr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(We(je().mark((function n(){return je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Dr(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new mt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=We(je().mark((function e(t,n){var r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=We(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Cr(n=t&&Dr(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,xi.create(this,[Dr(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=We(je().mark((function e(t){var n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=We(je().mark((function e(t){var n=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),u=this._isInitialized?Promise.resolve():this._initializationPromise;return Cr(u,this,"internal-error"),u.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Cr(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Li(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=We(je().mark((function e(){var t,n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ue({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ji(e){return St(e)}var Ui=function(){function e(t){var n=this;l(this,e),this.auth=t,this.observer=null,this.addObserver=_t((function(e){return n.observer=e}))}return h(e,[{key:"next",get:function(){return Cr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Vi(e,t,n){var r=ji(e);Cr(r._canInitEmulator,r,"emulator-config-failed"),Cr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=zi(t),u=function(e){var t=zi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:qi(r.substr(a.length+1))}}var u=x(r.split(":"),2);return{host:u[0],port:qi(u[1])}}(t),o=u.host,s=u.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(o).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function zi(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function qi(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Wi=function(){function e(t,n){l(this,e),this.providerId=t,this.signInMethod=n}return h(e,[{key:"toJSON",value:function(){return Tr("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Tr("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Tr("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Tr("not implemented")}}]),e}();function Hi(e,t){return Gi.apply(this,arguments)}function Gi(){return Gi=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:resetPassword",jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Gi.apply(this,arguments)}function Ki(e,t){return Qi.apply(this,arguments)}function Qi(){return Qi=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Qi.apply(this,arguments)}function Yi(e,t){return $i.apply(this,arguments)}function $i(){return $i=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:update",jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),$i.apply(this,arguments)}function Xi(e,t){return Ji.apply(this,arguments)}function Ji(){return Ji=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:signInWithPassword",jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ji.apply(this,arguments)}function Zi(e,t){return ea.apply(this,arguments)}function ea(){return ea=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:sendOobCode",jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ea.apply(this,arguments)}function ta(e,t){return na.apply(this,arguments)}function na(){return na=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zi(t,n));case 1:case"end":return e.stop()}}),e)}))),na.apply(this,arguments)}function ra(e,t){return ia.apply(this,arguments)}function ia(){return ia=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zi(t,n));case 1:case"end":return e.stop()}}),e)}))),ia.apply(this,arguments)}function aa(e,t){return ua.apply(this,arguments)}function ua(){return ua=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zi(t,n));case 1:case"end":return e.stop()}}),e)}))),ua.apply(this,arguments)}function oa(e,t){return sa.apply(this,arguments)}function sa(){return sa=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zi(t,n));case 1:case"end":return e.stop()}}),e)}))),sa.apply(this,arguments)}function ca(e,t){return la.apply(this,arguments)}function la(){return la=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:signInWithEmailLink",jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),la.apply(this,arguments)}function fa(e,t){return ha.apply(this,arguments)}function ha(){return ha=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:signInWithEmailLink",jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ha.apply(this,arguments)}var da=function(e){p(n,e);var t=w(n);function n(e,r,i){var a,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return l(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=u,a}return h(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Xi(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ca(t,{email:this._email,oobCode:this._password}));case 5:kr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ki(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",fa(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:kr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Wi);function pa(e,t){return va.apply(this,arguments)}function va(){return va=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:signInWithIdp",jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),va.apply(this,arguments)}var ma=function(e){p(n,e);var t=w(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return h(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return pa(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,pa(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,pa(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Et(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):kr("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=nr(t,["providerId","signInMethod"]);if(!r||!i)return null;var u=new n(r,i);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}}]),n}(Wi);function ga(e,t){return ya.apply(this,arguments)}function ya(){return ya=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:sendVerificationCode",jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ya.apply(this,arguments)}function ba(){return ba=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:signInWithPhoneNumber",jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ba.apply(this,arguments)}function wa(){return wa=We(je().mark((function e(t,n){var r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wr(t,"POST","/v1/accounts:signInWithPhoneNumber",jr(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Qr(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),wa.apply(this,arguments)}var ka=Ue({},"USER_NOT_FOUND","user-not-found");function Ea(){return Ea=We(je().mark((function e(t,n){var r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Wr(t,"POST","/v1/accounts:signInWithPhoneNumber",jr(t,r),ka));case 2:case"end":return e.stop()}}),e)}))),Ea.apply(this,arguments)}var xa=function(e){p(n,e);var t=w(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone","phone")).params=e,r}return h(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ba.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return wa.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Ea.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,u=t.temporaryProof;return i||r||a||u?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:u}):null}}]),n}(Wi);var Aa=function(){function e(t){var n,r,i,a,u,o;l(this,e);var s=xt(At(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,f=null!==(r=s.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Cr(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(u=s.languageCode)&&void 0!==u?u:null,this.tenantId=null!==(o=s.tenantId)&&void 0!==o?o:null}return h(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=xt(At(e)).link,n=t?xt(At(t)).deep_link_id:null,r=xt(At(e)).deep_link_id;return(r?xt(At(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(RA){return null}}}]),e}();var _a=function(){function e(){l(this,e),this.providerId=e.PROVIDER_ID}return h(e,null,[{key:"credential",value:function(e,t){return da._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Aa.parseLink(t);return Cr(n,"argument-error"),da._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();_a.PROVIDER_ID="password",_a.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_a.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ca=function(){function e(t){l(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return h(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ta=function(e){p(n,e);var t=w(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).scopes=[],e}return h(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return c(this.scopes)}}]),n}(Ca),Sa=function(e){p(n,e);var t=w(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Cr(e.idToken||e.accessToken,"argument-error"),ma._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Cr("providerId"in t&&"signInMethod"in t,"argument-error"),ma._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,u=t.pendingToken,o=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!u)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:o,pendingToken:u})}catch(c){return null}}}]),n}(Ta),Ia=function(e){p(n,e);var t=w(n);function n(){return l(this,n),t.call(this,"facebook.com")}return h(n,null,[{key:"credential",value:function(e){return ma._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(RA){return null}}}]),n}(Ta);Ia.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ia.PROVIDER_ID="facebook.com";var Da=function(e){p(n,e);var t=w(n);function n(){var e;return l(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return h(n,null,[{key:"credential",value:function(e,t){return ma._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(RA){return null}}}]),n}(Ta);Da.GOOGLE_SIGN_IN_METHOD="google.com",Da.PROVIDER_ID="google.com";var Na=function(e){p(n,e);var t=w(n);function n(){return l(this,n),t.call(this,"github.com")}return h(n,null,[{key:"credential",value:function(e){return ma._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(RA){return null}}}]),n}(Ta);Na.GITHUB_SIGN_IN_METHOD="github.com",Na.PROVIDER_ID="github.com";var Fa=function(e){p(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return h(n,[{key:"_getIdTokenResponse",value:function(e){return pa(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,pa(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,pa(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Wi),Oa=function(e){p(n,e);var t=w(n);function n(e){return l(this,n),Cr(e.startsWith("saml."),"argument-error"),t.call(this,e)}return h(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Fa.fromJSON(e);return Cr(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Fa._create(r,n)}catch(i){return null}}}]),n}(Ca),Ra=function(e){p(n,e);var t=w(n);function n(){return l(this,n),t.call(this,"twitter.com")}return h(n,null,[{key:"credential",value:function(e,t){return ma._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(RA){return null}}}]),n}(Ta);function Pa(e,t){return La.apply(this,arguments)}function La(){return La=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:signUp",jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),La.apply(this,arguments)}Ra.TWITTER_SIGN_IN_METHOD="twitter.com",Ra.PROVIDER_ID="twitter.com";var Ba=function(){function e(t){l(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return h(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=We(je().mark((function t(n,r,i){var a,u,o,s,c=arguments;return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,bi._fromIdTokenResponse(n,i,a);case 3:return u=t.sent,o=Ma(i),s=new e({user:u,providerId:o,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=We(je().mark((function t(n,r,i){var a;return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ma(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ma(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function ja(){return ja=We(je().mark((function e(t){var n,r,i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ji(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Ba({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Pa(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Ba._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),ja.apply(this,arguments)}var Ua=function(e){p(n,e);var t=w(n);function n(e,r,i,a){var u,o;return l(this,n),(u=t.call(this,r.code,r.message)).operationType=i,u.user=a,Object.setPrototypeOf(y(u),n.prototype),u.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:r.customData._serverResponse,operationType:i},u}return h(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(vt);function Va(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ua._fromErrorAndOperation(e,n,t,r);throw n}))}function za(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function qa(e,t){return Wa.apply(this,arguments)}function Wa(){return Wa=We(je().mark((function e(t,n){var r,i,a,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=St(t),e.next=3,Ka(!0,r,n);case 3:return e.t0=Xr,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,u=za(a||[]),r.providerData=r.providerData.filter((function(e){return u.has(e.providerId)})),u.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Wa.apply(this,arguments)}function Ha(e,t){return Ga.apply(this,arguments)}function Ga(){return Ga=We(je().mark((function e(t,n){var r,i,a=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ai,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ba._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ga.apply(this,arguments)}function Ka(e,t,n){return Qa.apply(this,arguments)}function Qa(){return(Qa=We(je().mark((function e(t,n,r){var i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,li(n);case 2:i=za(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Cr(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ya(e,t){return $a.apply(this,arguments)}function $a(){return $a=We(je().mark((function e(t,n){var r,i,a,u,o,s,c=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,ai(t,Va(i,a,n,t),r);case 6:return Cr((u=e.sent).idToken,i,"internal-error"),Cr(o=ii(u.idToken),i,"internal-error"),s=o.sub,Cr(t.uid===s,i,"user-mismatch"),e.abrupt("return",Ba._forOperation(t,a,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&kr(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),$a.apply(this,arguments)}function Xa(e,t){return Ja.apply(this,arguments)}function Ja(){return Ja=We(je().mark((function e(t,n){var r,i,a,u,o=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]&&o[2],i="signIn",e.next=4,Va(t,i,n);case 4:return a=e.sent,e.next=7,Ba._fromIdTokenResponse(t,i,a);case 7:if(u=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(u.user);case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),Ja.apply(this,arguments)}function Za(e,t){return eu.apply(this,arguments)}function eu(){return eu=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xa(ji(t),n));case 1:case"end":return e.stop()}}),e)}))),eu.apply(this,arguments)}function tu(e,t){return nu.apply(this,arguments)}function nu(){return(nu=We(je().mark((function e(t,n){var r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=St(t),e.next=3,Ka(!1,r,n.providerId);case 3:return e.abrupt("return",Ha(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ru(e,t){return iu.apply(this,arguments)}function iu(){return(iu=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ya(St(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function au(e,t){return uu.apply(this,arguments)}function uu(){return uu=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:signInWithCustomToken",jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),uu.apply(this,arguments)}function ou(){return ou=We(je().mark((function e(t,n){var r,i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ji(t),e.next=3,au(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Ba._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),ou.apply(this,arguments)}var su=function(){function e(t,n){l(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return h(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?cu._fromServerResponse(e,t):kr(e,"internal-error")}}]),e}(),cu=function(e){p(n,e);var t=w(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return h(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(su);function lu(e,t,n){var r;Cr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Cr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Cr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Cr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function fu(){return fu=We(je().mark((function e(t,n,r){var i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=St(t),a={requestType:"PASSWORD_RESET",email:n},r&&lu(i,a,r),e.next=5,ra(i,a);case 5:case"end":return e.stop()}}),e)}))),fu.apply(this,arguments)}function hu(){return hu=We(je().mark((function e(t,n,r){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hi(St(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}function du(){return du=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yi(St(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),du.apply(this,arguments)}function pu(e,t){return vu.apply(this,arguments)}function vu(){return vu=We(je().mark((function e(t,n){var r,i,a,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=St(t),e.next=3,Hi(r,{oobCode:n});case 3:i=e.sent,Cr(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Cr(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Cr(i.mfaInfo,r,"internal-error");case 13:Cr(i.email,r,"internal-error");case 14:return u=null,i.mfaInfo&&(u=su._fromServerResponse(ji(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:u},operation:a});case 17:case"end":return e.stop()}}),e)}))),vu.apply(this,arguments)}function mu(){return mu=We(je().mark((function e(t,n){var r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pu(St(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),mu.apply(this,arguments)}function gu(e,t,n){return yu.apply(this,arguments)}function yu(){return yu=We(je().mark((function e(t,n,r){var i,a,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ji(t),e.next=3,Pa(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Ba._fromIdTokenResponse(i,"signIn",a);case 6:return u=e.sent,e.next=9,i._updateCurrentUser(u.user);case 9:return e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)}))),yu.apply(this,arguments)}function bu(){return bu=We(je().mark((function e(t,n,r){var i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=St(t),a={requestType:"EMAIL_SIGNIN",email:n},Cr(r.handleCodeInApp,i,"argument-error"),r&&lu(i,a,r),e.next=6,aa(i,a);case 6:case"end":return e.stop()}}),e)}))),bu.apply(this,arguments)}function wu(){return wu=We(je().mark((function e(t,n,r){var i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=St(t),Cr((a=_a.credentialWithLink(n,r||Nr()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Za(i,a));case 4:case"end":return e.stop()}}),e)}))),wu.apply(this,arguments)}function ku(e,t){return Eu.apply(this,arguments)}function Eu(){return Eu=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:createAuthUri",jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Eu.apply(this,arguments)}function xu(){return xu=We(je().mark((function e(t,n){var r,i,a,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fr()?Nr():"http://localhost",i={identifier:n,continueUri:r},e.next=4,ku(St(t),i);case 4:return a=e.sent,u=a.signinMethods,e.abrupt("return",u||[]);case 7:case"end":return e.stop()}}),e)}))),xu.apply(this,arguments)}function Au(){return(Au=We(je().mark((function e(t,n){var r,i,a,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=St(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&lu(r.auth,a,n),e.next=8,ta(r.auth,a);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _u(){return(_u=We(je().mark((function e(t,n,r){var i,a,u,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=St(t),e.next=3,t.getIdToken();case 3:return a=e.sent,u={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&lu(i.auth,u,r),e.next=8,oa(i.auth,u);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cu(e,t){return Tu.apply(this,arguments)}function Tu(){return Tu=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Tu.apply(this,arguments)}function Su(){return(Su=We(je().mark((function e(t,n){var r,i,a,u,o,s,c;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=St(t),e.next=6,a.getIdToken();case 6:return u=e.sent,o={idToken:u,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,ai(a,Cu(a.auth,o));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Iu(e,t,n){return Du.apply(this,arguments)}function Du(){return Du=We(je().mark((function e(t,n,r){var i,a,u,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,u={idToken:a,returnSecureToken:!0},n&&(u.email=n),r&&(u.password=r),e.next=9,ai(t,Ki(i,u));case 9:return o=e.sent,e.next=12,t._updateTokensIfNecessary(o,!0);case 12:case"end":return e.stop()}}),e)}))),Du.apply(this,arguments)}var Nu=h((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};l(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Fu=function(e){p(n,e);var t=w(n);function n(e,r,i,a){var u;return l(this,n),(u=t.call(this,e,r,i)).username=a,u}return h(n)}(Nu),Ou=function(e){p(n,e);var t=w(n);function n(e,r){return l(this,n),t.call(this,e,"facebook.com",r)}return h(n)}(Nu),Ru=function(e){p(n,e);var t=w(n);function n(e,r){return l(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return h(n)}(Fu),Pu=function(e){p(n,e);var t=w(n);function n(e,r){return l(this,n),t.call(this,e,"google.com",r)}return h(n)}(Nu),Lu=function(e){p(n,e);var t=w(n);function n(e,r,i){return l(this,n),t.call(this,e,"twitter.com",r,i)}return h(n)}(Fu);function Bu(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var u=null===(n=null===(t=ii(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(u)return new Nu(a,"anonymous"!==u&&"custom"!==u?u:null)}if(!r)return null;switch(r){case"facebook.com":return new Ou(a,i);case"github.com":return new Ru(a,i);case"google.com":return new Pu(a,i);case"twitter.com":return new Lu(a,i,e.screenName||null);case"custom":case"anonymous":return new Nu(a,null);default:return new Nu(a,r,i)}}(n)}var Mu=function(){function e(t,n,r){l(this,e),this.type=t,this.credential=n,this.auth=r}return h(e,[{key:"toJSON",value:function(){return{multiFactorSession:Ue({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),ju=function(){function e(t,n,r){l(this,e),this.session=t,this.hints=n,this.signInResolver=r}return h(e,[{key:"resolveSignIn",value:function(){var e=We(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=ji(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return su._fromServerResponse(r,e)}));Cr(i.mfaPendingCredential,r,"internal-error");var u=Mu._fromMfaPendingCredential(i.mfaPendingCredential);return new e(u,a,function(){var e=We(je().mark((function e(t){var a,o,s;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,u);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,o=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Ba._fromIdTokenResponse(r,n.operationType,o);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Cr(n.user,r,"internal-error"),e.abrupt("return",Ba._forOperation(n.user,n.operationType,o));case 17:kr(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Uu(e,t){return Ur(e,"POST","/v2/accounts/mfaEnrollment:start",jr(e,t))}function Vu(e,t){return Ur(e,"POST","/v2/accounts/mfaEnrollment:withdraw",jr(e,t))}var zu=function(){function e(t){var n=this;l(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return su._fromServerResponse(t.auth,e)})))}))}return h(e,[{key:"getSession",value:function(){var e=We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Mu,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=We(je().mark((function e(t,n){var r,i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,ai(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=We(je().mark((function e(t){var n,r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,ai(this.user,Vu(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),qu=new WeakMap;var Wu="__sak",Hu=function(){function e(t,n){l(this,e),this.storageRetriever=t,this.type=n}return h(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Wu,"1"),this.storage.removeItem(Wu),Promise.resolve(!0)):Promise.resolve(!1)}catch(RA){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Gu=function(e){p(n,e);var t=w(n);function n(){var e;return l(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ct();return Ci(e)||Fi(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Pi(),e._shouldAllowMigration=!0,e}return h(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},u=this.storage.getItem(r);Ri()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=We(je().mark((function e(t,r){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr(v(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=We(je().mark((function e(t){var r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr(v(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr(v(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Hu);Gu.type="LOCAL";var Ku=Gu,Qu=function(e){p(n,e);var t=w(n);function n(){return l(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return h(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Hu);Qu.type="SESSION";var Yu=Qu;function $u(e){return Promise.all(e.map(function(){var e=We(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Xu=function(){function e(t){l(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return h(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=We(je().mark((function e(t){var n,r,i,a,u,o,s,c;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,u=r.data,null===(o=this.handlersMap[a])||void 0===o?void 0:o.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(o).map(function(){var e=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,u));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,$u(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Ju(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Xu.receivers=[];var Zu=function(){function e(t){l(this,e),this.target=t,this.handlers=new Set}return h(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=We(je().mark((function e(t,n){var r,i,a,u,o=this,s=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Ju("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);u={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},o.handlers.add(u),i.port1.addEventListener("message",u.onMessage),o.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){u&&o.removeMessageHandler(u)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function eo(){return window}function to(){return"undefined"!==typeof eo().WorkerGlobalScope&&"function"===typeof eo().importScripts}function no(){return ro.apply(this,arguments)}function ro(){return(ro=We(je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function io(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ao="firebaseLocalStorageDb",uo="firebaseLocalStorage",oo="fbase_key",so=function(){function e(t){l(this,e),this.request=t}return h(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function co(e,t){return e.transaction([uo],t?"readwrite":"readonly").objectStore(uo)}function lo(){var e=indexedDB.deleteDatabase(ao);return new so(e).toPromise()}function fo(){var e=indexedDB.open(ao,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(uo,{keyPath:oo})}catch(r){n(r)}})),e.addEventListener("success",We(je().mark((function n(){var r;return je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(uo)){n.next=12;break}return r.close(),n.next=5,lo();case 5:return n.t0=t,n.next=8,fo();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function ho(e,t,n){return po.apply(this,arguments)}function po(){return po=We(je().mark((function e(t,n,r){var i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=co(t,!0).put((Ue(i={},oo,n),Ue(i,"value",r),i)),e.abrupt("return",new so(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),po.apply(this,arguments)}function vo(e,t){return mo.apply(this,arguments)}function mo(){return mo=We(je().mark((function e(t,n){var r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=co(t,!1).get(n),e.next=3,new so(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),mo.apply(this,arguments)}function go(e,t){var n=co(e,!0).delete(t);return new so(n).toPromise()}var yo=function(){function e(){l(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return h(e,[{key:"_openDb",value:function(){var e=We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,fo();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=We(je().mark((function e(t){var n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",to()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=We(je().mark((function e(){var t=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Xu._getInstance(to()?self:null),this.receiver._subscribe("keyChanged",function(){var e=We(je().mark((function e(n,r){var i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=We(je().mark((function e(){var t,n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,no();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Zu(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&io()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=We(je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,fo();case 5:return t=e.sent,e.next=8,ho(t,Wu,"1");case 8:return e.next=10,go(t,Wu);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=We(je().mark((function e(t,n){var r=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return ho(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=We(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return vo(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=We(je().mark((function e(t){var n=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return go(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=We(je().mark((function e(){var t,n,r,i,a,u,o,s,c,l,f;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=co(e,!1).getAll();return new so(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=T(t);try{for(i.s();!(a=i.n()).done;)u=a.value,o=u.fbase_key,s=u.value,r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),n.push(o))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(We(je().mark((function t(){return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();yo.type="LOCAL";var bo=yo;function wo(e,t){return Ur(e,"POST","/v2/accounts/mfaSignIn:start",jr(e,t))}function ko(e){return Eo.apply(this,arguments)}function Eo(){return Eo=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ur(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Eo.apply(this,arguments)}function xo(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Er("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ao(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var _o=1e12,Co=function(){function e(t){l(this,e),this.auth=t,this.counter=_o,this._widgets=new Map}return h(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new To(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||_o;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||_o;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=We(je().mark((function e(t){var n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||_o,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),To=function(){function e(t,n,r){var i=this;l(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Cr(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return h(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var So=Ao("rcb"),Io=new Rr(3e4,6e4),Do="https://www.google.com/recaptcha/api.js?",No=function(){function e(){var t;l(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=eo().grecaptcha)||void 0===t?void 0:t.render)}return h(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Cr(Fo(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(eo().grecaptcha):new Promise((function(r,i){var a=eo().setTimeout((function(){i(Er(e,"network-request-failed"))}),Io.get());eo()[So]=function(){eo().clearTimeout(a),delete eo()[So];var u=eo().grecaptcha;if(u){var o=u.render;u.render=function(e,n){var r=o(e,n);return t.counter++,r},t.hostLanguage=n,r(u)}else i(Er(e,"internal-error"))},xo("".concat(Do,"?").concat(Et({onload:So,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Er(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=eo().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Fo(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Oo=function(){function e(){l(this,e)}return h(e,[{key:"load",value:function(){var e=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Co(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Ro="recaptcha",Po={theme:"light",type:"image"},Lo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Po),r=arguments.length>2?arguments[2]:void 0;l(this,e),this.parameters=n,this.type=Ro,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ji(r),this.isInvisible="invisible"===this.parameters.size,Cr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Cr(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Oo:new No,this.validateStartingState()}return h(e,[{key:"verify",value:function(){var e=We(je().mark((function e(){var t,n,r,i=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Cr(!this.parameters.sitekey,this.auth,"argument-error"),Cr(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Cr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=eo()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Cr(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=We(je().mark((function e(){var t,n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=We(je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cr(Fr()&&!to(),this.auth,"internal-error"),e.next=3,Bo();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ko(this.auth);case 8:Cr(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Cr(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Bo(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Mo=function(){function e(t,n){l(this,e),this.verificationId=t,this.onConfirmation=n}return h(e,[{key:"confirm",value:function(e){var t=xa._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function jo(){return jo=We(je().mark((function e(t,n,r){var i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ji(t),e.next=3,qo(i,n,St(r));case 3:return a=e.sent,e.abrupt("return",new Mo(a,(function(e){return Za(i,e)})));case 5:case"end":return e.stop()}}),e)}))),jo.apply(this,arguments)}function Uo(e,t,n){return Vo.apply(this,arguments)}function Vo(){return(Vo=We(je().mark((function e(t,n,r){var i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=St(t),e.next=3,Ka(!1,i,"phone");case 3:return e.next=5,qo(i.auth,n,St(r));case 5:return a=e.sent,e.abrupt("return",new Mo(a,(function(e){return tu(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zo(){return(zo=We(je().mark((function e(t,n,r){var i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=St(t),e.next=3,qo(i.auth,n,St(r));case 3:return a=e.sent,e.abrupt("return",new Mo(a,(function(e){return ru(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qo(e,t,n){return Wo.apply(this,arguments)}function Wo(){return Wo=We(je().mark((function e(t,n,r){var i,a,u,o,s,c,l,f,h;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Cr("string"===typeof a,t,"argument-error"),Cr(r.type===Ro,t,"argument-error"),!("session"in(u="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(o=u.session,!("phoneNumber"in u)){e.next=17;break}return Cr("enroll"===o.type,t,"internal-error"),e.next=13,Uu(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:u.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Cr("signin"===o.type,t,"internal-error"),Cr(c=(null===(i=u.multiFactorHint)||void 0===i?void 0:i.uid)||u.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,wo(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,ga(t,{phoneNumber:u.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Wo.apply(this,arguments)}function Ho(){return(Ho=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ha(St(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Go=function(){function e(t){l(this,e),this.providerId=e.PROVIDER_ID,this.auth=ji(t)}return h(e,[{key:"verifyPhoneNumber",value:function(e,t){return qo(this.auth,e,St(t))}}],[{key:"credential",value:function(e,t){return xa._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?xa._fromTokenResponse(n,r):null}}]),e}();function Ko(e,t){return t?Dr(t):(Cr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Go.PROVIDER_ID="phone",Go.PHONE_SIGN_IN_METHOD="phone";var Qo=function(e){p(n,e);var t=w(n);function n(e){var r;return l(this,n),(r=t.call(this,"custom","custom")).params=e,r}return h(n,[{key:"_getIdTokenResponse",value:function(e){return pa(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return pa(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return pa(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Wi);function Yo(e){return Xa(e.auth,new Qo(e),e.bypassAuthState)}function $o(e){var t=e.auth,n=e.user;return Cr(n,t,"internal-error"),Ya(n,new Qo(e),e.bypassAuthState)}function Xo(e){return Jo.apply(this,arguments)}function Jo(){return Jo=We(je().mark((function e(t){var n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Cr(r=t.user,n,"internal-error"),e.abrupt("return",Ha(r,new Qo(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Jo.apply(this,arguments)}var Zo=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];l(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return h(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=We(je().mark((function t(n,r){return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=We(je().mark((function e(t){var n,r,i,a,u,o,s;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,u=t.error,o=t.type,!u){e.next=4;break}return this.reject(u),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(o)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Yo;case"linkViaPopup":case"linkViaRedirect":return Xo;case"reauthViaPopup":case"reauthViaRedirect":return $o;default:kr(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),es=new Rr(2e3,1e4);function ts(e,t,n){return ns.apply(this,arguments)}function ns(){return ns=We(je().mark((function e(t,n,r){var i,a,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ji(t),Ar(t,n,Ca),a=Ko(i,r),u=new us(i,"signInViaPopup",n,a),e.abrupt("return",u.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),ns.apply(this,arguments)}function rs(){return(rs=We(je().mark((function e(t,n,r){var i,a,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ar((i=St(t)).auth,n,Ca),a=Ko(i.auth,r),u=new us(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",u.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function is(e,t,n){return as.apply(this,arguments)}function as(){return(as=We(je().mark((function e(t,n,r){var i,a,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ar((i=St(t)).auth,n,Ca),a=Ko(i.auth,r),u=new us(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",u.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var us=function(e){p(n,e);var t=w(n);function n(e,r,i,a,u){var o;return l(this,n),(o=t.call(this,e,r,a,u)).provider=i,o.authWindow=null,o.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=y(o),o}return h(n,[{key:"executeNotNull",value:function(){var e=We(je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Cr(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=We(je().mark((function e(){var t,n=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sr(1===this.filter.length,"Popup operations only handle one event"),t=Ju(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Er(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Er(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Er(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,es.get())}()}}]),n}(Zo);us.currentPopupAction=null;var os=new Map,ss=function(e){p(n,e);var t=w(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return h(n,[{key:"execute",value:function(){var e=We(je().mark((function e(){var t,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=os.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,cs(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,tr(v(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:os.set(this.auth._key(),t);case 21:return this.bypassAuthState||os.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=We(je().mark((function e(t){var r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",tr(v(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",tr(v(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Zo);function cs(e,t){return ls.apply(this,arguments)}function ls(){return ls=We(je().mark((function e(t,n){var r,i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vs(n),i=ps(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),ls.apply(this,arguments)}function fs(e,t){return hs.apply(this,arguments)}function hs(){return hs=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ps(t)._set(vs(n),"true"));case 1:case"end":return e.stop()}}),e)}))),hs.apply(this,arguments)}function ds(e,t){os.set(e._key(),t)}function ps(e){return Dr(e._redirectPersistence)}function vs(e){return Ei("pendingRedirect",e.config.apiKey,e.name)}function ms(e,t,n){return function(e,t,n){return gs.apply(this,arguments)}(e,t,n)}function gs(){return gs=We(je().mark((function e(t,n,r){var i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ji(t),Ar(t,n,Ca),e.next=4,i._initializationPromise;case 4:return a=Ko(i,r),e.next=7,fs(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),gs.apply(this,arguments)}function ys(e,t,n){return function(e,t,n){return bs.apply(this,arguments)}(e,t,n)}function bs(){return(bs=We(je().mark((function e(t,n,r){var i,a,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ar((i=St(t)).auth,n,Ca),e.next=4,i.auth._initializationPromise;case 4:return a=Ko(i.auth,r),e.next=7,fs(a,i.auth);case 7:return e.next=9,Cs(i);case 9:return u=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",u));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ws(e,t,n){return function(e,t,n){return ks.apply(this,arguments)}(e,t,n)}function ks(){return(ks=We(je().mark((function e(t,n,r){var i,a,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ar((i=St(t)).auth,n,Ca),e.next=4,i.auth._initializationPromise;case 4:return a=Ko(i.auth,r),e.next=7,Ka(!1,i,n.providerId);case 7:return e.next=9,fs(a,i.auth);case 9:return e.next=11,Cs(i);case 11:return u=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",u));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Es(e,t){return xs.apply(this,arguments)}function xs(){return xs=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ji(t)._initializationPromise;case 2:return e.abrupt("return",As(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),xs.apply(this,arguments)}function As(e,t){return _s.apply(this,arguments)}function _s(){return _s=We(je().mark((function e(t,n){var r,i,a,u,o,s=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=ji(t),a=Ko(i,n),u=new ss(i,a,r),e.next=6,u.execute();case 6:if(!(o=e.sent)||r){e.next=13;break}return delete o.user._redirectEventId,e.next=11,i._persistUserIfCurrent(o.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)}))),_s.apply(this,arguments)}function Cs(e){return Ts.apply(this,arguments)}function Ts(){return(Ts=We(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ju("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ss=function(){function e(t){l(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return h(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ds(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ds(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Er(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Is(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Is(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Is(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Ds(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Ns(e){return Fs.apply(this,arguments)}function Fs(){return Fs=We(je().mark((function e(t){var n,r=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ur(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Fs.apply(this,arguments)}var Os=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rs=/^https?/;function Ps(){return Ps=We(je().mark((function e(t){var n,r,i,a,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ns(t);case 4:n=e.sent,r=n.authorizedDomains,i=T(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(u=a.value,e.prev=11,!Ls(u)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:kr(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Ps.apply(this,arguments)}function Ls(e){var t=Nr(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Rs.test(r))return!1;if(Os.test(e))return i===e;var u=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+u+"|"+u+")$","i").test(i)}var Bs=new Rr(3e4,6e4);function Ms(){var e=eo().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=c(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var js=null;function Us(e){return js=js||function(e){return new Promise((function(t,n){var r,i,a;function u(){Ms(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Ms(),n(Er(e,"network-request-failed"))},timeout:Bs.get()})}if(null===(i=null===(r=eo().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=eo().gapi)||void 0===a?void 0:a.load)){var o=Ao("iframefcb");return eo()[o]=function(){gapi.load?u():n(Er(e,"network-request-failed"))},xo("https://apis.google.com/js/api.js?onload=".concat(o)).catch((function(e){return n(e)}))}u()}})).catch((function(e){throw js=null,e}))}(e),js}var Vs=new Rr(5e3,15e3),zs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ws(e){var t=e.config;Cr(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Pr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:xn},i=qs.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Et(r).slice(1))}function Hs(e){return Gs.apply(this,arguments)}function Gs(){return Gs=We(je().mark((function e(t){var n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Us(t);case 2:return n=e.sent,Cr(r=eo().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Ws(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zs,dontclear:!0},(function(e){return new Promise(function(){var n=We(je().mark((function n(r,i){var a,u,o;return je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=function(){eo().clearTimeout(u),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Er(t,"network-request-failed"),u=eo().setTimeout((function(){i(a)}),Vs.get()),e.ping(o).then(o,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Gs.apply(this,arguments)}var Ks={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qs="_blank",Ys="http://localhost",$s=function(){function e(t){l(this,e),this.window=t,this.associatedEvent=null}return h(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Xs(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString(),o="",s=Object.assign(Object.assign({},Ks),{width:r.toString(),height:i.toString(),top:a,left:u}),c=ct().toLowerCase();n&&(o=Ti(c)?Qs:n),_i(c)&&(t=t||Ys,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=x(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Oi(c)&&"_self"!==o)return Js(t||"",o),new $s(null);var f=window.open(t||"",o,l);Cr(f,e,"popup-blocked");try{f.focus()}catch(h){}return new $s(f)}function Js(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Zs="__/auth/handler",ec="emulator/auth/handler";function tc(e,t,n,r,i,a){Cr(e.config.authDomain,e,"auth-domain-config-required"),Cr(e.config.apiKey,e,"invalid-api-key");var u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:xn,eventId:i};if(t instanceof Ca){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(var o=0,s=Object.entries(a||{});o<s.length;o++){var c=x(s[o],2),l=c[0],f=c[1];u[l]=f}}if(t instanceof Ta){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(u.scopes=h.join(","))}e.tenantId&&(u.tid=e.tenantId);for(var d=u,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Zs);return Pr(t,ec)}(e),"?").concat(Et(d).slice(1))}var nc="webStorageSupport",rc=function(){function e(){l(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yu,this._completeRedirectFn=As,this._overrideRedirectResult=ds}return h(e,[{key:"_openPopup",value:function(){var e=We(je().mark((function e(t,n,r,i){var a,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sr(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),u=tc(t,n,r,Nr(),i),e.abrupt("return",Xs(t,u,Ju()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=We(je().mark((function e(t,n,r,i){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=tc(t,n,r,Nr(),i),eo().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Sr(a,"If manager is not set, promise should be"),a)}var u=this.initAndGetManager(e);return this.eventManagers[n]={promise:u},u.catch((function(){delete t.eventManagers[n]})),u}},{key:"initAndGetManager",value:function(){var e=We(je().mark((function e(t){var n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hs(t);case 2:return n=e.sent,r=new Ss(t),n.register("authEvent",(function(e){return Cr(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(nc,{type:nc},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),kr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ps.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Pi()||Ci()||Fi()}}]),e}(),ic=rc,ac=function(){function e(t){l(this,e),this.factorId=t}return h(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Tr("unexpected MultiFactorSessionType")}}}]),e}(),uc=function(e){p(n,e);var t=w(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone")).credential=e,r}return h(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ur(e,"POST","/v2/accounts/mfaEnrollment:finalize",jr(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ur(e,"POST","/v2/accounts/mfaSignIn:finalize",jr(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(ac),oc=function(){function e(){l(this,e)}return h(e,null,[{key:"assertion",value:function(e){return uc._fromCredential(e)}}]),e}();oc.FACTOR_ID="phone";var sc="@firebase/auth",cc="0.21.1",lc=function(){function e(t){l(this,e),this.auth=t,this.internalListeners=new Map}return h(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=We(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Cr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var fc;!function(e){var t;null===(t=at())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function hc(){return window}fc="Browser",mn(new It("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,u=a.apiKey,o=a.authDomain;return function(e,t){Cr(u&&!u.includes(":"),"invalid-api-key",{appName:e.name}),Cr(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var r={apiKey:u,authDomain:o,clientPlatform:fc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Li(fc)},i=new Mi(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Dr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),mn(new It("auth-internal",(function(e){return function(e){return new lc(e)}(ji(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),In(sc,cc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(fc)),In(sc,cc,"esm2017");function dc(e,t,n){return pc.apply(this,arguments)}function pc(){return pc=We(je().mark((function e(t,n,r){var i,a,u,o,s;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=hc(),u=a.BuildInfo,Sr(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,wc(n.sessionId);case 4:return o=e.sent,s={},Fi()?s.ibi=u.packageName:Ii()?s.apn=u.packageName:kr(t,"operation-not-supported-in-this-environment"),u.displayName&&(s.appDisplayName=u.displayName),s.sessionId=o,e.abrupt("return",tc(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),pc.apply(this,arguments)}function vc(){return vc=We(je().mark((function e(t){var n,r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hc(),r=n.BuildInfo,i={},Fi()?i.iosBundleId=r.packageName:Ii()?i.androidPackageName=r.packageName:kr(t,"operation-not-supported-in-this-environment"),e.next=5,Ns(t,i);case 5:case"end":return e.stop()}}),e)}))),vc.apply(this,arguments)}function mc(e){var t=hc().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function gc(e,t,n){return yc.apply(this,arguments)}function yc(){return yc=We(je().mark((function e(t,n,r){var i,a,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hc(),a=i.cordova,u=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var o=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){o||(o=window.setTimeout((function(){i(Er(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Ii()&&document.addEventListener("visibilitychange",l,!1),u=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),o&&window.clearTimeout(o)}}));case 5:return e.prev=5,u(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),yc.apply(this,arguments)}function bc(e){var t,n,r,i,a,u,o,s,c,l,f=hc();Cr("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Cr("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Cr("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Cr("function"===typeof(null===(s=null===(o=null===(u=null===f||void 0===f?void 0:f.cordova)||void 0===u?void 0:u.plugins)||void 0===o?void 0:o.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Cr("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function wc(e){return kc.apply(this,arguments)}function kc(){return(kc=We(je().mark((function e(t){var n,r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ec(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ec(e){if(Sr(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var xc=function(e){p(n,e);var t=w(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return h(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),tr(v(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Ss);function Ac(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Ic(),postBody:null,tenantId:e.tenantId,error:Er(e,"no-auth-event")}}function _c(e,t){return Dc()._set(Nc(e),t)}function Cc(e){return Tc.apply(this,arguments)}function Tc(){return Tc=We(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dc()._get(Nc(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Dc()._remove(Nc(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Tc.apply(this,arguments)}function Sc(e,t){var n,r,i=function(e){var t=Fc(e),n=t.link?decodeURIComponent(t.link):void 0,r=Fc(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Fc(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Fc(i),u=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,o=null===(r=null===(n=null===u||void 0===u?void 0:u.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=o?Er(o):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Ic(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Dc(){return Dr(Ku)}function Nc(e){return Ei("authEvent",e.config.apiKey,e.name)}function Fc(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=C(e.split("?"));t[0];return xt(t.slice(1).join("?"))}var Oc=function(){function e(){l(this,e),this._redirectPersistence=Yu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=As,this._overrideRedirectResult=ds}return h(e,[{key:"_initialize",value:function(){var e=We(je().mark((function e(t){var n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new xc(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){kr(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=We(je().mark((function e(t,n,r,i){var a,u,o,s;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bc(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),os.clear(),e.next=10,this._originValidation(t);case 10:return u=Ac(t,r,i),e.next=13,_c(t,u);case 13:return e.next=15,dc(t,u,n);case 15:return o=e.sent,e.next=18,mc(o);case 18:return s=e.sent,e.abrupt("return",gc(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return vc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=hc(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,u=setTimeout(We(je().mark((function n(){return je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Cc(e);case 2:t.onEvent(Pc());case 3:case"end":return n.stop()}}),n)}))),500),o=function(){var n=We(je().mark((function n(r){var i,a;return je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(u),n.next=3,Cc(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Sc(i,r.url)),t.onEvent(a||Pc());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,o);var s=i,c="".concat(a.packageName.toLowerCase(),"://");hc().handleOpenURL=function(){var e=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&o({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Rc=Oc;function Pc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Er("no-auth-event")}}function Lc(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Bc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct();return!("file:"!==Lc()&&"ionic:"!==Lc()&&"capacitor:"!==Lc()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mc(){return dt()&&11===(null===document||void 0===document?void 0:document.documentMode)}function jc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct();return/Edge\/\d+/.test(e)}function Uc(){try{var e=self.localStorage,t=Ju();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct();return Mc()||jc(e)}()||pt()}catch(n){return Vc()&&pt()}return!1}function Vc(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function zc(){return("http:"===Lc()||"https:"===Lc()||ft()||Bc())&&!(ht()||lt())&&Uc()&&!Vc()}function qc(){return Bc()&&"undefined"!==typeof document}function Wc(){return Hc.apply(this,arguments)}function Hc(){return(Hc=We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qc()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gc={LOCAL:"local",NONE:"none",SESSION:"session"},Kc=Cr,Qc="persistence";function Yc(e,t){Kc(Object.values(Gc).includes(t),e,"invalid-persistence-type"),ht()?Kc(t!==Gc.SESSION,e,"unsupported-persistence-type"):lt()?Kc(t===Gc.NONE,e,"unsupported-persistence-type"):Vc()?Kc(t===Gc.NONE||t===Gc.LOCAL&&pt(),e,"unsupported-persistence-type"):Kc(t===Gc.NONE||Uc(),e,"unsupported-persistence-type")}function $c(e){return Xc.apply(this,arguments)}function Xc(){return Xc=We(je().mark((function e(t){var n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Jc(),r=Ei(Qc,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Xc.apply(this,arguments)}function Jc(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Zc=Cr,el=function(){function e(){l(this,e),this.browserResolver=Dr(ic),this.cordovaResolver=Dr(Rc),this.underlyingResolver=null,this._redirectPersistence=Yu,this._completeRedirectFn=As,this._overrideRedirectResult=ds}return h(e,[{key:"_initialize",value:function(){var e=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=We(je().mark((function e(t,n,r,i){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=We(je().mark((function e(t,n,r,i){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return qc()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Zc(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=We(je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Wc();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function tl(e){return e.unwrap()}function nl(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new ol(e,function(e,t){var n,r=St(e),i=t;return Cr(t.customData.operationType,r,"argument-error"),Cr(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),ju._fromError(r,i)}(e,t));else if(r){var i=rl(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function rl(e){var t=(e instanceof vt?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof vt)&&"temporaryProof"in t&&"phoneNumber"in t)return Go.credentialFromResult(e);var n,r=t.providerId;if(!r||r===or)return null;switch(r){case ur:n=Da;break;case ir:n=Ia;break;case ar:n=Na;break;case sr:n=Ra;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,u=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce;return a||u||i||o?o?r.startsWith("saml.")?Fa._create(r,o):ma._fromParams({providerId:r,signInMethod:r,pendingToken:o,idToken:i,accessToken:a}):new Sa(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof vt?n.credentialFromError(e):n.credentialFromResult(e)}function il(e,t){return t.catch((function(t){throw t instanceof vt&&nl(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,rl(t)),additionalUserInfo:Bu(e),user:sl.getOrCreate(r)}}))}function al(e,t){return ul.apply(this,arguments)}function ul(){return ul=We(je().mark((function e(t,n){var r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return il(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),ul.apply(this,arguments)}var ol=function(){function e(t,n){l(this,e),this.resolver=n,this.auth=t.wrapped()}return h(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return il(tl(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),sl=function(){function e(t){l(this,e),this._delegate=t,this.multiFactor=function(e){var t=St(e);return qu.has(t)||qu.set(t,zu._fromUser(t)),qu.get(t)}(t)}return h(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",il(this.auth,tu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",al(this.auth,Uo(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",il(this.auth,is(this._delegate,t,el)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$c(ji(this.auth));case 2:return e.abrupt("return",ws(this._delegate,t,el));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",il(this.auth,ru(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return al(this.auth,function(e,t,n){return zo.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return il(this.auth,function(e,t,n){return rs.apply(this,arguments)}(this._delegate,e,el))}},{key:"reauthenticateWithRedirect",value:function(){var e=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$c(ji(this.auth));case 2:return e.abrupt("return",ys(this._delegate,t,el));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Au.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qa(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Iu(St(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Iu(St(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Ho.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Su.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return _u.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();sl.USER_MAP=new WeakMap;var cl=Cr,ll=function(){function e(t,n){if(l(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;cl(r,"invalid-api-key",{appName:t.name}),cl(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?el:void 0;this._delegate=n.initialize({options:{persistence:hl(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(mr),this.linkUnderlyingAuth()}return h(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?sl.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Vi(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return du.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return pu(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return hu.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",il(this._delegate,gu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return xu.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Aa.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=We(je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cl(zc(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Es(this._delegate,el);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",il(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){ji(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=fl(e,t,n),i=r.next,a=r.error,u=r.complete;return this._delegate.onAuthStateChanged(i,a,u)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=fl(e,t,n),i=r.next,a=r.error,u=r.complete;return this._delegate.onIdTokenChanged(i,a,u)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return bu.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return fu.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=We(je().mark((function e(t){var n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Yc(this._delegate,t),e.t0=t,e.next=e.t0===Gc.SESSION?4:e.t0===Gc.LOCAL?6:e.t0===Gc.NONE?11:13;break;case 4:return n=Yu,e.abrupt("break",14);case 6:return e.next=8,Dr(bo)._isAvailable();case 8:return r=e.sent,n=r?bo:Ku,e.abrupt("break",14);case 11:return n=ki,e.abrupt("break",14);case 13:return e.abrupt("return",kr("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return il(this._delegate,function(e){return ja.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return il(this._delegate,Za(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return il(this._delegate,function(e,t){return ou.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return il(this._delegate,function(e,t,n){return Za(St(e),_a.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return il(this._delegate,function(e,t,n){return wu.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return al(this._delegate,function(e,t,n){return jo.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cl(zc(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",il(this._delegate,ts(this._delegate,t,el)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cl(zc(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,$c(this._delegate);case 3:return e.abrupt("return",ms(this._delegate,t,el));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return mu.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function fl(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&sl.getOrCreate(e))},error:t,complete:n}}function hl(e,t){var n=function(e,t){var n=Jc();if(!n)return[];var r=Ei(Qc,e,t);switch(n.getItem(r)){case Gc.NONE:return[ki];case Gc.LOCAL:return[bo,Yu];case Gc.SESSION:return[Yu];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(bo)||n.push(bo),"undefined"!==typeof window)for(var r=0,i=[Ku,Yu];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ki)||n.push(ki),n}ll.Persistence=Gc;var dl=function(){function e(){l(this,e),this.providerId="phone",this._delegate=new Go(tl(Zn.auth()))}return h(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Go.credential(e,t)}}]),e}();dl.PHONE_SIGN_IN_METHOD=Go.PHONE_SIGN_IN_METHOD,dl.PROVIDER_ID=Go.PROVIDER_ID;var pl,vl=Cr,ml=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zn.app();l(this,e),vl(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Lo(t,n,i.auth()),this.type=this._delegate.type}return h(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(pl=Zn).INTERNAL.registerComponent(new It("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new ll(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:cr,PASSWORD_RESET:lr,RECOVER_EMAIL:fr,REVERT_SECOND_FACTOR_ADDITION:hr,VERIFY_AND_CHANGE_EMAIL:dr,VERIFY_EMAIL:pr}},EmailAuthProvider:_a,FacebookAuthProvider:Ia,GithubAuthProvider:Na,GoogleAuthProvider:Da,OAuthProvider:Sa,SAMLAuthProvider:Oa,PhoneAuthProvider:dl,PhoneMultiFactorGenerator:oc,RecaptchaVerifier:ml,TwitterAuthProvider:Ra,Auth:ll,AuthCredential:Wi,Error:vt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),pl.registerVersion("@firebase/auth-compat","0.3.1");var gl,yl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},bl={},wl=wl||{},kl=yl||self;function El(){}function xl(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Al(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var _l="closure_uid_"+(1e9*Math.random()>>>0),Cl=0;function Tl(e,t,n){return e.call.apply(e.bind,arguments)}function Sl(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Il(e,t,n){return(Il=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Tl:Sl).apply(null,arguments)}function Dl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Nl(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Fl(){this.s=this.s,this.o=this.o}Fl.prototype.s=!1,Fl.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,_l)&&e[_l]||(e[_l]=++Cl)}(this)},Fl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ol=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Rl(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Pl(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(xl(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var u=0;u<a;u++)e[i+u]=r[u]}else e.push(r)}}function Ll(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ll.prototype.h=function(){this.defaultPrevented=!0};var Bl=function(){if(!kl.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{kl.addEventListener("test",El,t),kl.removeEventListener("test",El,t)}catch(n){}return e}();function Ml(e){return/^[\s\xa0]*$/.test(e)}var jl=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ul(e,t){return e<t?-1:e>t?1:0}function Vl(){var e=kl.navigator;return e&&(e=e.userAgent)?e:""}function zl(e){return-1!=Vl().indexOf(e)}function ql(e){return ql[" "](e),e}ql[" "]=El;var Wl,Hl=zl("Opera"),Gl=zl("Trident")||zl("MSIE"),Kl=zl("Edge"),Ql=Kl||Gl,Yl=zl("Gecko")&&!(-1!=Vl().toLowerCase().indexOf("webkit")&&!zl("Edge"))&&!(zl("Trident")||zl("MSIE"))&&!zl("Edge"),$l=-1!=Vl().toLowerCase().indexOf("webkit")&&!zl("Edge");function Xl(){var e=kl.document;return e?e.documentMode:void 0}e:{var Jl="",Zl=function(){var e=Vl();return Yl?/rv:([^\);]+)(\)|;)/.exec(e):Kl?/Edge\/([\d\.]+)/.exec(e):Gl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):$l?/WebKit\/(\S+)/.exec(e):Hl?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Zl&&(Jl=Zl?Zl[1]:""),Gl){var ef=Xl();if(null!=ef&&ef>parseFloat(Jl)){Wl=String(ef);break e}}Wl=Jl}var tf,nf={};function rf(){return function(e){var t=nf;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=jl(String(Wl)).split("."),n=jl("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",u=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==a[0].length&&0==u[0].length)break;e=Ul(0==a[1].length?0:parseInt(a[1],10),0==u[1].length?0:parseInt(u[1],10))||Ul(0==a[2].length,0==u[2].length)||Ul(a[2],u[2]),a=a[3],u=u[3]}while(0==e)}return 0<=e}))}if(kl.document&&Gl){var af=Xl();tf=af||(parseInt(Wl,10)||void 0)}else tf=void 0;var uf=tf;function of(e,t){if(Ll.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Yl){e:{try{ql(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:sf[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&of.X.h.call(this)}}Nl(of,Ll);var sf={2:"touch",3:"pen",4:"mouse"};of.prototype.h=function(){of.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var cf="closure_listenable_"+(1e6*Math.random()|0),lf=0;function ff(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++lf,this.ba=this.ea=!1}function hf(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function df(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function pf(e){var t={};for(var n in e)t[n]=e[n];return t}var vf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mf(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<vf.length;a++)n=vf[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function gf(e){this.src=e,this.g={},this.h=0}function yf(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Ol(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(hf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function bf(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}gf.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var u=bf(e,t,r,i);return-1<u?(t=e[u],n||(t.ea=!1)):((t=new ff(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var wf="closure_lm_"+(1e6*Math.random()|0),kf={};function Ef(e,t,n,r,i){if(r&&r.once)return Af(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ef(e,t[a],n,r,i);return null}return n=Nf(n),e&&e[cf]?e.N(t,n,Al(r)?!!r.capture:!!r,i):xf(e,t,n,!1,r,i)}function xf(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var u=Al(i)?!!i.capture:!!i,o=If(e);if(o||(e[wf]=o=new gf(e)),(n=o.add(t,n,r,u,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Sf;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Bl||(i=u),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Tf(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Af(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Af(e,t[a],n,r,i);return null}return n=Nf(n),e&&e[cf]?e.O(t,n,Al(r)?!!r.capture:!!r,i):xf(e,t,n,!0,r,i)}function _f(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)_f(e,t[a],n,r,i);else r=Al(r)?!!r.capture:!!r,n=Nf(n),e&&e[cf]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=bf(a=e.g[t],n,r,i))&&(hf(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=If(e))&&(t=e.g[t.toString()],e=-1,t&&(e=bf(t,n,r,i)),(n=-1<e?t[e]:null)&&Cf(n))}function Cf(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[cf])yf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Tf(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=If(t))?(yf(n,e),0==n.h&&(n.src=null,t[wf]=null)):hf(e)}}}function Tf(e){return e in kf?kf[e]:kf[e]="on"+e}function Sf(e,t){if(e.ba)e=!0;else{t=new of(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Cf(e),e=n.call(r,t)}return e}function If(e){return(e=e[wf])instanceof gf?e:null}var Df="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nf(e){return"function"===typeof e?e:(e[Df]||(e[Df]=function(t){return e.handleEvent(t)}),e[Df])}function Ff(){Fl.call(this),this.i=new gf(this),this.P=this,this.I=null}function Of(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Ll(t,e);else if(t instanceof Ll)t.target=t.target||e;else{var i=t;mf(t=new Ll(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var u=t.g=n[a];i=Rf(u,r,!0,t)&&i}if(i=Rf(u=t.g=e,r,!0,t)&&i,i=Rf(u,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Rf(u=t.g=n[a],r,!1,t)&&i}function Rf(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var u=t[a];if(u&&!u.ba&&u.capture==n){var o=u.listener,s=u.ha||u.src;u.ea&&yf(e.i,u),i=!1!==o.call(s,r)&&i}}return i&&!r.defaultPrevented}Nl(Ff,Fl),Ff.prototype[cf]=!0,Ff.prototype.removeEventListener=function(e,t,n,r){_f(this,e,t,n,r)},Ff.prototype.M=function(){if(Ff.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)hf(n[r]);delete t.g[e],t.h--}}this.I=null},Ff.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ff.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Pf=kl.JSON.stringify;function Lf(){var e=Wf,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Bf,Mf=function(){function e(){l(this,e),this.h=this.g=null}return h(e,[{key:"add",value:function(e,t){var n=jf.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),jf=new(function(){function e(t,n){l(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return h(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Uf}),(function(e){return e.reset()})),Uf=function(){function e(){l(this,e),this.next=this.g=this.h=null}return h(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Vf(e){kl.setTimeout((function(){throw e}),0)}function zf(e,t){Bf||function(){var e=kl.Promise.resolve(void 0);Bf=function(){e.then(Hf)}}(),qf||(Bf(),qf=!0),Wf.add(e,t)}var qf=!1,Wf=new Mf;function Hf(){for(var e;e=Lf();){try{e.h.call(e.g)}catch(n){Vf(n)}var t=jf;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}qf=!1}function Gf(e,t){Ff.call(this),this.h=e||1,this.g=t||kl,this.j=Il(this.lb,this),this.l=Date.now()}function Kf(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Qf(e,t,n){if("function"===typeof e)n&&(e=Il(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Il(e.handleEvent,e)}return 2147483647<Number(t)?-1:kl.setTimeout(e,t||0)}function Yf(e){e.g=Qf((function(){e.g=null,e.i&&(e.i=!1,Yf(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Nl(Gf,Ff),(gl=Gf.prototype).ca=!1,gl.R=null,gl.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Of(this,"tick"),this.ca&&(Kf(this),this.start()))}},gl.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gl.M=function(){Gf.X.M.call(this),Kf(this),delete this.g};var $f=function(e){p(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return h(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Yf(this)}},{key:"M",value:function(){tr(v(n.prototype),"M",this).call(this),this.g&&(kl.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Fl);function Xf(e){Fl.call(this),this.h=e,this.g={}}Nl(Xf,Fl);var Jf=[];function Zf(e,t,n,r){Array.isArray(n)||(n&&(Jf[0]=n.toString()),n=Jf);for(var i=0;i<n.length;i++){var a=Ef(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function eh(e){df(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Cf(e)}),e),e.g={}}function th(){this.g=!0}function nh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<i.length;u++)i[u]=""}}}return Pf(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}Xf.prototype.M=function(){Xf.X.M.call(this),eh(this)},Xf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},th.prototype.Aa=function(){this.g=!1},th.prototype.info=function(){};var rh={},ih=null;function ah(){return ih=ih||new Ff}function uh(e){Ll.call(this,rh.Pa,e)}function oh(e){var t=ah();Of(t,new uh(t))}function sh(e,t){Ll.call(this,rh.STAT_EVENT,e),this.stat=t}function ch(e){var t=ah();Of(t,new sh(t,e))}function lh(e,t){Ll.call(this,rh.Qa,e),this.size=t}function fh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return kl.setTimeout((function(){e()}),t)}rh.Pa="serverreachability",Nl(uh,Ll),rh.STAT_EVENT="statevent",Nl(sh,Ll),rh.Qa="timingevent",Nl(lh,Ll);var hh={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},dh={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ph(){}function vh(e){return e.h||(e.h=e.i())}function mh(){}ph.prototype.h=null;var gh,yh={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function bh(){Ll.call(this,"d")}function wh(){Ll.call(this,"c")}function kh(){}function Eh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Xf(this),this.O=Ah,e=Ql?125:void 0,this.T=new Gf(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new xh}function xh(){this.i=null,this.g="",this.h=!1}Nl(bh,Ll),Nl(wh,Ll),Nl(kh,ph),kh.prototype.g=function(){return new XMLHttpRequest},kh.prototype.i=function(){return{}},gh=new kh;var Ah=45e3,_h={},Ch={};function Th(e,t,n){e.K=1,e.v=Gh(Vh(t)),e.s=n,e.P=!0,Sh(e,null)}function Sh(e,t){e.F=Date.now(),Fh(e),e.A=Vh(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),ad(n.i,"t",r),e.C=0,n=e.l.H,e.h=new xh,e.g=ap(e.l,n?t:null,!e.s),0<e.N&&(e.L=new $f(Il(e.La,e,e.g),e.N)),Zf(e.S,e.g,"readystatechange",e.ib),t=e.H?pf(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),oh(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var u="",o=a.split("&"),s=0;s<o.length;s++){var c=o[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");u=2<=f.length&&"type"==f[1]?u+(l+"=")+c+"&":u+(l+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+u}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Ih(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Dh(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Nh(e,n))==Ch){4==t&&(e.o=4,ch(14),i=!1),nh(e.j,e.m,null,"[Incomplete Response]");break}if(r==_h){e.o=4,ch(15),nh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}nh(e.j,e.m,r,null),Bh(e,r)}Ih(e)&&r!=Ch&&r!=_h&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ch(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xd(t),t.K=!0,ch(11))):(nh(e.j,e.m,n,"[Invalid Chunked Response]"),Lh(e),Ph(e))}function Nh(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ch:(n=Number(t.substring(n,r)),isNaN(n)?_h:(r+=1)+n>t.length?Ch:(t=t.substr(r,n),e.C=r+n,t))}function Fh(e){e.V=Date.now()+e.O,Oh(e,e.O)}function Oh(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=fh(Il(e.gb,e),t)}function Rh(e){e.B&&(kl.clearTimeout(e.B),e.B=null)}function Ph(e){0==e.l.G||e.I||ep(e.l,e)}function Lh(e){Rh(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Kf(e.T),eh(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Bh(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||hd(n.h,e)))if(!e.J&&hd(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zd(n),qd(n)}$d(n),ch(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=fh(Il(n.cb,n),6e3));if(1>=fd(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else np(n,11)}else if((e.J||n.g==e)&&Zd(n),!Ml(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var u=a[3];null!=u&&(n.ma=u,n.j.info("VER="+n.ma));var o=a[4];null!=o&&(n.Ca=o,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(dd(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Hh(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=ip(r,r.H?r.ka:null,r.V),d.J){pd(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Rh(p),Fh(p)),r.g=d}else Yd(r);0<n.i.length&&Hd(n)}else"stop"!=a[0]&&"close"!=a[0]||np(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?np(n,7):zd(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}oh()}catch(a){}}function Mh(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(xl(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(xl(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(xl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(gl=Eh.prototype).setTimeout=function(e){this.O=e},gl.ib=function(e){e=e.target;var t=this.L;t&&3==Ld(e)?t.l():this.La(e)},gl.La=function(e){try{if(e==this.g)e:{var t=Ld(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Ql||this.g&&(this.h.h||this.g.fa()||Bd(this.g)))){this.I||4!=t||7==n||oh(),Rh(this);var r=this.g.aa();this.Y=r;t:if(Ih(this)){var i=Bd(this.g);e="";var a=i.length,u=4==Ld(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Lh(this),Ph(this);var o="";break t}this.h.i=new kl.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:u&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,u){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+u}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ml(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,ch(12),Lh(this),Ph(this);break e}nh(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Bh(this,r)}this.P?(Dh(this,t,o),Ql&&this.i&&3==t&&(Zf(this.S,this.T,"tick",this.hb),this.T.start())):(nh(this.j,this.m,o,null),Bh(this,o)),4==t&&Lh(this),this.i&&!this.I&&(4==t?ep(this.l,this):(this.i=!1,Fh(this)))}else 400==r&&0<o.indexOf("Unknown SID")?(this.o=3,ch(12)):(this.o=0,ch(13)),Lh(this),Ph(this)}}}catch(t){}},gl.hb=function(){if(this.g){var e=Ld(this.g),t=this.g.fa();this.C<t.length&&(Rh(this),Dh(this,e,t),this.i&&4!=e&&Fh(this))}},gl.cancel=function(){this.I=!0,Lh(this)},gl.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(oh(),ch(17)),Lh(this),this.o=2,Ph(this)):Oh(this,this.V-e)};var jh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uh(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Uh){this.h=void 0!==t?t:e.h,zh(this,e.j),this.s=e.s,this.g=e.g,qh(this,e.m),this.l=e.l,t=e.i;var n=new td;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Wh(this,n),this.o=e.o}else e&&(n=String(e).match(jh))?(this.h=!!t,zh(this,n[1]||"",!0),this.s=Kh(n[2]||""),this.g=Kh(n[3]||"",!0),qh(this,n[4]),this.l=Kh(n[5]||"",!0),Wh(this,n[6]||"",!0),this.o=Kh(n[7]||"")):(this.h=!!t,this.i=new td(null,this.h))}function Vh(e){return new Uh(e)}function zh(e,t,n){e.j=n?Kh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function qh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Wh(e,t,n){t instanceof td?(e.i=t,function(e,t){t&&!e.j&&(nd(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(rd(this,t),ad(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Qh(t,Zh)),e.i=new td(t,e.h))}function Hh(e,t,n){e.i.set(t,n)}function Gh(e){return Hh(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Kh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Qh(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Yh),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Yh(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Uh.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Qh(t,$h,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Qh(t,$h,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Qh(n,"/"==n.charAt(0)?Jh:Xh,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Qh(n,ed)),e.join("")};var $h=/[#\/\?@]/g,Xh=/[#\?:]/g,Jh=/[#\?]/g,Zh=/[#\?@]/g,ed=/#/g;function td(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function nd(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function rd(e,t){nd(e),t=ud(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function id(e,t){return nd(e),t=ud(e,t),e.g.has(t)}function ad(e,t,n){rd(e,t),0<n.length&&(e.i=null,e.g.set(ud(e,t),Rl(n)),e.h+=n.length)}function ud(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(gl=td.prototype).add=function(e,t){nd(this),this.i=null,e=ud(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},gl.forEach=function(e,t){nd(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},gl.oa=function(){nd(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},gl.W=function(e){nd(this);var t=[];if("string"===typeof e)id(this,e)&&(t=t.concat(this.g.get(ud(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},gl.set=function(e,t){return nd(this),this.i=null,id(this,e=ud(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},gl.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},gl.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var u=i;""!==a[r]&&(u+="="+encodeURIComponent(String(a[r]))),e.push(u)}}return this.i=e.join("&")};var od=h((function e(t,n){l(this,e),this.h=t,this.g=n}));function sd(e){this.l=e||cd,kl.PerformanceNavigationTiming?e=0<(e=kl.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(kl.g&&kl.g.Ga&&kl.g.Ga()&&kl.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var cd=10;function ld(e){return!!e.h||!!e.g&&e.g.size>=e.j}function fd(e){return e.h?1:e.g?e.g.size:0}function hd(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function dd(e,t){e.g?e.g.add(t):e.h=t}function pd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function vd(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=T(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Rl(e.i)}function md(){}function gd(){this.g=new md}function yd(e,t,n){var r=n||"";try{Mh(e,(function(e,n){var i=e;Al(e)&&(i=Pf(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function bd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function wd(e){this.l=e.ac||null,this.j=e.jb||!1}function kd(e,t){Ff.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ed,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sd.prototype.cancel=function(){if(this.i=vd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=T(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},md.prototype.stringify=function(e){return kl.JSON.stringify(e,void 0)},md.prototype.parse=function(e){return kl.JSON.parse(e,void 0)},Nl(wd,ph),wd.prototype.g=function(){return new kd(this.l,this.j)},wd.prototype.i=function(e){return function(){return e}}({}),Nl(kd,Ff);var Ed=0;function xd(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Ad(e){e.readyState=4,e.l=null,e.j=null,e.A=null,_d(e)}function _d(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(gl=kd.prototype).open=function(e,t){if(this.readyState!=Ed)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,_d(this)},gl.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||kl).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},gl.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ad(this)),this.readyState=Ed},gl.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_d(this)),this.g&&(this.readyState=3,_d(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof kl.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xd(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},gl.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ad(this):_d(this),3==this.readyState&&xd(this)}},gl.Va=function(e){this.g&&(this.response=this.responseText=e,Ad(this))},gl.Ua=function(e){this.g&&(this.response=e,Ad(this))},gl.ga=function(){this.g&&Ad(this)},gl.setRequestHeader=function(e,t){this.v.append(e,t)},gl.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},gl.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(kd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Cd=kl.JSON.parse;function Td(e){Ff.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Sd,this.K=this.L=!1}Nl(Td,Ff);var Sd="",Id=/^https?$/i,Dd=["POST","PUT"];function Nd(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Fd(e),Rd(e)}function Fd(e){e.D||(e.D=!0,Of(e,"complete"),Of(e,"error"))}function Od(e){if(e.h&&"undefined"!=typeof wl&&(!e.C[1]||4!=Ld(e)||2!=e.aa()))if(e.v&&4==Ld(e))Qf(e.Ha,0,e);else if(Of(e,"readystatechange"),4==Ld(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(jh)[1]||null;if(!a&&kl.self&&kl.self.location){var u=kl.self.location.protocol;a=u.substr(0,u.length-1)}i=!Id.test(a?a.toLowerCase():"")}t=i}if(t)Of(e,"complete"),Of(e,"success");else{e.m=6;try{var o=2<Ld(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.aa()+"]",Fd(e)}}finally{Rd(e)}}}function Rd(e,t){if(e.g){Pd(e);var n=e.g,r=e.C[0]?El:null;e.g=null,e.C=null,t||Of(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Pd(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(kl.clearTimeout(e.A),e.A=null)}function Ld(e){return e.g?e.g.readyState:0}function Bd(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Sd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(kp){return null}}function Md(e){var t="";return df(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function jd(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Md(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Hh(e,t,n))}function Ud(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Vd(e){this.Ca=0,this.i=[],this.j=new th,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ud("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ud("baseRetryDelayMs",5e3,e),this.bb=Ud("retryDelaySeedMs",1e4,e),this.$a=Ud("forwardChannelMaxRetries",2,e),this.ta=Ud("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new sd(e&&e.concurrentRequestLimit),this.Fa=new gd,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function zd(e){if(Wd(e),3==e.G){var t=e.U++,n=Vh(e.F);Hh(n,"SID",e.I),Hh(n,"RID",t),Hh(n,"TYPE","terminate"),Kd(e,n),(t=new Eh(e,e.j,t,void 0)).K=2,t.v=Gh(Vh(n)),n=!1,kl.navigator&&kl.navigator.sendBeacon&&(n=kl.navigator.sendBeacon(t.v.toString(),"")),!n&&kl.Image&&((new Image).src=t.v,n=!0),n||(t.g=ap(t.l,null),t.g.da(t.v)),t.F=Date.now(),Fh(t)}rp(e)}function qd(e){e.g&&(Xd(e),e.g.cancel(),e.g=null)}function Wd(e){qd(e),e.u&&(kl.clearTimeout(e.u),e.u=null),Zd(e),e.h.cancel(),e.m&&("number"===typeof e.m&&kl.clearTimeout(e.m),e.m=null)}function Hd(e){ld(e.h)||e.m||(e.m=!0,zf(e.Ja,e),e.C=0)}function Gd(e,t){var n;n=t?t.m:e.U++;var r=Vh(e.F);Hh(r,"SID",e.I),Hh(r,"RID",n),Hh(r,"AID",e.T),Kd(e,r),e.o&&e.s&&jd(r,e.o,e.s),n=new Eh(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Qd(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),dd(e.h,n),Th(n,r,t)}function Kd(e,t){e.ia&&df(e.ia,(function(e,n){Hh(t,n,e)})),e.l&&Mh({},(function(e,n){Hh(t,n,e)}))}function Qd(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Il(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var u=["count="+n];-1==a?0<n?(a=i[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);for(var o=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),o=!1;else try{yd(l,u,"req"+c+"_")}catch(f){r&&r(l)}}if(o){r=u.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Yd(e){e.g||e.u||(e.Z=1,zf(e.Ia,e),e.A=0)}function $d(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=fh(Il(e.Ia,e),tp(e,e.A)),e.A++,!0)}function Xd(e){null!=e.B&&(kl.clearTimeout(e.B),e.B=null)}function Jd(e){e.g=new Eh(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Vh(e.sa);Hh(t,"RID","rpc"),Hh(t,"SID",e.I),Hh(t,"CI",e.L?"0":"1"),Hh(t,"AID",e.T),Hh(t,"TYPE","xmlhttp"),Kd(e,t),e.o&&e.s&&jd(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Gh(Vh(t)),n.s=null,n.P=!0,Sh(n,e)}function Zd(e){null!=e.v&&(kl.clearTimeout(e.v),e.v=null)}function ep(e,t){var n=null;if(e.g==t){Zd(e),Xd(e),e.g=null;var r=2}else{if(!hd(e.h,t))return;n=t.D,pd(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Of(r=ah(),new lh(r,n)),Hd(e)}else Yd(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(fd(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=fh(Il(e.Ja,e,t),tp(e,e.C)),e.C++,!0))}(e,t)||2==r&&$d(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:np(e,5);break;case 4:np(e,10);break;case 3:np(e,6);break;default:np(e,2)}}function tp(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function np(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Il(e.kb,e);n||(n=new Uh("//www.google.com/images/cleardot.gif"),kl.location&&"http"==kl.location.protocol||zh(n,"https"),Gh(n)),function(e,t){var n=new th;if(kl.Image){var r=new Image;r.onload=Dl(bd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Dl(bd,n,r,"TestLoadImage: error",!1,t),r.onabort=Dl(bd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Dl(bd,n,r,"TestLoadImage: timeout",!1,t),kl.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ch(2);e.G=0,e.l&&e.l.va(t),rp(e),Wd(e)}function rp(e){if(e.G=0,e.la=[],e.l){var t=vd(e.h);0==t.length&&0==e.i.length||(Pl(e.la,t),Pl(e.la,e.i),e.h.i.length=0,Rl(e.i),e.i.length=0),e.l.ua()}}function ip(e,t,n){var r=n instanceof Uh?Vh(n):new Uh(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),qh(r,r.m);else{var i=kl.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Uh(null,void 0);r&&zh(a,r),t&&(a.g=t),i&&qh(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Hh(r,n,t),Hh(r,"VER",e.ma),Kd(e,r),r}function ap(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Td(new wd({jb:!0})):new Td(e.ra)).Ka(e.H),t}function up(){}function op(){if(Gl&&!(10<=Number(uf)))throw Error("Environmental error: no available transport.")}function sp(e,t){Ff.call(this),this.g=new Vd(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Ml(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ml(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new fp(this)}function cp(e){bh.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function lp(){wh.call(this),this.status=1}function fp(e){this.g=e}(gl=Td.prototype).Ka=function(e){this.L=e},gl.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():gh.g(),this.C=this.u?vh(this.u):vh(gh),this.g.onreadystatechange=Il(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void Nd(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,u=T(r.keys());try{for(u.s();!(a=u.n()).done;){var o=a.value;n.set(o,r.get(o))}}catch(d){u.e(d)}finally{u.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=kl.FormData&&e instanceof kl.FormData,!(0<=Ol(Dd,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=T(n);try{for(c.s();!(s=c.n()).done;){var l=x(s.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Pd(this),0<this.B&&((this.K=function(e){return Gl&&rf()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Il(this.qa,this)):this.A=Qf(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Nd(this,o)}},gl.qa=function(){"undefined"!=typeof wl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Of(this,"timeout"),this.abort(8))},gl.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Of(this,"complete"),Of(this,"abort"),Rd(this))},gl.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rd(this,!0)),Td.X.M.call(this)},gl.Ha=function(){this.s||(this.F||this.v||this.l?Od(this):this.fb())},gl.fb=function(){Od(this)},gl.aa=function(){try{return 2<Ld(this)?this.g.status:-1}catch(e){return-1}},gl.fa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},gl.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Cd(t)}},gl.Ea=function(){return this.m},gl.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(gl=Vd.prototype).ma=8,gl.G=1,gl.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Eh(this,this.j,e,void 0),n=this.s;if(this.S&&(n?mf(n=pf(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Qd(this,t,r),Hh(i=Vh(this.F),"RID",e),Hh(i,"CVER",22),this.D&&Hh(i,"X-HTTP-Session-Id",this.D),Kd(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Md(n)))+"&"+r:this.o&&jd(i,this.o,n)),dd(this.h,t),this.Ya&&Hh(i,"TYPE","init"),this.O?(Hh(i,"$req",r),Hh(i,"SID","null"),t.Z=!0,Th(t,i,null)):Th(t,i,r),this.G=2}}else 3==this.G&&(e?Gd(this,e):0==this.i.length||ld(this.h)||Gd(this))},gl.Ia=function(){if(this.u=null,Jd(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=fh(Il(this.eb,this),e)}},gl.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ch(10),qd(this),Jd(this))},gl.cb=function(){null!=this.v&&(this.v=null,qd(this),$d(this),ch(19))},gl.kb=function(e){e?(this.j.info("Successfully pinged google.com"),ch(2)):(this.j.info("Failed to ping google.com"),ch(1))},(gl=up.prototype).xa=function(){},gl.wa=function(){},gl.va=function(){},gl.ua=function(){},gl.Ra=function(){},op.prototype.g=function(e,t){return new sp(e,t)},Nl(sp,Ff),sp.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;ch(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=ip(e,null,e.V),Hd(e)},sp.prototype.close=function(){zd(this.g)},sp.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Pf(e),e=n);t.i.push(new od(t.ab++,e)),3==t.G&&Hd(t)},sp.prototype.M=function(){this.g.l=null,delete this.j,zd(this.g),delete this.g,sp.X.M.call(this)},Nl(cp,bh),Nl(lp,wh),Nl(fp,up),fp.prototype.xa=function(){Of(this.g,"a")},fp.prototype.wa=function(e){Of(this.g,new cp(e))},fp.prototype.va=function(e){Of(this.g,new lp)},fp.prototype.ua=function(){Of(this.g,"b")},op.prototype.createWebChannel=op.prototype.g,sp.prototype.send=sp.prototype.u,sp.prototype.open=sp.prototype.m,sp.prototype.close=sp.prototype.close,hh.NO_ERROR=0,hh.TIMEOUT=8,hh.HTTP_ERROR=6,dh.COMPLETE="complete",mh.EventType=yh,yh.OPEN="a",yh.CLOSE="b",yh.ERROR="c",yh.MESSAGE="d",Ff.prototype.listen=Ff.prototype.N,Td.prototype.listenOnce=Td.prototype.O,Td.prototype.getLastError=Td.prototype.Oa,Td.prototype.getLastErrorCode=Td.prototype.Ea,Td.prototype.getStatus=Td.prototype.aa,Td.prototype.getResponseJson=Td.prototype.Sa,Td.prototype.getResponseText=Td.prototype.fa,Td.prototype.send=Td.prototype.da,Td.prototype.setWithCredentials=Td.prototype.Ka;var hp=bl.createWebChannelTransport=function(){return new op},dp=bl.getStatEventTarget=function(){return ah()},pp=bl.ErrorCode=hh,vp=bl.EventType=dh,mp=bl.Event=rh,gp=bl.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},yp=bl.FetchXmlHttpFactory=wd,bp=bl.WebChannel=mh,wp=bl.XhrIo=Td,kp="@firebase/firestore",Ep=function(){function e(t){l(this,e),this.uid=t}return h(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Ep.UNAUTHENTICATED=new Ep(null),Ep.GOOGLE_CREDENTIALS=new Ep("google-credentials-uid"),Ep.FIRST_PARTY=new Ep("first-party-uid"),Ep.MOCK_USER=new Ep("mock-user");var xp="9.16.0",Ap=new Ut("@firebase/firestore");function _p(){return Ap.logLevel}function Cp(e){if(Ap.logLevel<=Ot.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ip);Ap.debug.apply(Ap,["Firestore (".concat(xp,"): ").concat(e)].concat(c(i)))}}function Tp(e){if(Ap.logLevel<=Ot.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ip);Ap.error.apply(Ap,["Firestore (".concat(xp,"): ").concat(e)].concat(c(i)))}}function Sp(e){if(Ap.logLevel<=Ot.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ip);Ap.warn.apply(Ap,["Firestore (".concat(xp,"): ").concat(e)].concat(c(i)))}}function Ip(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Dp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(xp,") INTERNAL ASSERTION FAILED: ")+e;throw Tp(t),new Error(t)}function Np(e,t){e||Dp()}function Fp(e,t){return e}var Op={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Rp=function(e){p(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return h(n)}(vt),Pp=h((function e(){var t=this;l(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Lp=h((function e(t,n){l(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Bp=function(){function e(){l(this,e)}return h(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ep.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Mp=function(){function e(t){l(this,e),this.token=t,this.changeListener=null}return h(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),jp=function(){function e(t){l(this,e),this.t=t,this.currentUser=Ep.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return h(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Pp;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Pp,e.enqueueRetryable((function(){return i(n.currentUser)}))};var u=function(){var t=a;e.enqueueRetryable(We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},o=function(e){Cp("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),u()};this.t.onInit((function(e){return o(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?o(e):(Cp("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Pp)}}),0),u()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Cp("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Np("string"==typeof n.accessToken),new Lp(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Np(null===e||"string"==typeof e),new Ep(e)}}]),e}(),Up=function(){function e(t,n,r,i){l(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Ep.FIRST_PARTY,this.p=new Map}return h(e,[{key:"I",value:function(){return this.g?this.g():(Np(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Vp=function(){function e(t,n,r,i){l(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return h(e,[{key:"getToken",value:function(){return Promise.resolve(new Up(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ep.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),zp=h((function e(t){l(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),qp=function(){function e(t){l(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return h(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Cp("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Cp("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Cp("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Cp("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Np("string"==typeof t.token),e.A=t.token,new zp(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Wp(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Hp=function(){function e(){l(this,e)}return h(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Wp(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Gp(e,t){return e<t?-1:e>t?1:0}function Kp(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Qp(e){return e+"\0"}var Yp=function(){function e(t,n){if(l(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Rp(Op.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Rp(Op.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Rp(Op.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Rp(Op.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return h(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Gp(this.nanoseconds,e.nanoseconds):Gp(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),$p=function(){function e(t){l(this,e),this.timestamp=t}return h(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Yp(0,0))}},{key:"max",value:function(){return new e(new Yp(253402300799,999999999))}}]),e}(),Xp=function(){function e(t,n,r){l(this,e),void 0===n?n=0:n>t.length&&Dp(),void 0===r?r=t.length-n:r>t.length-n&&Dp(),this.segments=t,this.offset=n,this.len=r}return h(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Jp=function(e){p(n,e);var t=w(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,u=r;a<u.length;a++){var o=u[a];if(o.indexOf("//")>=0)throw new Rp(Op.INVALID_ARGUMENT,"Invalid segment (".concat(o,"). Paths must not contain // in them."));e.push.apply(e,c(o.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Xp),Zp=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ev=function(e){p(n,e);var t=w(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Zp.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Rp(Op.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},u=!1;i<e.length;){var o=e[i];if("\\"===o){if(i+1===e.length)throw new Rp(Op.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Rp(Op.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===o?(u=!u,i++):"."!==o||u?(r+=o,i++):(a(),i++)}if(a(),u)throw new Rp(Op.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Xp),tv=function(){function e(t){l(this,e),this.path=t}return h(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Jp.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Jp.fromString(t))}},{key:"fromName",value:function(t){return new e(Jp.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Jp.emptyPath())}},{key:"comparator",value:function(e,t){return Jp.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Jp(t.slice()))}}]),e}(),nv=h((function e(t,n,r,i){l(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function rv(e){return e.fields.find((function(e){return 2===e.kind}))}function iv(e){return e.fields.filter((function(e){return 2!==e.kind}))}nv.UNKNOWN_ID=-1;var av=h((function e(t,n){l(this,e),this.fieldPath=t,this.kind=n}));var uv=function(){function e(t,n){l(this,e),this.sequenceNumber=t,this.offset=n}return h(e,null,[{key:"empty",value:function(){return new e(0,cv.min())}}]),e}();function ov(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=$p.fromTimestamp(1e9===r?new Yp(n+1,0):new Yp(n,r));return new cv(i,tv.empty(),t)}function sv(e){return new cv(e.readTime,e.key,-1)}var cv=function(){function e(t,n,r){l(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return h(e,null,[{key:"min",value:function(){return new e($p.min(),tv.empty(),-1)}},{key:"max",value:function(){return new e($p.max(),tv.empty(),-1)}}]),e}();function lv(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=tv.comparator(e.documentKey,t.documentKey))?n:Gp(e.largestBatchId,t.largestBatchId)}var fv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",hv=function(){function e(){l(this,e),this.onCommittedListeners=[]}return h(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function dv(e){return pv.apply(this,arguments)}function pv(){return(pv=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Op.FAILED_PRECONDITION&&t.message===fv){e.next=2;break}throw t;case 2:Cp("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vv=function(){function e(t){var n=this;l(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return h(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Dp(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=T(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(u){i.e(u)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),u=0,o=function(o){var s=o;n(t[s]).next((function(t){a[s]=t,++u===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)o(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),mv=function(){function e(t,n){var r=this;l(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new Pp,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new bv(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=Av(e.target.error);r.P.reject(new bv(t,n))}}return h(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(Cp("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new kv(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new bv(n,t)}}}]),e}(),gv=function(){function e(t,n,r){l(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(ct())&&Tp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return h(e,[{key:"F",value:function(){var e=We(je().mark((function e(t){var n=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Cp("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new bv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Rp(Op.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Rp(Op.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new bv(t,n))},i.onupgradeneeded=function(e){Cp("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){Cp("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=We(je().mark((function e(t,n,r,i){var a,u,o,s,c,l=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,u=0;case 2:return++u,e.prev=3,e.delegateYield(je().mark((function e(){var n,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=mv.open(l.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),vv.reject(e)})).toPromise(),u.catch((function(){})),e.next=7,n.v;case 7:return e.t0=u,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(o=e.t0)){e.next=8;break}return e.abrupt("return",o.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&u<3,Cp("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Cp("SimpleDb","Removing database:",e),Ev(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!pt())return!1;if(e.N())return!0;var t=ct(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),yv=function(){function e(t){l(this,e),this.q=t,this.U=!1,this.K=null}return h(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return Ev(this.q.delete())}}]),e}(),bv=function(e){p(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this,Op.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return h(n)}(Rp);function wv(e){return"IndexedDbTransactionError"===e.name}var kv=function(){function e(t){l(this,e),this.store=t}return h(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Cp("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Cp("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ev(n)}},{key:"add",value:function(e){return Cp("SimpleDb","ADD",this.store.name,e,e),Ev(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Ev(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Cp("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Cp("SimpleDb","DELETE",this.store.name,e),Ev(this.store.delete(e))}},{key:"count",value:function(){return Cp("SimpleDb","COUNT",this.store.name),Ev(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new vv((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new vv((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){Cp("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new vv((function(n,r){t.onerror=function(e){var t=Av(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new vv((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new yv(i),u=t(i.primaryKey,i.value,a);if(u instanceof vv){var o=u.catch((function(e){return a.done(),vv.reject(e)}));n.push(o)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return vv.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Ev(e){return new vv((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Av(e.target.error);n(t)}}))}var xv=!1;function Av(e){var t=gv.D(ct());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Rp("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return xv||(xv=!0,setTimeout((function(){throw r}),0)),r}}return e}var _v=function(){function e(t,n){l(this,e),this.asyncQueue=t,this.et=n,this.task=null}return h(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;Cp("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Cp,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!wv(e.t4)){e.next=17;break}Cp("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,dv(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Cv=function(){function e(t,n){l(this,e),this.localStore=t,this.persistence=n}return h(e,[{key:"st",value:function(){var e=We(je().mark((function e(){var t,n=this,r=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return vv.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Cp("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return Cp("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=sv(t);lv(r,n)>0&&(n=r)})),new cv(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Tv=function(){function e(t,n){var r=this;l(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return h(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();Tv.at=-1;var Sv=h((function e(t,n,r,i,a,u,o,s){l(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=o,this.useFetchStreams=s})),Iv=function(){function e(t,n){l(this,e),this.projectId=t,this.database=n||"(default)"}return h(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Dv(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Nv(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Fv(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ov(e){return null==e}function Rv(e){return 0===e&&1/e==-1/0}function Pv(e){return"number"==typeof e&&Number.isInteger(e)&&!Rv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Lv=function(e){function t(e){l(this,t),this.binaryString=e}return h(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Gp(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Lv.EMPTY_BYTE_STRING=new Lv("");var Bv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mv(e){if(Np(!!e),"string"==typeof e){var t=0,n=Bv.exec(e);if(Np(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:jv(e.seconds),nanos:jv(e.nanos)}}function jv(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Uv(e){return"string"==typeof e?Lv.fromBase64String(e):Lv.fromUint8Array(e)}function Vv(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function zv(e){var t=e.mapValue.fields.__previous_value__;return Vv(t)?zv(t):t}function qv(e){var t=Mv(e.mapValue.fields.__local_write_time__.timestampValue);return new Yp(t.seconds,t.nanos)}var Wv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Hv={nullValue:"NULL_VALUE"};function Gv(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Vv(e)?4:um(e)?9007199254740991:10:Dp()}function Kv(e,t){if(e===t)return!0;var n=Gv(e);if(n!==Gv(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return qv(e).isEqual(qv(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Mv(e.timestampValue),r=Mv(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Uv(e.bytesValue).isEqual(Uv(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return jv(e.geoPointValue.latitude)===jv(t.geoPointValue.latitude)&&jv(e.geoPointValue.longitude)===jv(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return jv(e.integerValue)===jv(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=jv(e.doubleValue),r=jv(t.doubleValue);return n===r?Rv(n)===Rv(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Kp(e.arrayValue.values||[],t.arrayValue.values||[],Kv);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Dv(n)!==Dv(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Kv(n[i],r[i])))return!1;return!0}(e,t);default:return Dp()}}function Qv(e,t){return void 0!==(e.values||[]).find((function(e){return Kv(e,t)}))}function Yv(e,t){if(e===t)return 0;var n=Gv(e),r=Gv(t);if(n!==r)return Gp(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Gp(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=jv(e.integerValue||e.doubleValue),r=jv(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return $v(e.timestampValue,t.timestampValue);case 4:return $v(qv(e),qv(t));case 5:return Gp(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Uv(e),r=Uv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Gp(n[i],r[i]);if(0!==a)return a}return Gp(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Gp(jv(e.latitude),jv(t.latitude));return 0!==n?n:Gp(jv(e.longitude),jv(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Yv(n[i],r[i]);if(a)return a}return Gp(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Wv.mapValue&&t===Wv.mapValue)return 0;if(e===Wv.mapValue)return 1;if(t===Wv.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var u=0;u<r.length&&u<a.length;++u){var o=Gp(r[u],a[u]);if(0!==o)return o;var s=Yv(n[r[u]],i[a[u]]);if(0!==s)return s}return Gp(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Dp()}}function $v(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Gp(e,t);var n=Mv(e),r=Mv(t),i=Gp(n.seconds,r.seconds);return 0!==i?i:Gp(n.nanos,r.nanos)}function Xv(e){return Jv(e)}function Jv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Mv(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Uv(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,tv.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=T(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Jv(a)}}catch(u){i.e(u)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=T(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Jv(e.fields[a]))}}catch(u){i.e(u)}finally{i.f()}return n+"}"}(e.mapValue):Dp();var t,n}function Zv(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function em(e){return!!e&&"integerValue"in e}function tm(e){return!!e&&"arrayValue"in e}function nm(e){return!!e&&"nullValue"in e}function rm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function im(e){return!!e&&"mapValue"in e}function am(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Nv(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=am(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=am(e.arrayValue.values[r]);return n}return Object.assign({},e)}function um(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function om(e){return"nullValue"in e?Hv:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Zv(Iv.empty(),tv.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Dp()}function sm(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Zv(Iv.empty(),tv.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Wv:Dp()}function cm(e,t){var n=Yv(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function lm(e,t){var n=Yv(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var fm=h((function e(t,n){l(this,e),this.position=t,this.inclusive=n}));function hm(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],u=e.position[i];if(r=a.field.isKeyField()?tv.comparator(tv.fromName(u.referenceValue),n.key):Yv(u,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function dm(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Kv(e.position[n],t.position[n]))return!1;return!0}var pm=h((function e(){l(this,e)})),vm=function(e){p(n,e);var t=w(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return h(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Yv(t,this.value)):null!==t&&Gv(this.value)===Gv(t)&&this.matchesComparison(Yv(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Dp()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new _m(e,t,r):"array-contains"===t?new Im(e,r):"in"===t?new Dm(e,r):"not-in"===t?new Nm(e,r):"array-contains-any"===t?new Fm(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Cm(e,n):new Tm(e,n)}}]),n}(pm),mm=function(e){p(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return h(n,[{key:"matches",value:function(e){return gm(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=T(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(pm);function gm(e){return"and"===e.op}function ym(e){return"or"===e.op}function bm(e){return wm(e)&&gm(e)}function wm(e){var t,n=T(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof mm)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function km(e){if(e instanceof vm)return e.field.canonicalString()+e.op.toString()+Xv(e.value);if(bm(e))return e.filters.map((function(e){return km(e)})).join(",");var t=e.filters.map((function(e){return km(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Em(e,t){return e instanceof vm?function(e,t){return t instanceof vm&&e.op===t.op&&e.field.isEqual(t.field)&&Kv(e.value,t.value)}(e,t):e instanceof mm?function(e,t){return t instanceof mm&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Em(n,t.filters[r])}),!0)}(e,t):void Dp()}function xm(e,t){var n=e.filters.concat(t);return mm.create(n,e.op)}function Am(e){return e instanceof vm?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Xv(e.value))}(e):e instanceof mm?function(e){return e.op.toString()+" {"+e.getFilters().map(Am).join(" ,")+"}"}(e):"Filter"}var _m=function(e){p(n,e);var t=w(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,e,r,i)).key=tv.fromName(i.referenceValue),a}return h(n,[{key:"matches",value:function(e){var t=tv.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(vm),Cm=function(e){p(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,"in",r)).keys=Sm("in",r),i}return h(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(vm),Tm=function(e){p(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,"not-in",r)).keys=Sm("not-in",r),i}return h(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(vm);function Sm(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return tv.fromName(e.referenceValue)}))}var Im=function(e){p(n,e);var t=w(n);function n(e,r){return l(this,n),t.call(this,e,"array-contains",r)}return h(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return tm(t)&&Qv(t.arrayValue,this.value)}}]),n}(vm),Dm=function(e){p(n,e);var t=w(n);function n(e,r){return l(this,n),t.call(this,e,"in",r)}return h(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Qv(this.value.arrayValue,t)}}]),n}(vm),Nm=function(e){p(n,e);var t=w(n);function n(e,r){return l(this,n),t.call(this,e,"not-in",r)}return h(n,[{key:"matches",value:function(e){if(Qv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Qv(this.value.arrayValue,t)}}]),n}(vm),Fm=function(e){p(n,e);var t=w(n);function n(e,r){return l(this,n),t.call(this,e,"array-contains-any",r)}return h(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!tm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Qv(t.value.arrayValue,e)}))}}]),n}(vm),Om=h((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";l(this,e),this.field=t,this.dir=n}));function Rm(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Pm=function(){function e(t,n){l(this,e),this.comparator=t,this.root=n||Bm.EMPTY}return h(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Bm.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Bm.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Lm(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Lm(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Lm(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Lm(this.root,e,this.comparator,!0)}}]),e}(),Lm=function(){function e(t,n,r,i){l(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return h(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Bm=function(){function e(t,n,r,i,a){l(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return h(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Dp();if(this.right.isRed())throw Dp();var e=this.left.check();if(e!==this.right.check())throw Dp();return e+(this.isRed()?0:1)}}]),e}();Bm.EMPTY=null,Bm.RED=!0,Bm.BLACK=!1,Bm.EMPTY=new(function(){function e(){l(this,e),this.size=0}return h(e,[{key:"key",get:function(){throw Dp()}},{key:"value",get:function(){throw Dp()}},{key:"color",get:function(){throw Dp()}},{key:"left",get:function(){throw Dp()}},{key:"right",get:function(){throw Dp()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Bm(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Mm=function(){function e(t){l(this,e),this.comparator=t,this.data=new Pm(this.comparator)}return h(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new jm(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new jm(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),jm=function(){function e(t){l(this,e),this.iter=t}return h(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Um(e){return e.hasNext()?e.getNext():void 0}var Vm=function(){function e(t){l(this,e),this.fields=t,t.sort(ev.comparator)}return h(e,[{key:"unionWith",value:function(t){var n,r=new Mm(ev.comparator),i=T(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var u,o=T(t);try{for(o.s();!(u=o.n()).done;){var s=u.value;r=r.add(s)}}catch(c){o.e(c)}finally{o.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=T(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Kp(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),zm=function(){function e(t){l(this,e),this.value=t}return h(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!im(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=am(t)}},{key:"setAll",value:function(e){var t=this,n=ev.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var u=t.getFieldsMap(n);t.applyChanges(u,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=am(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());im(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Kv(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];im(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Nv(t,(function(t,n){return e[t]=n}));var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(u){i.e(u)}finally{i.f()}}},{key:"clone",value:function(){return new e(am(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function qm(e){var t=[];return Nv(e.fields,(function(e,n){var r=new ev([e]);if(im(n)){var i=qm(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,u=T(i);try{for(u.s();!(a=u.n()).done;){var o=a.value;t.push(r.child(o))}}catch(s){u.e(s)}finally{u.f()}}}else t.push(r)})),new Vm(t)}var Wm=function(){function e(t,n,r,i,a,u,o){l(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=u,this.documentState=o}return h(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual($p.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=zm.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=zm.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=$p.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,$p.min(),$p.min(),$p.min(),zm.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,$p.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,$p.min(),$p.min(),zm.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,$p.min(),$p.min(),zm.empty(),2)}}]),e}(),Hm=h((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;l(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=o,this.ft=null}));function Gm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Hm(e,t,n,r,i,a,u)}function Km(e){var t=Fp(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return km(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ov(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Xv(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Xv(e)})).join(",")),t.ft=n}return t.ft}function Qm(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Rm(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Em(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!dm(e.startAt,t.startAt)&&dm(e.endAt,t.endAt)}function Ym(e){return tv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function $m(e,t){return e.filters.filter((function(e){return e instanceof vm&&e.field.isEqual(t)}))}function Xm(e,t,n){var r,i=Hv,a=!0,u=T($m(e,t));try{for(u.s();!(r=u.n()).done;){var o=r.value,s=Hv,c=!0;switch(o.op){case"<":case"<=":s=om(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,c=!1;break;case"!=":case"not-in":s=Hv}cm({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){u.e(h)}finally{u.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];cm({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Jm(e,t,n){var r,i=Wv,a=!0,u=T($m(e,t));try{for(u.s();!(r=u.n()).done;){var o=r.value,s=Wv,c=!0;switch(o.op){case">=":case">":s=sm(o.value),c=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,c=!1;break;case"!=":case"not-in":s=Wv}lm({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){u.e(h)}finally{u.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];lm({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Zm=h((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;l(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=o,this.endAt=s,this.dt=null,this._t=null,this.startAt,this.endAt}));function eg(e,t,n,r,i,a,u,o){return new Zm(e,t,n,r,i,a,u,o)}function tg(e){return new Zm(e)}function ng(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function rg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ig(e){var t,n=T(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function ag(e){return null!==e.collectionGroup}function ug(e){var t=Fp(e);if(null===t.dt){t.dt=[];var n=ig(t),r=rg(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new Om(n)),t.dt.push(new Om(ev.keyField(),"asc"));else{var i,a=!1,u=T(t.explicitOrderBy);try{for(u.s();!(i=u.n()).done;){var o=i.value;t.dt.push(o),o.field.isKeyField()&&(a=!0)}}catch(c){u.e(c)}finally{u.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Om(ev.keyField(),s))}}}return t.dt}function og(e){var t=Fp(e);if(!t._t)if("F"===t.limitType)t._t=Gm(t.path,t.collectionGroup,ug(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=T(ug(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,u="desc"===a.dir?"asc":"desc";r.push(new Om(a.field,u))}}catch(c){i.e(c)}finally{i.f()}var o=t.endAt?new fm(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new fm(t.startAt.position,t.startAt.inclusive):null;t._t=Gm(t.path,t.collectionGroup,r,t.filters,t.limit,o,s)}return t._t}function sg(e,t){t.getFirstInequalityField(),ig(e);var n=e.filters.concat([t]);return new Zm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function cg(e,t,n){return new Zm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function lg(e,t){return Qm(og(e),og(t))&&e.limitType===t.limitType}function fg(e){return"".concat(Km(og(e)),"|lt:").concat(e.limitType)}function hg(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Am(e)})).join(", "),"]")),Ov(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Xv(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Xv(e)})).join(",")),"Target(".concat(t,")")}(og(e)),"; limitType=").concat(e.limitType,")")}function dg(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):tv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=T(ug(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=T(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=hm(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ug(e),t))&&!(e.endAt&&!function(e,t,n){var r=hm(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ug(e),t))}(e,t)}function pg(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function vg(e){return function(t,n){var r,i=!1,a=T(ug(e));try{for(a.s();!(r=a.n()).done;){var u=r.value,o=mg(u,t,n);if(0!==o)return o;i=i||u.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function mg(e,t,n){var r=e.field.isKeyField()?tv.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Yv(r,i):Dp()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Dp()}}function gg(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rv(t)?"-0":t}}function yg(e){return{integerValue:""+e}}function bg(e,t){return Pv(t)?yg(t):gg(e,t)}var wg=h((function e(){l(this,e),this._=void 0}));function kg(e,t,n){return e instanceof Ag?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof _g?Cg(e,t):e instanceof Tg?Sg(e,t):function(e,t){var n=xg(e,t),r=Dg(n)+Dg(e.gt);return em(n)&&em(e.gt)?yg(r):gg(e.yt,r)}(e,t)}function Eg(e,t,n){return e instanceof _g?Cg(e,t):e instanceof Tg?Sg(e,t):n}function xg(e,t){return e instanceof Ig?em(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ag=function(e){p(n,e);var t=w(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n)}(wg),_g=function(e){p(n,e);var t=w(n);function n(e){var r;return l(this,n),(r=t.call(this)).elements=e,r}return h(n)}(wg);function Cg(e,t){var n,r=Ng(t),i=T(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Kv(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(u){i.e(u)}finally{i.f()}return{arrayValue:{values:r}}}var Tg=function(e){p(n,e);var t=w(n);function n(e){var r;return l(this,n),(r=t.call(this)).elements=e,r}return h(n)}(wg);function Sg(e,t){var n,r=Ng(t),i=T(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Kv(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(u){i.e(u)}finally{i.f()}return{arrayValue:{values:r}}}var Ig=function(e){p(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return h(n)}(wg);function Dg(e){return jv(e.integerValue||e.doubleValue)}function Ng(e){return tm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Fg=h((function e(t,n){l(this,e),this.field=t,this.transform=n}));var Og=h((function e(t,n){l(this,e),this.version=t,this.transformResults=n})),Rg=function(){function e(t,n){l(this,e),this.updateTime=t,this.exists=n}return h(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Pg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Lg=h((function e(){l(this,e)}));function Bg(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Yg(e.key,Rg.none()):new zg(e.key,e.data,Rg.none());var n,r=e.data,i=zm.empty(),a=new Mm(ev.comparator),u=T(t.fields);try{for(u.s();!(n=u.n()).done;){var o=n.value;if(!a.has(o)){var s=r.field(o);null===s&&o.length>1&&(o=o.popLast(),s=r.field(o)),null===s?i.delete(o):i.set(o,s),a=a.add(o)}}}catch(c){u.e(c)}finally{u.f()}return new qg(e.key,i,new Vm(a.toArray()),Rg.none())}function Mg(e,t,n){e instanceof zg?function(e,t,n){var r=e.value.clone(),i=Hg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof qg?function(e,t,n){if(Pg(e.precondition,t)){var r=Hg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Wg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function jg(e,t,n,r){return e instanceof zg?function(e,t,n,r){if(!Pg(e.precondition,t))return n;var i=e.value.clone(),a=Gg(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof qg?function(e,t,n,r){if(!Pg(e.precondition,t))return n;var i=Gg(e.fieldTransforms,r,t),a=t.data;return a.setAll(Wg(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Pg(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ug(e,t){var n,r=null,i=T(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,u=t.data.field(a.field),o=xg(a.transform,u||null);null!=o&&(null===r&&(r=zm.empty()),r.set(a.field,o))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Vg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Kp(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof _g&&t instanceof _g||e instanceof Tg&&t instanceof Tg?Kp(e.elements,t.elements,Kv):e instanceof Ig&&t instanceof Ig?Kv(e.gt,t.gt):e instanceof Ag&&t instanceof Ag}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var zg=function(e){p(n,e);var t=w(n);function n(e,r,i){var a,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return l(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=u,a.type=0,a}return h(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Lg),qg=function(e){p(n,e);var t=w(n);function n(e,r,i,a){var u,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return l(this,n),(u=t.call(this)).key=e,u.data=r,u.fieldMask=i,u.precondition=a,u.fieldTransforms=o,u.type=1,u}return h(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Lg);function Wg(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Hg(e,t,n){var r=new Map;Np(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],u=a.transform,o=t.data.field(a.field);r.set(a.field,Eg(u,o,n[i]))}return r}function Gg(e,t,n){var r,i=new Map,a=T(e);try{for(a.s();!(r=a.n()).done;){var u=r.value,o=u.transform,s=n.data.field(u.field);i.set(u.field,kg(o,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Kg,Qg,Yg=function(e){p(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return h(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Lg),$g=function(e){p(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return h(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Lg),Xg=h((function e(t){l(this,e),this.count=t}));function Jg(e){switch(e){default:return Dp();case Op.CANCELLED:case Op.UNKNOWN:case Op.DEADLINE_EXCEEDED:case Op.RESOURCE_EXHAUSTED:case Op.INTERNAL:case Op.UNAVAILABLE:case Op.UNAUTHENTICATED:return!1;case Op.INVALID_ARGUMENT:case Op.NOT_FOUND:case Op.ALREADY_EXISTS:case Op.PERMISSION_DENIED:case Op.FAILED_PRECONDITION:case Op.ABORTED:case Op.OUT_OF_RANGE:case Op.UNIMPLEMENTED:case Op.DATA_LOSS:return!0}}function Zg(e){if(void 0===e)return Tp("GRPC error has no .code"),Op.UNKNOWN;switch(e){case Kg.OK:return Op.OK;case Kg.CANCELLED:return Op.CANCELLED;case Kg.UNKNOWN:return Op.UNKNOWN;case Kg.DEADLINE_EXCEEDED:return Op.DEADLINE_EXCEEDED;case Kg.RESOURCE_EXHAUSTED:return Op.RESOURCE_EXHAUSTED;case Kg.INTERNAL:return Op.INTERNAL;case Kg.UNAVAILABLE:return Op.UNAVAILABLE;case Kg.UNAUTHENTICATED:return Op.UNAUTHENTICATED;case Kg.INVALID_ARGUMENT:return Op.INVALID_ARGUMENT;case Kg.NOT_FOUND:return Op.NOT_FOUND;case Kg.ALREADY_EXISTS:return Op.ALREADY_EXISTS;case Kg.PERMISSION_DENIED:return Op.PERMISSION_DENIED;case Kg.FAILED_PRECONDITION:return Op.FAILED_PRECONDITION;case Kg.ABORTED:return Op.ABORTED;case Kg.OUT_OF_RANGE:return Op.OUT_OF_RANGE;case Kg.UNIMPLEMENTED:return Op.UNIMPLEMENTED;case Kg.DATA_LOSS:return Op.DATA_LOSS;default:return Dp()}}(Qg=Kg||(Kg={}))[Qg.OK=0]="OK",Qg[Qg.CANCELLED=1]="CANCELLED",Qg[Qg.UNKNOWN=2]="UNKNOWN",Qg[Qg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qg[Qg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qg[Qg.NOT_FOUND=5]="NOT_FOUND",Qg[Qg.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qg[Qg.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qg[Qg.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qg[Qg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qg[Qg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qg[Qg.ABORTED=10]="ABORTED",Qg[Qg.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qg[Qg.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qg[Qg.INTERNAL=13]="INTERNAL",Qg[Qg.UNAVAILABLE=14]="UNAVAILABLE",Qg[Qg.DATA_LOSS=15]="DATA_LOSS";var ey=function(){function e(t,n){l(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return h(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=x(r.value,2),u=a[0],o=a[1];if(this.equalsFn(u,e))return o}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Nv(this.inner,(function(t,n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=x(r.value,2),u=a[0],o=a[1];e(u,o)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Fv(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),ty=new Pm(tv.comparator);function ny(){return ty}var ry=new Pm(tv.comparator);function iy(){for(var e=ry,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var u=a[i];e=e.insert(u.key,u)}return e}function ay(e){var t=ry;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function uy(){return sy()}function oy(){return sy()}function sy(){return new ey((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var cy=new Pm(tv.comparator),ly=new Mm(tv.comparator);function fy(){for(var e=ly,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var u=a[i];e=e.add(u)}return e}var hy=new Mm(Gp);function dy(){return hy}var py=function(){function e(t,n,r,i,a){l(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return h(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,vy.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e($p.min(),i,dy(),ny(),fy())}}]),e}(),vy=function(){function e(t,n,r,i,a){l(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return h(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,fy(),fy(),fy())}}]),e}(),my=h((function e(t,n,r,i){l(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),gy=h((function e(t,n){l(this,e),this.targetId=t,this.Et=n})),yy=h((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lv.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;l(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),by=function(){function e(){l(this,e),this.At=0,this.Rt=Ey(),this.bt=Lv.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return h(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=fy(),t=fy(),n=fy();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Dp()}})),new vy(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=Ey()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),wy=function(){function e(t){l(this,e),this.$t=t,this.Bt=new Map,this.Lt=ny(),this.qt=ky(),this.Ut=new Mm(Gp)}return h(e,[{key:"Kt",value:function(e){var t,n=T(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(o){n.e(o)}finally{n.f()}var i,a=T(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var u=i.value;this.Qt(u,e.key,e.Tt)}}catch(o){a.e(o)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:Dp()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(Ym(i))if(0===n){var a=new tv(i.path);this.Qt(t,a,Wm.newNoDocument(a,$p.min()))}else Np(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&Ym(a.target)){var u=new tv(a.target.path);null!==t.Lt.get(u)||t.te(i,u)||t.Qt(i,u,Wm.newNoDocument(u,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=fy();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new py(e,n,this.Ut,this.Lt,r);return this.Lt=ny(),this.qt=ky(),this.Ut=new Mm(Gp),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new by,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new Mm(Gp),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||Cp("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new by),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function ky(){return new Pm(tv.comparator)}function Ey(){return new Pm(tv.comparator)}var xy={asc:"ASCENDING",desc:"DESCENDING"},Ay={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_y={and:"AND",or:"OR"},Cy=h((function e(t,n){l(this,e),this.databaseId=t,this.wt=n}));function Ty(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Sy(e,t){return e.wt?t.toBase64():t.toUint8Array()}function Iy(e,t){return Ty(e,t.toTimestamp())}function Dy(e){return Np(!!e),$p.fromTimestamp(function(e){var t=Mv(e);return new Yp(t.seconds,t.nanos)}(e))}function Ny(e,t){return function(e){return new Jp(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Fy(e){var t=Jp.fromString(e);return Np(tb(t)),t}function Oy(e,t){return Ny(e.databaseId,t.path)}function Ry(e,t){var n=Fy(t);if(n.get(1)!==e.databaseId.projectId)throw new Rp(Op.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Rp(Op.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new tv(My(n))}function Py(e,t){return Ny(e.databaseId,t)}function Ly(e){var t=Fy(e);return 4===t.length?Jp.emptyPath():My(t)}function By(e){return new Jp(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function My(e){return Np(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function jy(e,t,n){return{name:Oy(e,t),fields:n.value.mapValue.fields}}function Uy(e,t,n){var r=Ry(e,t.name),i=Dy(t.updateTime),a=t.createTime?Dy(t.createTime):$p.min(),u=new zm({mapValue:{fields:t.fields}}),o=Wm.newFoundDocument(r,i,a,u);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Vy(e,t){return"found"in t?function(e,t){Np(!!t.found),t.found.name,t.found.updateTime;var n=Ry(e,t.found.name),r=Dy(t.found.updateTime),i=t.found.createTime?Dy(t.found.createTime):$p.min(),a=new zm({mapValue:{fields:t.found.fields}});return Wm.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Np(!!t.missing),Np(!!t.readTime);var n=Ry(e,t.missing),r=Dy(t.readTime);return Wm.newNoDocument(n,r)}(e,t):Dp()}function zy(e,t){var n;if(t instanceof zg)n={update:jy(e,t.key,t.value)};else if(t instanceof Yg)n={delete:Oy(e,t.key)};else if(t instanceof qg)n={update:jy(e,t.key,t.data),updateMask:eb(t.fieldMask)};else{if(!(t instanceof $g))return Dp();n={verify:Oy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ag)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof _g)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Tg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ig)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Dp()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Iy(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Dp()}(e,t.precondition)),n}function qy(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Rg.updateTime(Dy(e.updateTime)):void 0!==e.exists?Rg.exists(e.exists):Rg.none()}(t.currentDocument):Rg.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Np("REQUEST_TIME"===t.setToServerValue),n=new Ag;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new _g(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Tg(i)}else"increment"in t?n=new Ig(e,t.increment):Dp();var a=ev.fromServerFormat(t.fieldPath);return new Fg(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Ry(e,t.update.name),a=new zm({mapValue:{fields:t.update.fields}});if(t.updateMask){var u=function(e){var t=e.fieldPaths||[];return new Vm(t.map((function(e){return ev.fromServerFormat(e)})))}(t.updateMask);return new qg(i,a,u,n,r)}return new zg(i,a,n,r)}if(t.delete){var o=Ry(e,t.delete);return new Yg(o,n)}if(t.verify){var s=Ry(e,t.verify);return new $g(s,n)}return Dp()}function Wy(e,t){return{documents:[Py(e,t.path)]}}function Hy(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Py(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Py(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Zy(mm.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Xy(e.field),direction:Qy(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var u,o=function(e,t){return e.wt||Ov(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(u=t.startAt).inclusive,values:u.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Gy(e){var t=Ly(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Np(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var u=[];n.where&&(u=function(e){var t=Ky(e);return t instanceof mm&&bm(t)?t.getFilters():[t]}(n.where));var o=[];n.orderBy&&(o=n.orderBy.map((function(e){return function(e){return new Om(Jy(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Ov(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new fm(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new fm(n,t)}(n.endAt)),eg(t,i,o,u,s,"F",c,l)}function Ky(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Jy(e.unaryFilter.field);return vm.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Jy(e.unaryFilter.field);return vm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Jy(e.unaryFilter.field);return vm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Jy(e.unaryFilter.field);return vm.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Dp()}}(e):void 0!==e.fieldFilter?function(e){return vm.create(Jy(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dp()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return mm.create(e.compositeFilter.filters.map((function(e){return Ky(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Dp()}}(e.compositeFilter.op))}(e):Dp()}function Qy(e){return xy[e]}function Yy(e){return Ay[e]}function $y(e){return _y[e]}function Xy(e){return{fieldPath:e.canonicalString()}}function Jy(e){return ev.fromServerFormat(e.fieldPath)}function Zy(e){return e instanceof vm?function(e){if("=="===e.op){if(rm(e.value))return{unaryFilter:{field:Xy(e.field),op:"IS_NAN"}};if(nm(e.value))return{unaryFilter:{field:Xy(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(rm(e.value))return{unaryFilter:{field:Xy(e.field),op:"IS_NOT_NAN"}};if(nm(e.value))return{unaryFilter:{field:Xy(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xy(e.field),op:Yy(e.op),value:e.value}}}(e):e instanceof mm?function(e){var t=e.getFilters().map((function(e){return Zy(e)}));return 1===t.length?t[0]:{compositeFilter:{op:$y(e.op),filters:t}}}(e):Dp()}function eb(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function tb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function nb(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=ib(t)),t=rb(e.get(n),t);return ib(t)}function rb(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function ib(e){return e+"\x01\x01"}function ab(e){var t=e.length;if(Np(t>=2),2===t)return Np("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Jp.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var u=e.indexOf("\x01",a);switch((u<0||u>n)&&Dp(),e.charAt(u+1)){case"\x01":var o=e.substring(a,u),s=void 0;0===i.length?s=o:(s=i+=o,i=""),r.push(s);break;case"\x10":i+=e.substring(a,u),i+="\0";break;case"\x11":i+=e.substring(a,u+1);break;default:Dp()}a=u+2}return new Jp(r)}var ub=["userId","batchId"];function ob(e,t){return[e,nb(t)]}function sb(e,t,n){return[e,nb(t),n]}var cb={},lb=["prefixPath","collectionGroup","readTime","documentId"],fb=["prefixPath","collectionGroup","documentId"],hb=["collectionGroup","readTime","prefixPath","documentId"],db=["canonicalId","targetId"],pb=["targetId","path"],vb=["path","targetId"],mb=["collectionId","parent"],gb=["indexId","uid"],yb=["uid","sequenceNumber"],bb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],wb=["indexId","uid","orderedDocumentKey"],kb=["userId","collectionPath","documentId"],Eb=["userId","collectionPath","largestBatchId"],xb=["userId","collectionGroup","largestBatchId"],Ab=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),_b=[].concat(c(Ab),["documentOverlays"]),Cb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Tb=Cb,Sb=[].concat(Tb,["indexConfiguration","indexState","indexEntries"]),Ib=function(e){p(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).se=e,i.currentSequenceNumber=r,i}return h(n)}(hv);function Db(e,t){var n=Fp(e);return gv.M(n.se,t)}var Nb=function(){function e(t,n,r,i){l(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return h(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Mg(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=T(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=jg(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,u=T(this.mutations);try{for(u.s();!(a=u.n()).done;){var o=a.value;o.key.isEqual(e.key)&&(t=jg(o,e,t,this.localWriteTime))}}catch(s){u.e(s)}finally{u.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=oy();return this.mutations.forEach((function(i){var a=e.get(i.key),u=a.overlayedDocument,o=n.applyToLocalView(u,a.mutatedFields),s=Bg(u,o=t.has(i.key)?null:o);null!==s&&r.set(i.key,s),u.isValidDocument()||u.convertToNoDocument($p.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),fy())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Kp(this.mutations,e.mutations,(function(e,t){return Vg(e,t)}))&&Kp(this.baseMutations,e.baseMutations,(function(e,t){return Vg(e,t)}))}}]),e}(),Fb=function(){function e(t,n,r,i){l(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return h(e,null,[{key:"from",value:function(t,n,r){Np(t.mutations.length===r.length);for(var i=cy,a=t.mutations,u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new e(t,n,r,i)}}]),e}(),Ob=function(){function e(t,n){l(this,e),this.largestBatchId=t,this.mutation=n}return h(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Rb=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:$p.min(),u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:$p.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Lv.EMPTY_BYTE_STRING;l(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=o}return h(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Pb=h((function e(t){l(this,e),this.ie=t}));function Lb(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Bb(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Oy(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ty(e,t.version.toTimestamp()),createTime:Ty(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Mb(t.version)};else{if(!t.isUnknownDocument())return Dp();r.unknownDocument={path:n.path.toArray(),version:Mb(t.version)}}return r}function Bb(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Mb(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function jb(e){var t=new Yp(e.seconds,e.nanoseconds);return $p.fromTimestamp(t)}function Ub(e,t){for(var n=(t.baseMutations||[]).map((function(t){return qy(e.ie,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var u=t.mutations.map((function(t){return qy(e.ie,t)})),o=Yp.fromMillis(t.localWriteTimeMs);return new Nb(t.batchId,o,n,u)}function Vb(e){var t,n,r=jb(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?jb(e.lastLimboFreeSnapshotVersion):$p.min();return void 0!==e.query.documents?(Np(1===(n=e.query).documents.length),t=og(tg(Ly(n.documents[0])))):t=function(e){return og(Gy(e))}(e.query),new Rb(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Lv.fromBase64String(e.resumeToken))}function zb(e,t){var n,r=Mb(t.snapshotVersion),i=Mb(t.lastLimboFreeSnapshotVersion);n=Ym(t.target)?Wy(e.ie,t.target):Hy(e.ie,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Km(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function qb(e){var t=Gy({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?cg(t,t.limit,"L"):t}function Wb(e,t){return new Ob(t.largestBatchId,qy(e.ie,t.overlayMutation))}function Hb(e,t){var n=t.path.lastSegment();return[e,nb(t.path.popLast()),n]}function Gb(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Mb(r.readTime),documentKey:nb(r.documentKey.path),largestBatchId:r.largestBatchId}}var Kb=function(){function e(){l(this,e)}return h(e,[{key:"getBundleMetadata",value:function(e,t){return Qb(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:jb(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Qb(e).put({bundleId:(n=t).id,createTime:Mb(Dy(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Yb(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:qb(t.bundledQuery),readTime:jb(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Yb(e).put(function(e){return{name:e.name,readTime:Mb(Dy(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Qb(e){return Db(e,"bundles")}function Yb(e){return Db(e,"namedQueries")}var $b=function(){function e(t,n){l(this,e),this.yt=t,this.userId=n}return h(e,[{key:"getOverlay",value:function(e,t){var n=this;return Xb(e).get(Hb(this.userId,t)).next((function(e){return e?Wb(n.yt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=uy();return vv.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var u=new Ob(t,a);i.push(r.oe(e,u))})),vv.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(nb(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Xb(e).Y("collectionPathOverlayIndex",i))})),vv.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=uy(),a=nb(t),u=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Xb(e).W("collectionPathOverlayIndex",u).next((function(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,u=Wb(r.yt,a);i.set(u.getKey(),u)}}catch(o){n.e(o)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,u=uy(),o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Xb(e).Z({index:"collectionGroupOverlayIndex",range:o},(function(e,t,n){var o=Wb(a.yt,t);u.size()<r||o.largestBatchId===i?(u.set(o.getKey(),o),i=o.largestBatchId):n.done()})).next((function(){return u}))}},{key:"oe",value:function(e,t){return Xb(e).put(function(e,t,n){var r=x(Hb(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:zy(e.ie,n.mutation)}}(this.yt,this.userId,t))}}],[{key:"re",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Xb(e){return Db(e,"documentOverlays")}var Jb=function(){function e(){l(this,e)}return h(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(jv(e.integerValue));else if("doubleValue"in e){var n=jv(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),Rv(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Uv(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?um(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Dp()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(u){i.e(u)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),tv.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();function Zb(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function ew(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Zb(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Jb.Ie=new Jb;var tw=function(){function e(){l(this,e),this.buffer=new Uint8Array(1024),this.position=0}return h(e,[{key:"Te",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ee(n.value),n=t.next();this.Ae()}},{key:"Re",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{var a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}}catch(u){n.e(u)}finally{n.f()}this.Ae()}},{key:"Ve",value:function(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(u){n.e(u)}finally{n.f()}this.Pe()}},{key:"Se",value:function(e){var t=this.De(e),n=ew(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"xe",value:function(e){var t=this.De(e),n=ew(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Fe",value:function(){return this.buffer.slice(0,this.position)}},{key:"De",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ee",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}},{key:"Ae",value:function(){this.ke(0),this.ke(1)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"ke",value:function(e){this.Ce(1),this.buffer[this.position++]=e}},{key:"Me",value:function(e){this.Ce(1),this.buffer[this.position++]=~e}},{key:"Ce",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),nw=function(){function e(t){l(this,e),this.$e=t}return h(e,[{key:"we",value:function(e){this.$e.Te(e)}},{key:"fe",value:function(e){this.$e.ve(e)}},{key:"le",value:function(e){this.$e.Se(e)}},{key:"ae",value:function(){this.$e.Ne()}}]),e}(),rw=function(){function e(t){l(this,e),this.$e=t}return h(e,[{key:"we",value:function(e){this.$e.Re(e)}},{key:"fe",value:function(e){this.$e.Ve(e)}},{key:"le",value:function(e){this.$e.xe(e)}},{key:"ae",value:function(){this.$e.Oe()}}]),e}(),iw=function(){function e(){l(this,e),this.$e=new tw,this.Be=new nw(this.$e),this.Le=new rw(this.$e)}return h(e,[{key:"seed",value:function(e){this.$e.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Be:this.Le}},{key:"Fe",value:function(){return this.$e.Fe()}},{key:"reset",value:function(){this.$e.reset()}}]),e}(),aw=function(){function e(t,n,r,i){l(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return h(e,[{key:"Ue",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function uw(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=ow(e.arrayValue,t.arrayValue))?n:0!==(n=ow(e.directionalValue,t.directionalValue))?n:tv.comparator(e.documentKey,t.documentKey)}function ow(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var sw=function(){function e(t){l(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];var n,r=T(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Qe=i:this.Ge.push(i)}}catch(a){r.e(a)}finally{r.f()}}return h(e,[{key:"je",value:function(e){Np(e.collectionGroup===this.collectionId);var t=rv(e);if(void 0!==t&&!this.We(t))return!1;for(var n=iv(e),r=0,i=0;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){var a=n[r];if(!this.ze(this.Qe,a)||!this.He(this.Ke[i++],a))return!1;++r}for(;r<n.length;++r){var u=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],u))return!1}return!0}},{key:"We",value:function(e){var t,n=T(this.Ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.ze(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ze",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"He",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function cw(e){var t,n;if(Np(e instanceof vm||e instanceof mm),e instanceof vm){if(e instanceof Dm){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return vm.create(e.field,"==",t)})))||[];return mm.create(r,"or")}return e}var i=e.filters.map((function(e){return cw(e)}));return mm.create(i,e.op)}function lw(e){if(0===e.getFilters().length)return[];var t=pw(cw(e));return Np(dw(t)),fw(t)||hw(t)?[t]:t.getFilters()}function fw(e){return e instanceof vm}function hw(e){return e instanceof mm&&bm(e)}function dw(e){return fw(e)||hw(e)||function(e){if(e instanceof mm&&ym(e)){var t,n=T(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!fw(r)&&!hw(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function pw(e){if(Np(e instanceof vm||e instanceof mm),e instanceof vm)return e;if(1===e.filters.length)return pw(e.filters[0]);var t=e.filters.map((function(e){return pw(e)})),n=mm.create(t,e.op);return dw(n=gw(n))?n:(Np(n instanceof mm),Np(gm(n)),Np(n.filters.length>1),n.filters.reduce((function(e,t){return vw(e,t)})))}function vw(e,t){var n;return Np(e instanceof vm||e instanceof mm),Np(t instanceof vm||t instanceof mm),n=e instanceof vm?t instanceof vm?function(e,t){return mm.create([e,t],"and")}(e,t):mw(e,t):t instanceof vm?mw(t,e):function(e,t){if(Np(e.filters.length>0&&t.filters.length>0),gm(e)&&gm(t))return xm(e,t.getFilters());var n=ym(e)?e:t,r=ym(e)?t:e,i=n.filters.map((function(e){return vw(e,r)}));return mm.create(i,"or")}(e,t),gw(n)}function mw(e,t){if(gm(t))return xm(t,e.getFilters());var n=t.filters.map((function(t){return vw(e,t)}));return mm.create(n,"or")}function gw(e){if(Np(e instanceof vm||e instanceof mm),e instanceof vm)return e;var t=e.getFilters();if(1===t.length)return gw(t[0]);if(wm(e))return e;var n=t.map((function(e){return gw(e)})),r=[];return n.forEach((function(t){t instanceof vm?r.push(t):t instanceof mm&&(t.op===e.op?r.push.apply(r,c(t.filters)):r.push(t))})),1===r.length?r[0]:mm.create(r,e.op)}var yw=function(){function e(){l(this,e),this.Je=new bw}return h(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),vv.resolve()}},{key:"getCollectionParents",value:function(e,t){return vv.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return vv.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return vv.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return vv.resolve(null)}},{key:"getIndexType",value:function(e,t){return vv.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return vv.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return vv.resolve(null)}},{key:"getMinOffset",value:function(e,t){return vv.resolve(cv.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return vv.resolve(cv.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return vv.resolve()}},{key:"updateIndexEntries",value:function(e,t){return vv.resolve()}}]),e}(),bw=function(){function e(){l(this,e),this.index={}}return h(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Mm(Jp.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Mm(Jp.comparator)).toArray()}}]),e}(),ww=new Uint8Array(0),kw=function(){function e(t,n){l(this,e),this.user=t,this.databaseId=n,this.Ye=new bw,this.Xe=new ey((function(e){return Km(e)}),(function(e,t){return Qm(e,t)})),this.uid=t.uid||""}return h(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ye.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ye.add(t)}));var a={collectionId:r,parent:nb(i)};return Ew(e).put(a)}return vv.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Qp(t),""],!1,!0);return Ew(e).W(r).next((function(e){var r,i=T(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(ab(a.parent))}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Aw(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var u=_w(e);return a.next((function(e){u.put(Gb(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Aw(e),r=_w(e),i=xw(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=xw(e),i=!0,a=new Map;return vv.forEach(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=fy(),u=[];return vv.forEach(a,(function(i,a){var o;Cp("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Km(t)));var s=function(e,t){var n=rv(t);if(void 0===n)return null;var r,i=T($m(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(u){i.e(u)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=T(iv(t));try{for(i.s();!(n=i.n()).done;){var a,u=n.value,o=T($m(e,u.fieldPath));try{for(o.s();!(a=o.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(u.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(u.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){o.e(c)}finally{o.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=T(iv(t));try{for(a.s();!(n=a.n()).done;){var u=n.value,o=0===u.kind?Xm(e,u.fieldPath,e.startAt):Jm(e,u.fieldPath,e.startAt);r.push(o.value),i&&(i=o.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new fm(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=T(iv(t));try{for(a.s();!(n=a.n()).done;){var u=n.value,o=0===u.kind?Jm(e,u.fieldPath,e.endAt):Xm(e,u.fieldPath,e.endAt);r.push(o.value),i&&(i=o.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new fm(r,i)}(a,i),h=n.en(i,a,l),d=n.en(i,a,f),p=n.nn(i,a,c),v=n.sn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return vv.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=tv.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),u.push(n))}))}))}))})).next((function(){return u}))}return vv.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:lw(mm.create(e.filters,"and")).map((function(t){return Gm(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Xe.set(e,t),t)}},{key:"sn",value:function(e,t,n,r,i,a,u){for(var o=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),l=s/(null!=t?t.length:1),f=[],h=function(s){var h=t?o.rn(t[s/l]):ww,d=o.on(e,h,n[s%l],r),p=o.un(e,h,i[s%l],a),v=u.map((function(t){return o.on(e,h,t,!0)}));f.push.apply(f,c(o.createRange(d,p,v)))},d=0;d<s;++d)h(d);return f}},{key:"on",value:function(e,t,n,r){var i=new aw(e,tv.empty(),t,n);return r?i:i.Ue()}},{key:"un",value:function(e,t,n,r){var i=new aw(e,tv.empty(),t,n);return r?i.Ue():i}},{key:"tn",value:function(e,t){var n=new sw(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=T(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.je(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(u){i.e(u)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return vv.forEach(i,(function(t){return n.tn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Mm(ev.comparator),r=!1,i=T(e.filters);try{for(i.s();!(t=i.n()).done;){var a,u=T(t.value.getFlattenedFilters());try{for(u.s();!(a=u.n()).done;){var o=a.value;o.field.isKeyField()||("array-contains"===o.op||"array-contains-any"===o.op?r=!0:n=n.add(o.field))}}catch(f){u.e(f)}finally{u.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=T(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"cn",value:function(e,t){var n,r=new iw,i=T(iv(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,u=t.data.field(a.fieldPath);if(null==u)return null;var o=r.qe(a.kind);Jb.Ie.ue(u,o)}}catch(s){i.e(s)}finally{i.f()}return r.Fe()}},{key:"rn",value:function(e){var t=new iw;return Jb.Ie.ue(e,t.qe(0)),t.Fe()}},{key:"an",value:function(e,t){var n=new iw;return Jb.Ie.ue(Zv(this.databaseId,t),n.qe(function(e){var t=iv(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}},{key:"nn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new iw);var i,a=0,u=T(iv(e));try{for(u.s();!(i=u.n()).done;){var o,s=i.value,c=n[a++],l=T(r);try{for(l.s();!(o=l.n()).done;){var f=o.value;if(this.hn(t,s.fieldPath)&&tm(c))r=this.ln(r,s,c);else{var h=f.qe(s.kind);Jb.Ie.ue(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){u.e(d)}finally{u.f()}return this.fn(r)}},{key:"en",value:function(e,t,n){return this.nn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Fe();return t}},{key:"ln",value:function(e,t,n){var r,i=c(e),a=[],u=T(n.arrayValue.values||[]);try{for(u.s();!(r=u.n()).done;){var o,s=r.value,l=T(i);try{for(l.s();!(o=l.n()).done;){var f=o.value,h=new iw;h.seed(f.Fe()),Jb.Ie.ue(s,h.qe(t.kind)),a.push(h)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){u.e(d)}finally{u.f()}return a}},{key:"hn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof vm&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Aw(e),i=_w(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return vv.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new uv(t.sequenceNumber,new cv(jb(t.readTime),new tv(ab(t.documentKey)),t.largestBatchId)):uv.empty(),r=e.fields.map((function(e){var t=x(e,2),n=t[0],r=t[1];return new av(ev.fromServerFormat(n),r)}));return new nv(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Gp(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Aw(e),a=_w(e);return this.dn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return vv.forEach(t,(function(t){return a.put(Gb(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return vv.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?vv.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),vv.forEach(a,(function(r){return n._n(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?vv.resolve():n.mn(e,i,r,t,a)}))}))}))}))}},{key:"gn",value:function(e,t,n,r){return xw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}},{key:"yn",value:function(e,t,n,r){return xw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}},{key:"_n",value:function(e,t,n){var r=xw(e),i=new Mm(uw);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(function(e,r){i=i.add(new aw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new Mm(uw),r=this.cn(t,e);if(null==r)return n;var i=rv(t);if(null!=i){var a=e.data.field(i.fieldPath);if(tm(a)){var u,o=T(a.arrayValue.values||[]);try{for(o.s();!(u=o.n()).done;){var s=u.value;n=n.add(new aw(t.indexId,e.key,this.rn(s),r))}}catch(c){o.e(c)}finally{o.f()}}}else n=n.add(new aw(t.indexId,e.key,ww,r));return n}},{key:"mn",value:function(e,t,n,r,i){var a=this;Cp("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var u=[];return function(e,t,n,r,i){for(var a=e.getIterator(),u=t.getIterator(),o=Um(a),s=Um(u);o||s;){var c=!1,l=!1;if(o&&s){var f=n(o,s);f<0?l=!0:f>0&&(c=!0)}else null!=o?l=!0:c=!0;c?(r(s),s=Um(u)):l?(i(o),o=Um(a)):(o=Um(a),s=Um(u))}}(r,i,uw,(function(r){u.push(a.gn(e,t,n,r))}),(function(r){u.push(a.yn(e,t,n,r))})),vv.waitFor(u)}},{key:"dn",value:function(e){var t=1;return _w(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return uw(e,t)})).filter((function(e,t,n){return!t||0!==uw(e,n[t-1])}));var r=[];r.push(e);var i,a=T(n);try{for(a.s();!(i=a.n()).done;){var u=i.value,o=uw(u,e),s=uw(u,t);if(0===o)r[0]=e.Ue();else if(o>0&&s<0)r.push(u),r.push(u.Ue());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,ww,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,ww,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"pn",value:function(e,t){return uw(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Cw)}},{key:"getMinOffset",value:function(e,t){var n=this;return vv.mapArray(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){return e||Dp()}))})).next(Cw)}}]),e}();function Ew(e){return Db(e,"collectionParents")}function xw(e){return Db(e,"indexEntries")}function Aw(e){return Db(e,"indexConfiguration")}function _w(e){return Db(e,"indexState")}function Cw(e){Np(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;lv(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new cv(t.readTime,t.documentKey,n)}var Tw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sw=function(){function e(t,n,r){l(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return h(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Iw(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],u=IDBKeyRange.only(n.batchId),o=0,s=r.Z({range:u},(function(e,t,n){return o++,n.delete()}));a.push(s.next((function(){Np(1===o)})));var c,l=[],f=T(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=sb(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return vv.waitFor(a).next((function(){return l}))}function Dw(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Dp();t=e.noDocument}return JSON.stringify(t).length}Sw.DEFAULT_COLLECTION_PERCENTILE=10,Sw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sw.DEFAULT=new Sw(41943040,Sw.DEFAULT_COLLECTION_PERCENTILE,Sw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sw.DISABLED=new Sw(-1,0,0);var Nw=function(){function e(t,n,r,i){l(this,e),this.userId=t,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return h(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ow(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Rw(e),u=Ow(e);return u.add({}).next((function(o){Np("number"==typeof o);var s,c=new Nb(o,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return zy(e.ie,t)})),i=n.mutations.map((function(t){return zy(e.ie,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.yt,i.userId,c),f=[],h=new Mm((function(e,t){return Gp(e.canonicalString(),t.canonicalString())})),d=T(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=sb(i.userId,p.key.path,o);h=h.add(p.key.path.popLast()),f.push(u.put(l)),f.push(a.put(v,cb))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[o]=c.keys()})),vv.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Ow(e).get(t).next((function(e){return e?(Np(e.userId===n.userId),Ub(n.yt,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?vv.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Ow(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Np(t.batchId>=r),a=Ub(n.yt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ow(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ow(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Ub(t.yt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=ob(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Rw(e).Z({range:i},(function(r,i,u){var o=x(r,3),s=o[0],c=o[1],l=o[2],f=ab(c);if(s===n.userId&&t.path.isEqual(f))return Ow(e).get(l).next((function(e){if(!e)throw Dp();Np(e.userId===n.userId),a.push(Ub(n.yt,e))}));u.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Mm(Gp),i=[];return t.forEach((function(t){var a=ob(n.userId,t.path),u=IDBKeyRange.lowerBound(a),o=Rw(e).Z({range:u},(function(e,i,a){var u=x(e,3),o=u[0],s=u[1],c=u[2],l=ab(s);o===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(o)})),vv.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=ob(this.userId,r),u=IDBKeyRange.lowerBound(a),o=new Mm(Gp);return Rw(e).Z({range:u},(function(e,t,a){var u=x(e,3),s=u[0],c=u[1],l=u[2],f=ab(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(o=o.add(l)):a.done()})).next((function(){return n.En(e,o)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Ow(e).get(t).next((function(e){if(null===e)throw Dp();Np(e.userId===n.userId),r.push(Ub(n.yt,e))})))})),vv.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Iw(e.se,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),vv.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return vv.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Rw(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=ab(e[1]);i.push(a)}else r.done()})).next((function(){Np(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Fw(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return Pw(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"re",value:function(t,n,r,i){return Np(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Fw(e,t,n){var r=ob(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),u=!1;return Rw(e).Z({range:a,X:!0},(function(e,n,r){var a=x(e,3),o=a[0],s=a[1];a[2];o===t&&s===i&&(u=!0),r.done()})).next((function(){return u}))}function Ow(e){return Db(e,"mutations")}function Rw(e){return Db(e,"documentMutations")}function Pw(e){return Db(e,"mutationQueues")}var Lw=function(){function e(t){l(this,e),this.bn=t}return h(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),Bw=function(){function e(t,n){l(this,e),this.referenceDelegate=t,this.yt=n}return h(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new Lw(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return $p.fromTimestamp(new Yp(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Mw(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return Np(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Mw(e).Z((function(u,o){var s=Vb(o);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return vv.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Mw(e).Z((function(e,n){var r=Vb(n);t(r)}))}},{key:"Vn",value:function(e){return jw(e).get("targetGlobalKey").next((function(e){return Np(null!==e),e}))}},{key:"Sn",value:function(e,t){return jw(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return Mw(e).put(zb(this.yt,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Km(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Mw(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Vb(n);Qm(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Uw(e);return t.forEach((function(t){var u=nb(t.path);i.push(a.put({targetId:n,path:u})),i.push(r.referenceDelegate.addReference(e,n,t))})),vv.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Uw(e);return vv.forEach(t,(function(t){var a=nb(t.path);return vv.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Uw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Uw(e),i=fy();return r.Z({range:n,X:!0},(function(e,t,n){var r=ab(e[1]),a=new tv(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=nb(t.path),r=IDBKeyRange.bound([n],[Qp(n)],!1,!0),i=0;return Uw(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=x(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return Mw(e).get(t).next((function(e){return e?Vb(e):null}))}}]),e}();function Mw(e){return Db(e,"targets")}function jw(e){return Db(e,"targetGlobal")}function Uw(e){return Db(e,"targetDocuments")}function Vw(e,t){var n=x(e,2),r=n[0],i=n[1],a=x(t,2),u=a[0],o=a[1],s=Gp(r,u);return 0===s?Gp(i,o):s}var zw=function(){function e(t){l(this,e),this.xn=t,this.buffer=new Mm(Vw),this.Nn=0}return h(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Vw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),qw=function(){function e(t,n,r){l(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return h(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;Cp("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!wv(e.t0)){e.next=12;break}Cp("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,dv(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Ww=function(){function e(t,n){l(this,e),this.$n=t,this.params=n}return h(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return vv.resolve(Tv.at);var r=new zw(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Cp("LruGarbageCollector","Garbage collection skipped; disabled"),vv.resolve(Tw)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Cp("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Tw):n.qn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"qn",value:function(e,t){var n,r,i,a,u,o,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Cp("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,u=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,o=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),_p()<=Ot.DEBUG&&Cp("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(u-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-u)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-o)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),vv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Hw=function(){function e(t,n){l(this,e),this.db=t,this.garbageCollector=function(e,t){return new Ww(e,t)}(this,n)}return h(e,[{key:"Bn",value:function(e){var t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Un",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Gw(e,n)}},{key:"removeReference",value:function(e,t,n){return Gw(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Gw(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return Pw(e).tt((function(r){return Fw(e,r,t).next((function(e){return e&&(n=!0),vv.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(u,o){if(o<=t){var s=n.Gn(e,u).next((function(t){if(!t)return a++,r.getEntry(e,u).next((function(){return r.removeEntry(u,$p.min()),Uw(e).delete([0,nb(u.path)])}))}));i.push(s)}})).next((function(){return vv.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Gw(e,t)}},{key:"Kn",value:function(e,t){var n,r=Uw(e),i=Tv.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=x(e,2),u=a[0],o=(a[1],r.path),s=r.sequenceNumber;0===u?(i!==Tv.at&&t(new tv(ab(n)),i),i=s,n=o):i=Tv.at})).next((function(){i!==Tv.at&&t(new tv(ab(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Gw(e,t){return Uw(e).put(function(e,t){return{targetId:0,path:nb(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Kw=function(){function e(){l(this,e),this.changes=new ey((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return h(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Wm.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?vv.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Qw=function(){function e(t){l(this,e),this.yt=t}return h(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Jw(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Jw(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Bb(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Wm.newInvalidDocument(t);return Jw(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Zw(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:Wm.newInvalidDocument(t)};return Jw(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Zw(t))},(function(e,i){r={document:n.jn(t,i),size:Dw(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=ny();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=ny(),i=new Pm(tv.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,Dw(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return vv.resolve();var r=new Mm(tk);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Zw(r.first()),Zw(r.last())),a=r.getIterator(),u=a.getNext();return Jw(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=tv.fromSegments([].concat(c(t.prefixPath),[t.collectionGroup,t.documentId]));u&&tk(u,i)<0;)n(u,null),u=a.getNext();u&&u.isEqual(i)&&(n(u,t),u=a.hasNext()?a.getNext():null),u?r.j(Zw(u)):r.done()})).next((function(){for(;u;)n(u,null),u=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Bb(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Jw(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=ny(),i=T(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,u=r.jn(tv.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(u.key,u)}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=ny(),u=ek(t,n),o=ek(t,cv.max());return Jw(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,o,!0)},(function(e,t,n){var u=i.jn(tv.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(u.key,u)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new $w(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Xw(e).get("remoteDocumentGlobalKey").next((function(e){return Np(!!e),e}))}},{key:"Qn",value:function(e,t){return Xw(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Uy(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=tv.fromSegments(t.noDocument.path),i=jb(t.noDocument.readTime);n=Wm.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Dp();var a=tv.fromSegments(t.unknownDocument.path),u=jb(t.unknownDocument.version);n=Wm.newUnknownDocument(a,u)}return t.readTime&&n.setReadTime(function(e){var t=new Yp(e[0],e[1]);return $p.fromTimestamp(t)}(t.readTime)),n}(this.yt,t);if(!n.isNoDocument()||!n.version.isEqual($p.min()))return n}return Wm.newInvalidDocument(e)}}]),e}();function Yw(e){return new Qw(e)}var $w=function(e){p(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new ey((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return h(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Mm((function(e,t){return Gp(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,u){var o=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,o.readTime)),u.isValidDocument()){var s=Lb(t.Yn.yt,u);i=i.add(a.path.popLast());var c=Dw(s);r+=c-o.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=o.size,t.trackRemovals){var l=Lb(t.Yn.yt,u.convertToNoDocument($p.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),vv.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Kw);function Xw(e){return Db(e,"remoteDocumentGlobal")}function Jw(e){return Db(e,"remoteDocumentsV14")}function Zw(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ek(e,t){var n=t.documentKey.path.toArray();return[e,Bb(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function tk(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Gp(n[a],r[a]))return i;return(i=Gp(n.length,r.length))||((i=Gp(n[n.length-2],r[r.length-2]))||Gp(n[n.length-1],r[r.length-1]))}var nk=h((function e(t,n){l(this,e),this.overlayedDocument=t,this.mutatedFields=n})),rk=function(){function e(t,n,r,i){l(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return h(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&jg(r.mutation,e,Vm.empty(),Yp.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,fy()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fy(),i=uy();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=iy();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=uy();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,fy())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=ny(),a=sy(),u=sy();return t.forEach((function(e,t){var u=n.get(t.key);r.has(t.key)&&(void 0===u||u.mutation instanceof qg)?i=i.insert(t.key,t):void 0!==u?(a.set(t.key,u.mutation.getFieldMask()),jg(u.mutation,t,u.mutation.getFieldMask(),Yp.now())):a.set(t.key,Vm.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return u.set(e,new nk(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),u}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=sy(),i=new Pm((function(e,t){return e-t})),a=fy();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=T(e);try{var u=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var u=r.get(n)||Vm.empty();u=e.applyToLocalView(a,u),r.set(n,u);var o=(i.get(e.batchId)||fy()).add(n);i=i.insert(e.batchId,o)}}))};for(a.s();!(n=a.n()).done;)u()}catch(o){a.e(o)}finally{a.f()}})).next((function(){for(var u=[],o=i.getReverseIterator(),s=function(){var i=o.getNext(),s=i.key,c=i.value,l=oy();c.forEach((function(e){if(!a.has(e)){var n=Bg(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),u.push(n.documentOverlayCache.saveOverlays(e,s,l))};o.hasNext();)s();return vv.waitFor(u)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return tv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ag(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var u=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):vv.resolve(uy()),o=-1,s=a;return u.next((function(t){return vv.forEach(t,(function(t,n){return o<n.largestBatchId&&(o=n.largestBatchId),a.get(t)?vv.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,fy())})).next((function(e){return{batchId:o,changes:ay(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new tv(t)).next((function(e){var t=iy();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=iy();return this.indexManager.getCollectionParents(e,i).next((function(u){return vv.forEach(u,(function(u){var o=function(e,t){return new Zm(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,u.child(i));return r.getDocumentsMatchingCollectionQuery(e,o,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Wm.newInvalidDocument(n)))}));var n=iy();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&jg(a.mutation,i,Vm.empty(),Yp.now()),dg(t,i)&&(n=n.insert(r,i))})),n}))}}]),e}(),ik=function(){function e(t){l(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return h(e,[{key:"getBundleMetadata",value:function(e,t){return vv.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Dy(n.createTime)}),vv.resolve()}},{key:"getNamedQuery",value:function(e,t){return vv.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:qb(e.bundledQuery),readTime:Dy(e.readTime)}}(t)),vv.resolve()}}]),e}(),ak=function(){function e(){l(this,e),this.overlays=new Pm(tv.comparator),this.es=new Map}return h(e,[{key:"getOverlay",value:function(e,t){return vv.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=uy();return vv.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),vv.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),vv.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=uy(),i=t.length+1,a=new tv(t.child("")),u=this.overlays.getIteratorFrom(a);u.hasNext();){var o=u.getNext().value,s=o.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&o.largestBatchId>n&&r.set(o.getKey(),o)}return vv.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Pm((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var u=a.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>n){var o=i.get(u.largestBatchId);null===o&&(o=uy(),i=i.insert(u.largestBatchId,o)),o.set(u.getKey(),u)}}for(var s=uy(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return vv.resolve(s)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Ob(t,n));var a=this.es.get(t);void 0===a&&(a=fy(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),uk=function(){function e(){l(this,e),this.ns=new Mm(ok.ss),this.rs=new Mm(ok.os)}return h(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new ok(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new ok(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new tv(new Jp([])),r=new ok(n,e),i=new ok(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new tv(new Jp([])),n=new ok(t,e),r=new ok(t,e+1),i=fy();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new ok(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),ok=function(){function e(t,n){l(this,e),this.key=t,this._s=n}return h(e,null,[{key:"ss",value:function(e,t){return tv.comparator(e.key,t.key)||Gp(e._s,t._s)}},{key:"os",value:function(e,t){return Gp(e._s,t._s)||tv.comparator(e.key,t.key)}}]),e}(),sk=function(){function e(t,n){l(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Mm(ok.ss)}return h(e,[{key:"checkEmpty",value:function(e){return vv.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Nb(i,t,n,r);this.mutationQueue.push(a);var u,o=T(r);try{for(o.s();!(u=o.n()).done;){var s=u.value;this.gs=this.gs.add(new ok(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){o.e(c)}finally{o.f()}return vv.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return vv.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return vv.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return vv.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return vv.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new ok(t,0),i=new ok(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),vv.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Mm(Gp);return t.forEach((function(e){var t=new ok(e,0),i=new ok(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),vv.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;tv.isDocumentKey(i)||(i=i.child(""));var a=new ok(new tv(i),0),u=new Mm(Gp);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(u=u.add(e._s)),!0)}),a),vv.resolve(this.Is(u))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Np(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return vv.forEach(t.mutations,(function(i){var a=new ok(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new ok(t,0),r=this.gs.firstAfterOrEqual(n);return vv.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,vv.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),ck=function(){function e(t){l(this,e),this.Es=t,this.docs=new Pm(tv.comparator),this.size=0}return h(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return vv.resolve(n?n.document.mutableCopy():Wm.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=ny();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Wm.newInvalidDocument(e))})),vv.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=ny(),i=new tv(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var u=a.getNext(),o=u.key,s=u.value.document;if(!t.isPrefixOf(o.path))break;o.path.length>t.length+1||lv(sv(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return vv.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Dp()}},{key:"As",value:function(e,t){return vv.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new lk(this)}},{key:"getSize",value:function(e){return vv.resolve(this.size)}}]),e}(),lk=function(e){p(n,e);var t=w(n);function n(e){var r;return l(this,n),(r=t.call(this)).Yn=e,r}return h(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),vv.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Kw),fk=function(){function e(t){l(this,e),this.persistence=t,this.Rs=new ey((function(e){return Km(e)}),Qm),this.lastRemoteSnapshotVersion=$p.min(),this.highestTargetId=0,this.bs=0,this.Ps=new uk,this.targetCount=0,this.vs=Lw.Pn()}return h(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),vv.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return vv.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return vv.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),vv.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),vv.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new Lw(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,vv.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),vv.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,vv.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(u,o){o.sequenceNumber<=t&&null===n.get(o.targetId)&&(r.Rs.delete(u),a.push(r.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),vv.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return vv.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return vv.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),vv.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),vv.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),vv.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return vv.resolve(n)}},{key:"containsKey",value:function(e,t){return vv.resolve(this.Ps.containsKey(t))}}]),e}(),hk=function(){function e(t,n){var r=this;l(this,e),this.Vs={},this.overlays={},this.Ss=new Tv(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new fk(this),this.indexManager=new yw,this.remoteDocumentCache=new ck((function(e){return r.referenceDelegate.xs(e)})),this.yt=new Pb(n),this.Ns=new ik(this.yt)}return h(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new ak,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new sk(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Cp("MemoryPersistence","Starting transaction:",e);var i=new dk(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return vv.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),dk=function(e){p(n,e);var t=w(n);function n(e){var r;return l(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return h(n)}(hv),pk=function(){function e(t){l(this,e),this.persistence=t,this.Fs=new uk,this.$s=null}return h(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Dp()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),vv.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),vv.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),vv.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vv.forEach(this.Ls,(function(r){var i=tv.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,$p.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return vv.or([function(){return vv.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),vk=function(){function e(t){l(this,e),this.yt=t}return h(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new mv("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ub,{unique:!0}),e.createObjectStore("documentMutations")}(e),mk(e),function(e){e.createObjectStore("remoteDocuments")}(e));var u=vv.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),mk(e)),u=u.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:$p.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(u=u.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ub,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return vv.waitFor(i)}))}(e,a)}))),u=u.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(u=u.next((function(){return i.Us(a)}))),n<6&&r>=6&&(u=u.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(u=u.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(u=u.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(u=u.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(u=u.next((function(){return i.js(a)}))),n<11&&r>=11&&(u=u.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(u=u.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:kb});t.createIndex("collectionPathOverlayIndex",Eb,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",xb,{unique:!1})}(e)}))),n<13&&r>=13&&(u=u.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:lb});t.createIndex("documentKeyIndex",fb),t.createIndex("collectionGroupIndex",hb)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(u=u.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(u=u.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:gb}).createIndex("sequenceNumberIndex",yb,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:bb}).createIndex("documentKeyIndex",wb,{unique:!1})}(e)}))),u}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=Dw(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Us",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return vv.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return vv.forEach(r,(function(r){Np(r.userId===n.userId);var i=Ub(t.yt,r);return Iw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Jp(n),u=function(e){return[0,nb(e)]}(a);r.push(t.get(u).next((function(n){return n?vv.resolve():function(n){return t.put({targetId:0,path:nb(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return vv.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:mb});var n=t.store("collectionParents"),r=new bw,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:nb(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new Jp(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=x(e,3),r=(n[0],n[1]),a=(n[2],ab(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Vb(r),a=zb(t.yt,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),u=(i=n,i.document?new tv(Jp.fromString(i.document.name).popFirst(5)):i.noDocument?tv.fromSegments(i.noDocument.path):i.unknownDocument?tv.fromSegments(i.unknownDocument.path):Dp()).path.toArray(),o={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(o))})).next((function(){return vv.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=Yw(this.yt),a=new hk(pk.Bs,this.yt.ie);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:fy();Ub(n.yt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),vv.forEach(r,(function(e,r){var u=new Ep(r),o=$b.re(n.yt,u),s=a.getIndexManager(u),c=Nw.re(u,n.yt,s,a.referenceDelegate);return new rk(i,c,o,s).recalculateAndSaveOverlaysForDocumentKeys(new Ib(t,Tv.at),e).next()}))}))}}]),e}();function mk(e){e.createObjectStore("targetDocuments",{keyPath:pb}).createIndex("documentTargetsIndex",vb,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",db,{unique:!0}),e.createObjectStore("targetGlobal")}var gk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",yk=function(){function e(t,n,r,i,a,u,o,s,c,f){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(l(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=u,this.document=o,this.Js=c,this.Ys=f,this.Xs=h,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new Rp(Op.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Hw(this,i),this.ii=n+"main",this.yt=new Pb(s),this.ri=new gv(this.ii,this.Xs,new vk(this.yt)),this.Cs=new Bw(this.referenceDelegate,this.yt),this.remoteDocumentCache=Yw(this.yt),this.Ns=new Kb,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===f&&Tp("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return h(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Rp(Op.FAILED_PRECONDITION,gk);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new Tv(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=We(je().mark((function n(r){return je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=We(je().mark((function t(n){return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return wk(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(wv(t))return Cp("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Cp("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return bk(e).get("owner").next((function(e){return vv.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return wk(e).delete(this.clientId)}},{key:"yi",value:function(){var e=We(je().mark((function e(){var t,n,r,i,a=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Db(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return vv.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=T(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(u){n.e(u)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?vv.resolve(!0):bk(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new Rp(Op.FAILED_PRECONDITION,gk);return!1}}return!(!t.networkEnabled||!t.inForeground)||wk(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Cp("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=We(je().mark((function e(){var t=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Ib(e,Tv.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return wk(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return Nw.re(e,this.yt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new kw(e,this.yt.ie.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return $b.re(this.yt,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Cp("IndexedDbPersistence","Starting transaction:",e);var i,a,u="readonly"===t?"readonly":"readwrite",o=15===(i=this.Xs)?Sb:14===i?Tb:13===i?Cb:12===i?_b:11===i?Ab:void Dp();return this.ri.runTransaction(e,u,o,(function(i){return a=new Ib(i,r.Ss?r.Ss.next():Tv.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw Tp("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new Rp(Op.FAILED_PRECONDITION,fv);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return bk(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Rp(Op.FAILED_PRECONDITION,gk)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bk(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=bk(e);return n.get("owner").next((function(e){return t.mi(e)?(Cp("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):vv.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Tp("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!lt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Cp("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Tp("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Tp("Failed to set zombie client id.",e)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return gv.C()}}]),e}();function bk(e){return Db(e,"owner")}function wk(e){return Db(e,"clientMetadata")}function kk(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Ek=function(){function e(t,n,r,i){l(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return h(e,null,[{key:"Ci",value:function(t,n){var r,i=fy(),a=fy(),u=T(n.docChanges);try{for(u.s();!(r=u.n()).done;){var o=r.value;switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}}}catch(s){u.e(s)}finally{u.f()}return new e(t,n.fromCache,i,a)}}]),e}(),xk=function(){function e(){l(this,e),this.xi=!1}return h(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(ng(t))return vv.resolve(null);var r=og(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=cg(t,null,"F"),r=og(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=fy.apply(void 0,c(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var u=n.Fi(t,i);return n.$i(t,u,a,r.readTime)?n.ki(e,cg(t,null,"F")):n.Bi(e,u,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return ng(t)||r.isEqual($p.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var u=i.Fi(t,a);return i.$i(t,u,n,r)?i.Mi(e,t):(_p()<=Ot.DEBUG&&Cp("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),hg(t)),i.Bi(e,u,t,ov(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new Mm(vg(e));return t.forEach((function(t,r){dg(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return _p()<=Ot.DEBUG&&Cp("QueryEngine","Using full collection scan to execute query:",hg(t)),this.Ni.getDocumentsMatchingQuery(e,t,cv.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Ak=function(){function e(t,n,r,i){l(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new Pm(Gp),this.Ui=new ey((function(e){return Km(e)}),Qm),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return h(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rk(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function _k(e,t,n,r){return new Ak(e,t,n,r)}function Ck(e,t){return Tk.apply(this,arguments)}function Tk(){return(Tk=We(je().mark((function e(t,n){var r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fp(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],u=[],o=fy(),s=T(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=T(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;o=o.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,p=T(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;u.push(v.batchId);var m,g=T(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;o=o.add(y.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,o).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:u}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sk(e,t){var n=Fp(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),u=vv.resolve();return a.forEach((function(e){u=u.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Np(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),u.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=fy(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Ik(e){var t=Fp(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function Dk(e,t){var n=Fp(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var u=[];t.targetChanges.forEach((function(a,o){var s=i.get(o);if(s){u.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,o).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,o)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(o)?c=c.withResumeToken(Lv.EMPTY_BYTE_STRING,$p.min()).withLastLimboFreeSnapshotVersion($p.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&u.push(n.Cs.updateTargetData(e,c))}}));var o=ny(),s=fy();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),u.push(Nk(e,a,t.documentUpdates).next((function(e){o=e.Wi,s=e.zi}))),!r.isEqual($p.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));u.push(c)}return vv.waitFor(u).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,o,s)})).next((function(){return o}))})).then((function(e){return n.qi=i,e}))}function Nk(e,t,n){var r=fy(),i=fy();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=ny();return n.forEach((function(n,a){var u=e.get(n);a.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual($p.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||0===a.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Cp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function Fk(e,t){var n=Fp(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Ok(e,t){var n=Fp(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,vv.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new Rb(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function Rk(e,t,n){return Pk.apply(this,arguments)}function Pk(){return(Pk=We(je().mark((function e(t,n,r){var i,a,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Fp(t),a=i.qi.get(n),u=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",u,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),wv(e.t1)){e.next=12;break}throw e.t1;case 12:Cp("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function Lk(e,t,n){var r=Fp(e),i=$p.min(),a=fy();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Fp(e),i=r.Ui.get(n);return void 0!==i?vv.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,og(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:$p.min(),n?a:fy())})).next((function(e){return jk(r,pg(t),e),{documents:e,Hi:a}}))}))}function Bk(e,t){var n=Fp(e),r=Fp(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function Mk(e,t){var n=Fp(e),r=n.Ki.get(t)||$p.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,ov(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return jk(n,t,e),e}))}function jk(e,t,n){var r=e.Ki.get(t)||$p.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function Uk(e,t,n,r){return Vk.apply(this,arguments)}function Vk(){return(Vk=We(je().mark((function e(t,n,r,i){var a,u,o,s,c,l,f,h,d,p;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Fp(t),u=fy(),o=ny(),s=T(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(u=u.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),o=o.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,Ok(a,function(e){return og(tg(Jp.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Nk(e,d,o).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,u,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zk(e,t){return qk.apply(this,arguments)}function qk(){return qk=We(je().mark((function e(t,n){var r,i,a,u=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:fy(),e.next=3,Ok(t,og(qb(n.bundledQuery)));case 3:return i=e.sent,a=Fp(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Dy(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var u=i.withResumeToken(Lv.EMPTY_BYTE_STRING,t);return a.qi=a.qi.insert(u.targetId,u),a.Cs.updateTargetData(e,u).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),qk.apply(this,arguments)}function Wk(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Hk(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Gk(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Kk=function(){function e(t,n,r,i){l(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return h(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),u="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return u&&a.error&&((u="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Rp(a.error.code,a.error.message))),u?new e(t,n,a.state,i):(Tp("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Qk=function(){function e(t,n,r){l(this,e),this.targetId=t,this.state=n,this.error=r}return h(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Rp(i.error.code,i.error.message))),a?new e(t,i.state,r):(Tp("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Yk=function(){function e(t,n){l(this,e),this.clientId=t,this.activeTargetIds=n}return h(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=dy(),u=0;i&&u<r.activeTargetIds.length;++u)i=Pv(r.activeTargetIds[u]),a=a.add(r.activeTargetIds[u]);return i?new e(t,a):(Tp("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),$k=function(){function e(t,n){l(this,e),this.clientId=t,this.onlineState=n}return h(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Tp("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Xk=function(){function e(){l(this,e),this.activeTargetIds=dy()}return h(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Jk=function(){function e(t,n,r,i,a){l(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Pm(Gp),this.started=!1,this.cr=[];var u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Wk(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new Xk),this.lr=new RegExp("^firestore_clients_".concat(u,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(u,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(u,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return h(e,[{key:"start",value:function(){var e=We(je().mark((function e(){var t,n,r,i,a,u,o,s,c,l,f,h=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=T(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Wk(this.persistenceKey,i)))&&(u=Yk.Zi(i,a))&&(this.ur=this.ur.insert(u.clientId,u));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(o=this.storage.getItem(this.wr))&&(s=this.yr(o))&&this.pr(s),c=T(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Gk(this.persistenceKey,e));if(n){var r=Qk.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Gk(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Cp("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Cp("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Cp("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Cp("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void Tp("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(We(je().mark((function e(){var r,i,a,u,o,s,c;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(u=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(u));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(o=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(o));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=Tv.at;if(null!=e)try{var n=JSON.parse(e);Np("number"==typeof n),t=n}catch(e){Tp("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Tv.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new Kk(this.currentUser,e,t,n),i=Hk(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=Hk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=Gk(this.persistenceKey,e),i=new Qk(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return Yk.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Kk.Zi(new Ep(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return Qk.Zi(r,t)}},{key:"yr",value:function(e){return $k.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:Cp("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),u=[],o=[];return a.forEach((function(e){i.has(e)||u.push(e)})),i.forEach((function(e){a.has(e)||o.push(e)})),this.syncEngine.Br(u,o).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=dy();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Zk=function(){function e(){l(this,e),this.Lr=new Xk,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return h(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new Xk,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),eE=function(){function e(){l(this,e)}return h(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),tE=function(){function e(){var t=this;l(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return h(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Cp("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=T(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Cp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=T(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),nE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},rE=function(){function e(t){l(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return h(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),iE=function(e){p(n,e);var t=w(n);function n(e){var r;return l(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return h(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var u=new wp;u.setWithCredentials(!0),u.listenOnce(vp.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case pp.NO_ERROR:var t=u.getResponseJson();Cp("Connection","XHR received:",JSON.stringify(t)),i(t);break;case pp.TIMEOUT:Cp("Connection",'RPC "'+e+'" timed out'),a(new Rp(Op.DEADLINE_EXCEEDED,"Request time out"));break;case pp.HTTP_ERROR:var n=u.getStatus();if(Cp("Connection",'RPC "'+e+'" failed with status:',n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var o=null==r?void 0:r.error;if(o&&o.status&&o.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Op).indexOf(t)>=0?t:Op.UNKNOWN}(o.status);a(new Rp(s,o.message))}else a(new Rp(Op.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Rp(Op.UNAVAILABLE,"Connection failed."));break;default:Dp()}}finally{Cp("Connection",'RPC "'+e+'" completed.')}}));var o=JSON.stringify(r);u.send(t,"POST",o,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=hp(),a=dp(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new yp({})),this.lo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var o=r.join("");Cp("Connection","Creating WebChannel: "+o,u);var s=i.createWebChannel(o,u),c=!1,l=!1,f=new rE({Hr:function(e){l?Cp("Connection","Not sending because WebChannel is closed:",e):(c||(Cp("Connection","Opening WebChannel transport."),s.open(),c=!0),Cp("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,bp.EventType.OPEN,(function(){l||Cp("Connection","WebChannel transport opened.")})),h(s,bp.EventType.CLOSE,(function(){l||(l=!0,Cp("Connection","WebChannel transport closed"),f.io())})),h(s,bp.EventType.ERROR,(function(e){l||(l=!0,Sp("Connection","WebChannel transport errored:",e),f.io(new Rp(Op.UNAVAILABLE,"The operation could not be completed")))})),h(s,bp.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Np(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Cp("Connection","WebChannel received error:",i);var a=i.status,u=function(e){var t=Kg[e];if(void 0!==t)return Zg(t)}(a),o=i.message;void 0===u&&(u=Op.INTERNAL,o="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new Rp(u,o)),s.close()}else Cp("Connection","WebChannel received:",n),f.ro(n)}})),h(a,mp.STAT_EVENT,(function(e){e.stat===gp.PROXY?Cp("Connection","Detected buffering proxy"):e.stat===gp.NOPROXY&&Cp("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){l(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return h(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);Cp("RestConnection","Sending: ",a,n);var u={};return this.lo(u,r,i),this.fo(e,a,u,n).then((function(e){return Cp("RestConnection","Received: ",e),e}),(function(t){throw Sp("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+xp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=nE[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function aE(){return"undefined"!=typeof window?window:null}function uE(){return"undefined"!=typeof document?document:null}function oE(e){return new Cy(e,!0)}var sE=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;l(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return h(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Cp("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),cE=function(){function e(t,n,r,i,a,u,o,s){l(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new sE(t,n)}return h(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Op.RESOURCE_EXHAUSTED?(Tp(n.toString()),Tp("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===Op.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=x(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Rp(Op.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(We(je().mark((function t(){return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Cp("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Cp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),lE=function(e){p(n,e);var t=w(n);function n(e,r,i,a,u,o){var s;return l(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,o)).yt=u,s}return h(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Dp()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(Np(void 0===t||"string"==typeof t),Lv.fromBase64String(t||"")):(Np(void 0===t||t instanceof Uint8Array),Lv.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),u=t.targetChange.cause,o=u&&function(e){var t=void 0===e.code?Op.UNKNOWN:Zg(e.code);return new Rp(t,e.message||"")}(u);n=new yy(r,i,a,o||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Ry(e,s.document.name),l=Dy(s.document.updateTime),f=s.document.createTime?Dy(s.document.createTime):$p.min(),h=new zm({mapValue:{fields:s.document.fields}}),d=Wm.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new my(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=Ry(e,m.document),y=m.readTime?Dy(m.readTime):$p.min(),b=Wm.newNoDocument(g,y),w=m.removedTargetIds||[];n=new my([],w,b.key,b)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var E=Ry(e,k.document),x=k.removedTargetIds||[];n=new my([],x,E,null)}else{if(!("filter"in t))return Dp();t.filter;var A=t.filter;A.targetId;var _=A.count||0,C=new Xg(_),T=A.targetId;n=new gy(T,C)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return $p.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?$p.min():t.readTime?Dy(t.readTime):$p.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=By(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=Ym(r)?{documents:Wy(e,r)}:{query:Hy(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Sy(e,t.resumeToken):t.snapshotVersion.compareTo($p.min())>0&&(n.readTime=Ty(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Dp()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=By(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(cE),fE=function(e){p(n,e);var t=w(n);function n(e,r,i,a,u,o){var s;return l(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,o)).yt=u,s.Jo=!1,s}return h(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,tr(v(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Np(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(Np(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Dy(e.updateTime):Dy(t);return n.isEqual($p.min())&&(n=Dy(t)),new Og(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Dy(e.commitTime);return this.listener.Zo(n,t)}return Np(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=By(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return zy(t.yt,e)}))};this.Bo(n)}}]),n}(cE),hE=function(e){p(n,e);var t=w(n);function n(e,r,i,a){var u;return l(this,n),(u=t.call(this)).authCredentials=e,u.appCheckCredentials=r,u.connection=i,u.yt=a,u.nu=!1,u}return h(n,[{key:"su",value:function(){if(this.nu)throw new Rp(Op.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=x(i,2),u=a[0],o=a[1];return r.connection.ao(e,t,n,u,o)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Op.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Rp(Op.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var u=x(a,2),o=u[0],s=u[1];return i.connection._o(e,t,n,o,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Op.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Rp(Op.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return h((function e(){l(this,e)}))}());var dE=function(){function e(t,n){l(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return h(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(Tp(t),this.ou=!1):Cp("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),pE=h((function e(t,n,r,i,a){var u=this;l(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget(We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=_E(u),!e.t0){e.next=5;break}return Cp("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=We(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Fp(t))._u.add(4),e.next=4,gE(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,vE(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(u);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new dE(r,i)}));function vE(e){return mE.apply(this,arguments)}function mE(){return(mE=We(je().mark((function e(t){var n,r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_E(t)){e.next=18;break}n=T(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function gE(e){return yE.apply(this,arguments)}function yE(){return(yE=We(je().mark((function e(t){var n,r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=T(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function bE(e,t){var n=Fp(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),AE(n)?xE(n):ex(n).ko()&&kE(n,t))}function wE(e,t){var n=Fp(e),r=ex(n);n.du.delete(t),r.ko()&&EE(n,t),0===n.du.size&&(r.ko()?r.Fo():_E(n)&&n.gu.set("Unknown"))}function kE(e,t){e.yu.Ot(t.targetId),ex(e).zo(t)}function EE(e,t){e.yu.Ot(t),ex(e).Ho(t)}function xE(e){e.yu=new wy({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),ex(e).start(),e.gu.uu()}function AE(e){return _E(e)&&!ex(e).No()&&e.du.size>0}function _E(e){return 0===Fp(e)._u.size}function CE(e){e.yu=void 0}function TE(e){return SE.apply(this,arguments)}function SE(){return(SE=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){kE(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IE(e,t){return DE.apply(this,arguments)}function DE(){return(DE=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:CE(t),AE(t)?(t.gu.hu(n),xE(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function NE(e,t,n){return FE.apply(this,arguments)}function FE(){return FE=We(je().mark((function e(t,n,r){var i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof yy&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=We(je().mark((function e(t,n){var r,i,a,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=T(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(u=a.value,e.t0=t.du.has(u),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(u,r);case 10:t.du.delete(u),t.yu.removeTarget(u);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Cp("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,OE(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof my?t.yu.Kt(n):n instanceof gy?t.yu.Jt(n):t.yu.jt(n),r.isEqual($p.min())){e.next=29;break}return e.prev=14,e.next=17,Ik(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Lv.EMPTY_BYTE_STRING,n.snapshotVersion)),EE(e,t);var r=new Rb(n.target,t,1,n.sequenceNumber);kE(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Cp("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,OE(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),FE.apply(this,arguments)}function OE(e,t,n){return RE.apply(this,arguments)}function RE(){return(RE=We(je().mark((function e(t,n,r){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wv(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,gE(t);case 5:t.gu.set("Offline"),r||(r=function(){return Ik(t.localStore)}),t.asyncQueue.enqueueRetryable(We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cp("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,vE(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PE(e,t){return t().catch((function(n){return OE(e,n,t)}))}function LE(e){return BE.apply(this,arguments)}function BE(){return(BE=We(je().mark((function e(t){var n,r,i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Fp(t),r=tx(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!ME(n)){e.next=19;break}return e.prev=3,e.next=6,Fk(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,jE(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,OE(n,e.t0);case 17:e.next=2;break;case 19:UE(n)&&VE(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function ME(e){return _E(e)&&e.fu.length<10}function jE(e,t){e.fu.push(t);var n=tx(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function UE(e){return _E(e)&&!tx(e).No()&&e.fu.length>0}function VE(e){tx(e).start()}function zE(e){return qE.apply(this,arguments)}function qE(){return(qE=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:tx(t).eu();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WE(e){return HE.apply(this,arguments)}function HE(){return(HE=We(je().mark((function e(t){var n,r,i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=tx(t),r=T(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(u){r.e(u)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GE(e,t,n){return KE.apply(this,arguments)}function KE(){return(KE=We(je().mark((function e(t,n,r){var i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=Fb.from(i,n,r),e.next=3,PE(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,LE(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QE(e,t){return YE.apply(this,arguments)}function YE(){return YE=We(je().mark((function e(t,n){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&tx(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=We(je().mark((function e(t,n){var r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Jg(i=n.code)||i===Op.ABORTED){e.next=7;break}return r=t.fu.shift(),tx(t).Mo(),e.next=5,PE(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,LE(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:UE(t)&&VE(t);case 5:case"end":return e.stop()}}),e)}))),YE.apply(this,arguments)}function $E(e,t){return XE.apply(this,arguments)}function XE(){return(XE=We(je().mark((function e(t,n){var r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Fp(t)).asyncQueue.verifyOperationInProgress(),Cp("RemoteStore","RemoteStore received new credentials"),i=_E(r),r._u.add(3),e.next=6,gE(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,vE(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JE(e,t){return ZE.apply(this,arguments)}function ZE(){return(ZE=We(je().mark((function e(t,n){var r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fp(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,vE(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,gE(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ex(e){return e.pu||(e.pu=function(e,t,n){var r=Fp(e);return r.su(),new lE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:TE.bind(null,e),Zr:IE.bind(null,e),Wo:NE.bind(null,e)}),e.wu.push(function(){var t=We(je().mark((function t(n){return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),AE(e)?xE(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:CE(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function tx(e){return e.Iu||(e.Iu=function(e,t,n){var r=Fp(e);return r.su(),new fE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:zE.bind(null,e),Zr:QE.bind(null,e),tu:WE.bind(null,e),Zo:GE.bind(null,e)}),e.wu.push(function(){var t=We(je().mark((function t(n){return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,LE(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Cp("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var nx=function(){function e(t,n,r,i,a){l(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Pp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return h(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Rp(Op.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var u=new e(t,n,Date.now()+r,i,a);return u.start(r),u}}]),e}();function rx(e,t){if(Tp("AsyncQueue","".concat(t,": ").concat(e)),wv(e))return new Rp(Op.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var ix=function(){function e(t){l(this,e),this.comparator=t?function(e,n){return t(e,n)||tv.comparator(e.key,n.key)}:function(e,t){return tv.comparator(e.key,t.key)},this.keyedMap=iy(),this.sortedSet=new Pm(this.comparator)}return h(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),ax=function(){function e(){l(this,e),this.Tu=new Pm(tv.comparator)}return h(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Dp():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),ux=function(){function e(t,n,r,i,a,u,o,s,c){l(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=c}return h(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var u=[];return n.forEach((function(e){u.push({type:0,doc:e})})),new e(t,n,ix.emptySet(n),u,r,i,!0,!1,a)}}]),e}(),ox=h((function e(){l(this,e),this.Au=void 0,this.listeners=[]})),sx=h((function e(){l(this,e),this.queries=new ey((function(e){return fg(e)}),lg),this.onlineState="Unknown",this.Ru=new Set}));function cx(e,t){return lx.apply(this,arguments)}function lx(){return(lx=We(je().mark((function e(t,n){var r,i,a,u,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fp(t),i=n.query,a=!1,(u=r.queries.get(i))||(a=!0,u=new ox),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:u.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),o=rx(e.t0,"Initialization of query '".concat(hg(n.query),"' failed")),e.abrupt("return",void n.onError(o));case 13:r.queries.set(i,u),u.listeners.push(n),n.bu(r.onlineState),u.Au&&n.Pu(u.Au)&&vx(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function fx(e,t){return hx.apply(this,arguments)}function hx(){return(hx=We(je().mark((function e(t,n){var r,i,a,u,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fp(t),i=n.query,a=!1,(u=r.queries.get(i))&&(o=u.listeners.indexOf(n))>=0&&(u.listeners.splice(o,1),a=0===u.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dx(e,t){var n,r=Fp(e),i=!1,a=T(t);try{for(a.s();!(n=a.n()).done;){var u=n.value,o=u.query,s=r.queries.get(o);if(s){var c,l=T(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(u)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=u}}}catch(f){a.e(f)}finally{a.f()}i&&vx(r)}function px(e,t,n){var r=Fp(e),i=r.queries.get(t);if(i){var a,u=T(i.listeners);try{for(u.s();!(a=u.n()).done;){a.value.onError(n)}}catch(o){u.e(o)}finally{u.f()}}r.queries.delete(t)}function vx(e){e.Ru.forEach((function(e){e.next()}))}var mx=function(){function e(t,n,r){l(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return h(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=T(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(u){r.e(u)}finally{r.f()}e=new ux(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=ux.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),gx=function(){function e(t,n){l(this,e),this.ku=t,this.byteLength=n}return h(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),yx=function(){function e(t){l(this,e),this.yt=t}return h(e,[{key:"Ji",value:function(e){return Ry(this.yt,e)}},{key:"Yi",value:function(e){return e.metadata.exists?Uy(this.yt,e.document,!1):Wm.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return Dy(e)}}]),e}(),bx=function(){function e(t,n,r){l(this,e),this.Mu=t,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=wx(t)}return h(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=Jp.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new yx(this.yt),i=T(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var u,o=r.Ji(a.metadata.name),s=T(a.metadata.queries);try{for(s.s();!(u=s.n()).done;){var c=u.value,l=(n.get(c)||fy()).add(o);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=We(je().mark((function e(){var t,n,r,i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uk(this.localStore,new yx(this.yt),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=T(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,zk(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function wx(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var kx=h((function e(t){l(this,e),this.key=t})),Ex=h((function e(t){l(this,e),this.key=t})),xx=function(){function e(t,n){l(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=fy(),this.mutatedKeys=fy(),this.Gu=vg(t),this.Qu=new ix(this.Gu)}return h(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new ax,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,u=i,o=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=dg(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(o=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(o=!0)),p&&(f?(u=u.add(f),a=d?a.add(e):a.delete(e)):(u=u.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;u.size>this.query.limit;){var l="F"===this.query.limitType?u.last():u.first();u=u.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:u,zu:r,$i:o,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dp()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var u=t?this.Yu():[],o=0===this.Ku.size&&this.current?1:0,s=o!==this.Uu;return this.Uu=o,0!==a.length||s?{snapshot:new ux(this.query,e.Qu,i,a,e.mutatedKeys,0===o,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new ax,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=fy(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new Ex(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new kx(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=fy();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return ux.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),Ax=h((function e(t,n,r){l(this,e),this.query=t,this.targetId=n,this.view=r})),_x=h((function e(t){l(this,e),this.key=t,this.nc=!1})),Cx=function(){function e(t,n,r,i,a,u){l(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new ey((function(e){return fg(e)}),lg),this.rc=new Map,this.oc=new Set,this.uc=new Pm(tv.comparator),this.cc=new Map,this.ac=new uk,this.hc={},this.lc=new Map,this.fc=Lw.vn(),this.onlineState="Unknown",this.dc=void 0}return h(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function Tx(e,t){return Sx.apply(this,arguments)}function Sx(){return(Sx=We(je().mark((function e(t,n){var r,i,a,u,o,s;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=wA(t),!(u=r.ic.get(n))){e.next=6;break}i=u.targetId,r.sharedClientState.addLocalQueryTarget(i),a=u.view.ec(),e.next=15;break;case 6:return e.next=8,Ok(r.localStore,og(n));case 8:return o=e.sent,r.isPrimaryClient&&bE(r.remoteStore,o),s=r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.targetId,e.next=14,Ix(r,n,i,"current"===s,o.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ix(e,t,n,r,i){return Dx.apply(this,arguments)}function Dx(){return Dx=We(je().mark((function e(t,n,r,i,a){var u,o,s,c,l,f;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=We(je().mark((function e(t,n,r,i){var a,u,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,Lk(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return u=i&&i.targetChanges.get(n.targetId),o=n.view.applyChanges(a,t.isPrimaryClient,u),e.abrupt("return",($x(t,n.targetId,o.Xu),o.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Lk(t.localStore,n,!0);case 3:return u=e.sent,o=new xx(n,u.Hi),s=o.Wu(u.documents),c=vy.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=o.applyChanges(s,t.isPrimaryClient,c),$x(t,r,l.Xu),f=new Ax(n,r,o),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Dx.apply(this,arguments)}function Nx(e,t){return Fx.apply(this,arguments)}function Fx(){return(Fx=We(je().mark((function e(t,n){var r,i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fp(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!lg(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Rk(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),wE(r.remoteStore,i.targetId),Qx(r,i.targetId)})).catch(dv);case 9:e.next=14;break;case 11:return Qx(r,i.targetId),e.next=14,Rk(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ox(e,t,n){return Rx.apply(this,arguments)}function Rx(){return(Rx=We(je().mark((function e(t,n,r){var i,a,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kA(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Fp(e),a=Yp.now(),u=t.reduce((function(e,t){return e.add(t.key)}),fy());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var o=ny(),s=fy();return i.Gi.getEntries(e,u).next((function(e){(o=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,o)})).next((function(r){n=r;var u,o=[],s=T(t);try{for(s.s();!(u=s.n()).done;){var c=u.value,l=Ug(c,n.get(c.key).overlayedDocument);null!=l&&o.push(new qg(c.key,l,qm(l.value.mapValue),Rg.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,o,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:ay(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new Pm(Gp)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Zx(i,a.changes);case 9:return e.next=11,LE(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),u=rx(e.t0,"Failed to persist write"),r.reject(u);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function Px(e,t){return Lx.apply(this,arguments)}function Lx(){return(Lx=We(je().mark((function e(t,n){var r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fp(t),e.prev=1,e.next=4,Dk(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(Np(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?Np(n.nc):e.removedDocuments.size>0&&(Np(n.nc),n.nc=!1))})),e.next=8,Zx(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,dv(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function Bx(e,t,n){var r=Fp(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Fp(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=T(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(u){a.e(u)}finally{a.f()}})),r&&vx(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Mx(e,t,n){return jx.apply(this,arguments)}function jx(){return(jx=We(je().mark((function e(t,n,r){var i,a,u,o,s,c;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Fp(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(u=a&&a.key)){e.next=14;break}return o=(o=new Pm(tv.comparator)).insert(u,Wm.newNoDocument(u,$p.min())),s=fy().add(u),c=new py($p.min(),new Map,new Mm(Gp),o,s),e.next=9,Px(i,c);case 9:i.uc=i.uc.remove(u),i.cc.delete(n),Jx(i),e.next=16;break;case 14:return e.next=16,Rk(i.localStore,n,!1).then((function(){return Qx(i,n,r)})).catch(dv);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ux(e,t){return Vx.apply(this,arguments)}function Vx(){return(Vx=We(je().mark((function e(t,n){var r,i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fp(t),i=n.batch.batchId,e.prev=1,e.next=4,Sk(r.localStore,n);case 4:return a=e.sent,Kx(r,i,null),Gx(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Zx(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,dv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function zx(e,t,n){return qx.apply(this,arguments)}function qx(){return(qx=We(je().mark((function e(t,n,r){var i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fp(t),e.prev=1,e.next=4,function(e,t){var n=Fp(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Np(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Kx(i,n,r),Gx(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Zx(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,dv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function Wx(e,t){return Hx.apply(this,arguments)}function Hx(){return(Hx=We(je().mark((function e(t,n){var r,i,a,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _E((r=Fp(t)).remoteStore)||Cp("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Fp(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),u=rx(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(u);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function Gx(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function Kx(e,t,n){var r=Fp(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function Qx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=T(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(u){i.e(u)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||Yx(e,t)}))}function Yx(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(wE(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),Jx(e))}function $x(e,t,n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof kx?(e.ac.addReference(a.key,t),Xx(e,a)):a instanceof Ex?(Cp("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||Yx(e,a.key)):Dp()}}catch(u){i.e(u)}finally{i.f()}}function Xx(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(Cp("SyncEngine","New document in limbo: "+n),e.oc.add(r),Jx(e))}function Jx(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new tv(Jp.fromString(t)),r=e.fc.next();e.cc.set(r,new _x(n)),e.uc=e.uc.insert(n,r),bE(e.remoteStore,new Rb(og(tg(n.path)),r,2,Tv.at))}}function Zx(e,t,n){return eA.apply(this,arguments)}function eA(){return eA=We(je().mark((function e(t,n,r){var i,a,u,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Fp(t),a=[],u=[],o=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){o.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Ek.Ci(t.targetId,e);u.push(n)}})))})),e.next=6,Promise.all(o);case 6:return i.sc.Wo(a),e.next=9,function(){var e=We(je().mark((function e(t,n){var r,i,a,u,o,s,c,l;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fp(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return vv.forEach(n,(function(t){return vv.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return vv.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),wv(e.t0)){e.next=10;break}throw e.t0;case 10:Cp("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=T(n);try{for(i.s();!(a=i.n()).done;)u=a.value,o=u.targetId,u.fromCache||(s=r.qi.get(o),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.qi=r.qi.insert(o,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,u);case 9:case"end":return e.stop()}}),e)}))),eA.apply(this,arguments)}function tA(e,t){return nA.apply(this,arguments)}function nA(){return(nA=We(je().mark((function e(t,n){var r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Fp(t)).currentUser.isEqual(n)){e.next=11;break}return Cp("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ck(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new Rp(Op.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Zx(r,i.ji);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rA(e,t){var n=Fp(e),r=n.cc.get(t);if(r&&r.nc)return fy().add(r.key);var i=fy(),a=n.rc.get(t);if(!a)return i;var u,o=T(a);try{for(o.s();!(u=o.n()).done;){var s=u.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){o.e(l)}finally{o.f()}return i}function iA(e,t){return aA.apply(this,arguments)}function aA(){return(aA=We(je().mark((function e(t,n){var r,i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fp(t),e.next=3,Lk(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&$x(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uA(e,t){return oA.apply(this,arguments)}function oA(){return(oA=We(je().mark((function e(t,n){var r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fp(t),e.abrupt("return",Mk(r.localStore,n).then((function(e){return Zx(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sA(e,t,n,r){return cA.apply(this,arguments)}function cA(){return(cA=We(je().mark((function e(t,n,r,i){var a,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Fp(t),e.next=3,function(e,t){var n=Fp(e),r=Fp(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):vv.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(u=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,LE(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Kx(a,n,i||null),Gx(a,n),function(e,t){Fp(Fp(e).mutationQueue).An(t)}(a.localStore,n)):Dp();case 11:return e.next=13,Zx(a,u);case 13:e.next=16;break;case 15:Cp("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lA(e,t){return fA.apply(this,arguments)}function fA(){return(fA=We(je().mark((function e(t,n){var r,i,a,u,o,s,c,l;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wA(r=Fp(t)),kA(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,hA(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,JE(r.remoteStore,!0);case 9:u=T(a);try{for(u.s();!(o=u.n()).done;)s=o.value,bE(r.remoteStore,s)}catch(f){u.e(f)}finally{u.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Qx(r,t),Rk(r.localStore,t,!0)})),wE(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,hA(r,c);case 21:return function(e){var t=Fp(e);t.cc.forEach((function(e,n){wE(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new Pm(tv.comparator)}(r),r.dc=!1,e.next=25,JE(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hA(e,t,n){return dA.apply(this,arguments)}function dA(){return(dA=We(je().mark((function e(t,n,r){var i,a,u,o,s,c,l,f,h,d,p,v,m,g;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Fp(t),a=[],u=[],o=T(n),e.prev=2,o.s();case 4:if((s=o.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,Ok(i.localStore,og(f[0]));case 11:l=e.sent,h=T(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,iA(i,v);case 20:(m=e.sent).snapshot&&u.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Bk(i.localStore,c);case 36:return g=e.sent,e.next=39,Ok(i.localStore,g);case 39:return l=e.sent,e.next=42,Ix(i,pA(g),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),o.e(e.t1);case 50:return e.prev=50,o.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(u),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])})))).apply(this,arguments)}function pA(e){return eg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function vA(e){var t=Fp(e);return Fp(Fp(t.localStore).persistence).vi()}function mA(e,t,n,r){return gA.apply(this,arguments)}function gA(){return(gA=We(je().mark((function e(t,n,r,i){var a,u,o,s;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Fp(t)).dc){e.next=3;break}return e.abrupt("return",void Cp("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((u=a.rc.get(n))&&u.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Mk(a.localStore,pg(u[0]));case 10:return o=e.sent,s=py.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Lv.EMPTY_BYTE_STRING),e.next=14,Zx(a,o,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Rk(a.localStore,n,!0);case 17:return Qx(a,n,i),e.abrupt("break",20);case 19:Dp();case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yA(e,t,n){return bA.apply(this,arguments)}function bA(){return(bA=We(je().mark((function e(t,n,r){var i,a,u,o,s,c,l,f,h;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=wA(t)).dc){e.next=45;break}a=T(n),e.prev=3,a.s();case 5:if((u=a.n()).done){e.next=21;break}if(o=u.value,!i.rc.has(o)){e.next=10;break}return Cp("SyncEngine","Adding an already active target "+o),e.abrupt("continue",19);case 10:return e.next=12,Bk(i.localStore,o);case 12:return s=e.sent,e.next=15,Ok(i.localStore,s);case 15:return c=e.sent,e.next=18,Ix(i,pA(s),c.targetId,!1,c.resumeToken);case 18:bE(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=T(r),e.prev=30,h=je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,Rk(i.localStore,t,!1).then((function(){wE(i.remoteStore,t),Qx(i,t)})).catch(dv);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function wA(e){var t=Fp(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Px.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Mx.bind(null,t),t.sc.Wo=dx.bind(null,t.eventManager),t.sc.wc=px.bind(null,t.eventManager),t}function kA(e){var t=Fp(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ux.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zx.bind(null,t),t}function EA(e,t,n){var r=Fp(e);(function(){var e=We(je().mark((function e(t,n,r){var i,a,u,o,s;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Fp(e),r=Dy(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(wx(i)),a=new bx(i,t.localStore,n.yt),e.next=15,n.mc();case 15:u=e.sent;case 16:if(!u){e.next=26;break}return e.next=19,a.Fu(u);case 19:return(o=e.sent)&&r._updateProgress(o),e.next=23,n.mc();case 23:u=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Zx(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=Fp(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Sp("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var xA=function(){function e(){l(this,e),this.synchronizeTabs=!1}return h(e,[{key:"initialize",value:function(){var e=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=oE(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return _k(this.persistence,new xk,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new hk(pk.Bs,this.yt)}},{key:"gc",value:function(e){return new Zk}},{key:"terminate",value:function(){var e=We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),AA=function(e){p(n,e);var t=w(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return h(n,[{key:"initialize",value:function(){var e=We(je().mark((function e(t){var r=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr(v(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,kA(this.Ac.syncEngine);case 6:return e.next=8,LE(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return _k(this.persistence,new xk,e.initialUser,this.yt)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new qw(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new Cv(t,this.persistence);return new _v(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=kk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Sw.withCacheSize(this.cacheSizeBytes):Sw.DEFAULT;return new yk(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,aE(),uE(),this.yt,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new Zk}}]),n}(xA),_A=function(e){p(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return h(n,[{key:"initialize",value:function(){var e=We(je().mark((function e(t){var r,i=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr(v(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof Jk,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:sA.bind(null,r),$r:mA.bind(null,r),Br:yA.bind(null,r),vi:vA.bind(null,r),Mr:uA.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lA(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=aE();if(!Jk.C(t))throw new Rp(Op.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=kk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Jk(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(AA),CA=function(){function e(){l(this,e)}return h(e,[{key:"initialize",value:function(){var e=We(je().mark((function e(t,n){var r=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Bx(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=tA.bind(null,this.syncEngine),e.next=12,JE(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new sx}},{key:"createDatastore",value:function(e){var t,n=oE(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new iE(t));return function(e,t,n,r){return new hE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,u=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Bx(u.syncEngine,e,0)},a=tE.C()?new tE:new eE,new pE(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,u){var o=new Cx(e,t,n,r,i,a);return u&&(o.dc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=We(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fp(t),Cp("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,gE(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function TA(e,t,n){if(!n)throw new Rp(Op.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function SA(e,t,n,r){if(!0===t&&!0===r)throw new Rp(Op.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function IA(e){if(!tv.isDocumentKey(e))throw new Rp(Op.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function DA(e){if(tv.isDocumentKey(e))throw new Rp(Op.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function NA(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Dp()}function FA(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Rp(Op.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=NA(e);throw new Rp(Op.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function OA(e,t){if(t<=0)throw new Rp(Op.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var RA=new Map,PA=function(){function e(t){var n;if(l(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Rp(Op.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Rp(Op.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,SA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return h(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),LA=function(){function e(t,n,r,i){l(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PA({}),this._settingsFrozen=!1}return h(e,[{key:"app",get:function(){if(!this._app)throw new Rp(Op.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Rp(Op.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PA(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Bp;switch(e.type){case"gapi":var t=e.client;return new Vp(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Rp(Op.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=RA.get(e);t&&(Cp("ComponentProvider","Removing Datastore"),RA.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function BA(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=FA(e,LA))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Sp("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var u,o;if("string"==typeof i.mockUserToken)u=i.mockUserToken,o=Ep.MOCK_USER;else{u=st(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Rp(Op.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");o=new Ep(s)}e._authCredentials=new Mp(new Lp(u,o))}}var MA=function(){function e(t,n,r){l(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return h(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new UA(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),jA=function(){function e(t,n,r){l(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return h(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),UA=function(e){p(n,e);var t=w(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,e,r,tg(i)))._path=i,a.type="collection",a}return h(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new MA(this.firestore,null,new tv(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(jA);function VA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=St(e),TA("collection","path",t),e instanceof LA){var a=Jp.fromString.apply(Jp,[t].concat(r));return DA(a),new UA(e,null,a)}if(!(e instanceof MA||e instanceof UA))throw new Rp(Op.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var u=e._path.child(Jp.fromString.apply(Jp,[t].concat(r)));return DA(u),new UA(e.firestore,null,u)}function zA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=St(e),1===arguments.length&&(t=Hp.R()),TA("doc","path",t),e instanceof LA){var a=Jp.fromString.apply(Jp,[t].concat(r));return IA(a),new MA(e,null,new tv(a))}if(!(e instanceof MA||e instanceof UA))throw new Rp(Op.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var u=e._path.child(Jp.fromString.apply(Jp,[t].concat(r)));return IA(u),new MA(e.firestore,e instanceof UA?e.converter:null,new tv(u))}function qA(e,t){return e=St(e),t=St(t),(e instanceof MA||e instanceof UA)&&(t instanceof MA||t instanceof UA)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function WA(e,t){return e=St(e),t=St(t),e instanceof jA&&t instanceof jA&&e.firestore===t.firestore&&lg(e._query,t._query)&&e.converter===t.converter}function HA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return We(je().mark((function r(){var i;return je().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var GA=function(){function e(t){l(this,e),this.observer=t,this.muted=!1}return h(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):Tp("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),KA=function(){function e(t,n){var r=this;l(this,e),this.Pc=t,this.yt=n,this.metadata=new Pp,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return h(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=We(je().mark((function e(){var t,n,r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new gx(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=We(je().mark((function e(){var t,n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=We(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=We(je().mark((function e(){var t,n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),QA=function(){function e(t){l(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return h(e,[{key:"lookup",value:function(){var e=We(je().mark((function e(t){var n,r=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Rp(Op.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=We(je().mark((function e(t,n){var r,i,a,u,o,s;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fp(t),i=By(r.yt)+"/documents",a={documents:n.map((function(e){return Oy(r.yt,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return u=e.sent,o=new Map,u.forEach((function(e){var t=Vy(r.yt,e);o.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=o.get(e.toString());Np(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Yg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=We(je().mark((function e(){var t,n=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=tv.fromPath(t);n.mutations.push(new $g(r,n.precondition(r)))})),e.next=7,function(){var e=We(je().mark((function e(t,n){var r,i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fp(t),i=By(r.yt)+"/documents",a={writes:n.map((function(e){return zy(r.yt,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Dp();t=$p.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Rp(Op.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual($p.min())?Rg.exists(!1):Rg.updateTime(t):Rg.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual($p.min()))throw new Rp(Op.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rg.updateTime(t)}return Rg.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),YA=function(){function e(t,n,r,i,a){l(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new sE(this.asyncQueue,"transaction_retry")}return h(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(We(je().mark((function t(){var n,r;return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new QA(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!Ov(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Jg(t)}return!1}}]),e}(),$A=function(){function e(t,n,r,i){var a=this;l(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ep.UNAUTHENTICATED,this.clientId=Hp.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cp("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Cp("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return h(e,[{key:"getConfiguration",value:function(){var e=We(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Rp(Op.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Pp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(We(je().mark((function n(){var r;return je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=rx(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function XA(e,t){return JA.apply(this,arguments)}function JA(){return JA=We(je().mark((function e(t,n){var r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Cp("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ck(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),JA.apply(this,arguments)}function ZA(e,t){return e_.apply(this,arguments)}function e_(){return(e_=We(je().mark((function e(t,n){var r,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,t_(t);case 3:return r=e.sent,Cp("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return $E(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return $E(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t_(e){return n_.apply(this,arguments)}function n_(){return(n_=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Cp("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,XA(t,new xA);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function r_(e){return i_.apply(this,arguments)}function i_(){return(i_=We(je().mark((function e(t){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Cp("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,ZA(t,new CA);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a_(e){return t_(e).then((function(e){return e.persistence}))}function u_(e){return t_(e).then((function(e){return e.localStore}))}function o_(e){return r_(e).then((function(e){return e.remoteStore}))}function s_(e){return r_(e).then((function(e){return e.syncEngine}))}function c_(e){return r_(e).then((function(e){return e.datastore}))}function l_(e){return f_.apply(this,arguments)}function f_(){return(f_=We(je().mark((function e(t){var n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r_(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Tx.bind(null,n.syncEngine),r.onUnlisten=Nx.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Pp;return e.asyncQueue.enqueueAndForget(We(je().mark((function i(){return je().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new GA({next:function(a){t.enqueueAndForget((function(){return fx(e,u)}));var o=a.docs.has(n);!o&&a.fromCache?i.reject(new Rp(Op.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&a.fromCache&&r&&"server"===r.source?i.reject(new Rp(Op.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),u=new mx(tg(n.path),a,{includeMetadataChanges:!0,Nu:!0});return cx(e,u)},i.next=3,l_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function d_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Pp;return e.asyncQueue.enqueueAndForget(We(je().mark((function i(){return je().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new GA({next:function(n){t.enqueueAndForget((function(){return fx(e,u)})),n.fromCache&&"server"===r.source?i.reject(new Rp(Op.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),u=new mx(n,a,{includeMetadataChanges:!0,Nu:!0});return cx(e,u)},i.next=3,l_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var p_=function(){function e(){var t=this;l(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new sE(this,"async_queue_retry"),this.Wc=function(){var e=uE();e&&Cp("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=uE();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return h(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=uE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new Pp;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=We(je().mark((function e(){var t=this;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),wv(e.t0)){e.next=12;break}throw e.t0;case 12:Cp("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Tp("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=nx.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&Dp()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=We(je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=T(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=T(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function v_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=T(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(u){i.e(u)}finally{i.f()}return!1}(e)}var m_=function(){function e(){l(this,e),this._progressObserver={},this._taskCompletionResolver=new Pp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return h(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),g_=function(e){p(n,e);var t=w(n);function n(e,r,i,a){var u;return l(this,n),(u=t.call(this,e,r,i,a)).type="firestore",u._queue=new p_,u._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",u}return h(n,[{key:"_terminate",value:function(){return this._firestoreClient||b_(this),this._firestoreClient.terminate()}}]),n}(LA);function y_(e){return e._firestoreClient||b_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function b_(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Sv(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new $A(e._authCredentials,e._appCheckCredentials,e._queue,r)}function w_(e,t,n){var r=new Pp;return e.asyncQueue.enqueue(We(je().mark((function i(){var a;return je().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,XA(e,n);case 3:return i.next=5,ZA(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Op.FAILED_PRECONDITION||e.code===Op.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:Sp("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function k_(e){return function(e){return e.asyncQueue.enqueue(We(je().mark((function t(){var n,r;return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a_(e);case 2:return n=t.sent,t.next=5,o_(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Fp(e);return t._u.delete(0),vE(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(y_(e=FA(e,g_)))}function E_(e){return function(e){return e.asyncQueue.enqueue(We(je().mark((function t(){var n,r;return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a_(e);case 2:return n=t.sent,t.next=5,o_(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=We(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Fp(t))._u.add(0),e.next=4,gE(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(y_(e=FA(e,g_)))}function x_(e,t){var n=y_(e=FA(e,g_)),r=new m_;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new KA(e,t)}(function(e,t){if(e instanceof Uint8Array)return HA(e,t);if(e instanceof ArrayBuffer)return HA(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,oE(t));e.asyncQueue.enqueueAndForget(We(je().mark((function t(){return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=EA,t.next=3,s_(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function A_(e,t){return function(e,t){return e.asyncQueue.enqueue(We(je().mark((function n(){return je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Fp(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,u_(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(y_(e=FA(e,g_)),t).then((function(t){return t?new jA(e,null,t.query):null}))}function __(e){if(e._initialized||e._terminated)throw new Rp(Op.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var C_=function(){function e(t){l(this,e),this._byteString=t}return h(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Lv.fromBase64String(t))}catch(t){throw new Rp(Op.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Lv.fromUint8Array(t))}}]),e}(),T_=function(){function e(){l(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Rp(Op.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ev(n)}return h(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var S_=h((function e(t){l(this,e),this._methodName=t})),I_=function(){function e(t,n){if(l(this,e),!isFinite(t)||t<-90||t>90)throw new Rp(Op.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Rp(Op.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return h(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Gp(this._lat,e._lat)||Gp(this._long,e._long)}}]),e}(),D_=/^__.*__$/,N_=function(){function e(t,n,r){l(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return h(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new qg(e,this.data,this.fieldMask,t,this.fieldTransforms):new zg(e,this.data,t,this.fieldTransforms)}}]),e}(),F_=function(){function e(t,n,r){l(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return h(e,[{key:"toMutation",value:function(e,t){return new qg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function O_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dp()}}var R_=function(){function e(t,n,r,i,a,u){l(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=u||[]}return h(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return eC(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(O_(this.sa)&&D_.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),P_=function(){function e(t,n,r){l(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||oE(t)}return h(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new R_({sa:e,methodName:t,fa:n,path:ev.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function L_(e){var t=e._freezeSettings(),n=oE(e._databaseId);return new P_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function B_(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},u=e.da(a.merge||a.mergeFields?2:0,t,n,i);$_("Data must be an object, but it was:",u,r);var o,s,c=Q_(r,u);if(a.merge)o=new Vm(u.fieldMask),s=u.fieldTransforms;else if(a.mergeFields){var l,f=[],h=T(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=X_(t,d,n);if(!u.contains(p))throw new Rp(Op.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));tC(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}o=new Vm(f),s=u.fieldTransforms.filter((function(e){return o.covers(e.field)}))}else o=null,s=u.fieldTransforms;return new N_(new zm(c),o,s)}var M_=function(e){p(n,e);var t=w(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(S_);function j_(e,t,n){return new R_({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}var U_=function(e){p(n,e);var t=w(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"_toFieldTransform",value:function(e){return new Fg(e.path,new Ag)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(S_),V_=function(e){p(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e))._a=r,i}return h(n,[{key:"_toFieldTransform",value:function(e){var t=j_(this,e,!0),n=this._a.map((function(e){return K_(e,t)})),r=new _g(n);return new Fg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(S_),z_=function(e){p(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e))._a=r,i}return h(n,[{key:"_toFieldTransform",value:function(e){var t=j_(this,e,!0),n=this._a.map((function(e){return K_(e,t)})),r=new Tg(n);return new Fg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(S_),q_=function(e){p(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e)).wa=r,i}return h(n,[{key:"_toFieldTransform",value:function(e){var t=new Ig(e.yt,bg(e.yt,this.wa));return new Fg(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(S_);function W_(e,t,n,r){var i=e.da(1,t,n);$_("Data must be an object, but it was:",i,r);var a=[],u=zm.empty();Nv(r,(function(e,r){var o=Z_(t,e,n);r=St(r);var s=i.ca(o);if(r instanceof M_)a.push(o);else{var c=K_(r,s);null!=c&&(a.push(o),u.set(o,c))}}));var o=new Vm(a);return new F_(u,o,i.fieldTransforms)}function H_(e,t,n,r,i,a){var u=e.da(1,t,n),o=[X_(t,r,n)],s=[i];if(a.length%2!=0)throw new Rp(Op.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)o.push(X_(t,a[c])),s.push(a[c+1]);for(var l=[],f=zm.empty(),h=o.length-1;h>=0;--h)if(!tC(l,o[h])){var d=o[h],p=s[h];p=St(p);var v=u.ca(d);if(p instanceof M_)l.push(d);else{var m=K_(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new Vm(l);return new F_(f,g,u.fieldTransforms)}function G_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return K_(n,e.da(r?4:3,t))}function K_(e,t){if(Y_(e=St(e)))return $_("Unsupported field value:",t,e),Q_(e,t);if(e instanceof S_)return function(e,t){if(!O_(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=T(e);try{for(a.s();!(n=a.n()).done;){var u=K_(n.value,t.aa(i));null==u&&(u={nullValue:"NULL_VALUE"}),r.push(u),i++}}catch(o){a.e(o)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=St(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return bg(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Yp.fromDate(e);return{timestampValue:Ty(t.yt,n)}}if(e instanceof Yp){var r=new Yp(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ty(t.yt,r)}}if(e instanceof I_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof C_)return{bytesValue:Sy(t.yt,e._byteString)};if(e instanceof MA){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Ny(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(NA(e)))}(e,t)}function Q_(e,t){var n={};return Fv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Nv(e,(function(e,r){var i=K_(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Y_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Yp||e instanceof I_||e instanceof C_||e instanceof MA||e instanceof S_)}function $_(e,t,n){if(!Y_(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=NA(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function X_(e,t,n){if((t=St(t))instanceof T_)return t._internalPath;if("string"==typeof t)return Z_(e,t);throw eC("Field path arguments must be of type string or ",e,!1,void 0,n)}var J_=new RegExp("[~\\*/\\[\\]]");function Z_(e,t,n){if(t.search(J_)>=0)throw eC("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return A(T_,c(t.split(".")))._internalPath}catch(r){throw eC("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function eC(e,t,n,r,i){var a=r&&!r.isEmpty(),u=void 0!==i,o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";var s="";return(a||u)&&(s+=" (found",a&&(s+=" in field ".concat(r)),u&&(s+=" in document ".concat(i)),s+=")"),new Rp(Op.INVALID_ARGUMENT,o+e+s)}function tC(e,t){return e.some((function(e){return e.isEqual(t)}))}var nC=function(){function e(t,n,r,i,a){l(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return h(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new MA(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new rC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(iC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),rC=function(e){p(n,e);var t=w(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"data",value:function(){return tr(v(n.prototype),"data",this).call(this)}}]),n}(nC);function iC(e,t){return"string"==typeof t?Z_(e,t):t instanceof T_?t._internalPath:t._delegate._internalPath}function aC(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Rp(Op.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var uC=h((function e(){l(this,e)})),oC=function(e){p(n,e);var t=w(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n)}(uC);function sC(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof uC&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof lC})).length,n=e.filter((function(e){return e instanceof cC})).length;if(t>1||t>0&&n>0)throw new Rp(Op.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var u,o=T(n);try{for(o.s();!(u=o.n()).done;){var s=u.value;e=s._apply(e)}}catch(c){o.e(c)}finally{o.f()}return e}var cC=function(e){p(n,e);var t=w(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return h(n,[{key:"_apply",value:function(e){var t=this._parse(e);return EC(e._query,t),new jA(e.firestore,e.converter,sg(e._query,t))}},{key:"_parse",value:function(e){var t=L_(e.firestore),n=function(e,t,n,r,i,a,u){var o;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Rp(Op.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){kC(u,a);var s,c=[],l=T(u);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(wC(r,e,f))}}catch(h){l.e(h)}finally{l.f()}o={arrayValue:{values:c}}}else o=wC(r,e,u)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||kC(u,a),o=G_(n,"where",u,"in"===a||"not-in"===a);return vm.create(i,a,o)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(oC);var lC=function(e){p(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return h(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:mm.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=T(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;EC(r,a),r=sg(r,a)}}catch(u){i.e(u)}finally{i.f()}}(e._query,t),new jA(e.firestore,e.converter,sg(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(uC);var fC=function(e){p(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return h(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Rp(Op.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Rp(Op.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Om(t,n);return function(e,t){if(null===rg(e)){var n=ig(e);null!==n&&xC(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new jA(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Zm(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(oC);var hC=function(e){p(n,e);var t=w(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return h(n,[{key:"_apply",value:function(e){return new jA(e.firestore,e.converter,cg(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(oC);var dC=function(e){p(n,e);var t=w(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return h(n,[{key:"_apply",value:function(e){var t=bC(e,this.type,this._docOrFields,this._inclusive);return new jA(e.firestore,e.converter,function(e,t){return new Zm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(oC);function pC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return dC._create("startAt",t,!0)}function vC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return dC._create("startAfter",t,!1)}var mC=function(e){p(n,e);var t=w(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return h(n,[{key:"_apply",value:function(e){var t=bC(e,this.type,this._docOrFields,this._inclusive);return new jA(e.firestore,e.converter,function(e,t){return new Zm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(oC);function gC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return mC._create("endBefore",t,!1)}function yC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return mC._create("endAt",t,!0)}function bC(e,t,n,r){if(n[0]=St(n[0]),n[0]instanceof nC)return function(e,t,n,r,i){if(!r)throw new Rp(Op.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,u=[],o=T(ug(e));try{for(o.s();!(a=o.n()).done;){var s=a.value;if(s.field.isKeyField())u.push(Zv(t,r.key));else{var c=r.data.field(s.field);if(Vv(c))throw new Rp(Op.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Rp(Op.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}u.push(c)}}}catch(f){o.e(f)}finally{o.f()}return new fm(u,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=L_(e.firestore);return function(e,t,n,r,i,a){var u=e.explicitOrderBy;if(i.length>u.length)throw new Rp(Op.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var o=[],s=0;s<i.length;s++){var c=i[s];if(u[s].field.isKeyField()){if("string"!=typeof c)throw new Rp(Op.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!ag(e)&&-1!==c.indexOf("/"))throw new Rp(Op.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Jp.fromString(c));if(!tv.isDocumentKey(l))throw new Rp(Op.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new tv(l);o.push(Zv(t,f))}else{var h=G_(n,r,c);o.push(h)}}return new fm(o,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function wC(e,t,n){if("string"==typeof(n=St(n))){if(""===n)throw new Rp(Op.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ag(t)&&-1!==n.indexOf("/"))throw new Rp(Op.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Jp.fromString(n));if(!tv.isDocumentKey(r))throw new Rp(Op.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Zv(e,new tv(r))}if(n instanceof MA)return Zv(e,n._key);throw new Rp(Op.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(NA(n),"."))}function kC(e,t){if(!Array.isArray(e)||0===e.length)throw new Rp(Op.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Rp(Op.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function EC(e,t){if(t.isInequality()){var n=ig(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Rp(Op.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=rg(e);null!==i&&xC(e,r,i)}var a=function(e,t){var n,r=T(e);try{for(r.s();!(n=r.n()).done;){var i,a=T(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var u=i.value;if(t.indexOf(u.op)>=0)return u.op}}catch(o){a.e(o)}finally{a.f()}}}catch(o){r.e(o)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Rp(Op.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Rp(Op.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function xC(e,t,n){if(!n.isEqual(t))throw new Rp(Op.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var AC=function(){function e(){l(this,e)}return h(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Gv(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jv(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Uv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Dp()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Nv(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new I_(jv(e.latitude),jv(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=zv(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(qv(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Mv(e);return new Yp(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Jp.fromString(e);Np(tb(n));var r=new Iv(n.get(1),n.get(3)),i=new tv(n.popFirst(5));return r.isEqual(t)||Tp("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function _C(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var CC=function(e){p(n,e);var t=w(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return h(n,[{key:"convertBytes",value:function(e){return new C_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new MA(this.firestore,null,t)}}]),n}(AC),TC=function(){function e(t,n){l(this,e),this.hasPendingWrites=t,this.fromCache=n}return h(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),SC=function(e){p(n,e);var t=w(n);function n(e,r,i,a,u,o){var s;return l(this,n),(s=t.call(this,e,r,i,a,o))._firestore=e,s._firestoreImpl=e,s.metadata=u,s}return h(n,[{key:"exists",value:function(){return tr(v(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new IC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(iC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(nC),IC=function(e){p(n,e);var t=w(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return tr(v(n.prototype),"data",this).call(this,e)}}]),n}(SC),DC=function(){function e(t,n,r,i){l(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new TC(i.hasPendingWrites,i.fromCache),this.query=r}return h(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new IC(n._firestore,n._userDataWriter,r.key,r,new TC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Rp(Op.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new IC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new TC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new IC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new TC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:NC(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function NC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dp()}}function FC(e,t){return e instanceof SC&&t instanceof SC?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof DC&&t instanceof DC&&e._firestore===t._firestore&&WA(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var OC=function(e){p(n,e);var t=w(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return h(n,[{key:"convertBytes",value:function(e){return new C_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new MA(this.firestore,null,t)}}]),n}(AC);function RC(e){e=FA(e,MA);var t=FA(e.firestore,g_),n=y_(t),r=new OC(t);return function(e,t){var n=new Pp;return e.asyncQueue.enqueueAndForget(We(je().mark((function r(){return je().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=We(je().mark((function e(t,n,r){var i,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Fp(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Rp(Op.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=rx(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,u_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new SC(t,r,e._key,n,new TC(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function PC(e){e=FA(e,jA);var t=FA(e.firestore,g_),n=y_(t),r=new OC(t);return function(e,t){var n=new Pp;return e.asyncQueue.enqueueAndForget(We(je().mark((function r(){return je().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=We(je().mark((function e(t,n,r){var i,a,u,o,s;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Lk(t,n,!0);case 3:i=e.sent,a=new xx(n,i.Hi),u=a.Wu(i.documents),o=a.applyChanges(u,!1),r.resolve(o.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=rx(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,u_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new DC(t,r,e,n)}))}function LC(e,t,n){e=FA(e,MA);var r=FA(e.firestore,g_),i=_C(e.converter,t,n);return UC(r,[B_(L_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Rg.none())])}function BC(e,t,n){e=FA(e,MA);for(var r=FA(e.firestore,g_),i=L_(r),a=arguments.length,u=new Array(a>3?a-3:0),o=3;o<a;o++)u[o-3]=arguments[o];return UC(r,[("string"==typeof(t=St(t))||t instanceof T_?H_(i,"updateDoc",e._key,t,n,u):W_(i,"updateDoc",e._key,t)).toMutation(e._key,Rg.exists(!0))])}function MC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,u;e=St(e);var o={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||v_(n[s])||(o=n[s],s++);var c,l,f,h={includeMetadataChanges:o.includeMetadataChanges};if(v_(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(u=d.complete)||void 0===u?void 0:u.bind(d)}if(e instanceof MA)l=FA(e.firestore,g_),f=tg(e._key.path),c={next:function(t){n[s]&&n[s](VC(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=FA(e,jA);l=FA(p.firestore,g_),f=p._query;var v=new OC(l);c={next:function(e){n[s]&&n[s](new DC(l,v,p,e))},error:n[s+1],complete:n[s+2]},aC(e._query)}return function(e,t,n,r){var i=new GA(r),a=new mx(t,i,n);return e.asyncQueue.enqueueAndForget(We(je().mark((function t(){return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=cx,t.next=3,l_(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(We(je().mark((function t(){return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=fx,t.next=3,l_(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(y_(l),f,h,c)}function jC(e,t){return function(e,t){var n=new GA(t);return e.asyncQueue.enqueueAndForget(We(je().mark((function t(){return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Fp(e).Ru.add(t),t.next()},t.next=3,l_(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(We(je().mark((function t(){return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Fp(e).Ru.delete(t)},t.next=3,l_(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(y_(e=FA(e,g_)),v_(t)?t:{next:t})}function UC(e,t){return function(e,t){var n=new Pp;return e.asyncQueue.enqueueAndForget(We(je().mark((function r(){return je().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Ox,r.next=3,s_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(y_(e),t)}function VC(e,t,n){var r=n.docs.get(t._key),i=new OC(e);return new SC(e,i,t._key,r,new TC(n.hasPendingWrites,n.fromCache),t.converter)}var zC={maxAttempts:5},qC=function(){function e(t,n){l(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=L_(t)}return h(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=WC(e,this._firestore),i=_C(r.converter,t,n),a=B_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Rg.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=WC(e,this._firestore),a=arguments.length,u=new Array(a>3?a-3:0),o=3;o<a;o++)u[o-3]=arguments[o];return r="string"==typeof(t=St(t))||t instanceof T_?H_(this._dataReader,"WriteBatch.update",i._key,t,n,u):W_(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Rg.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=WC(e,this._firestore);return this._mutations=this._mutations.concat(new Yg(t._key,Rg.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Rp(Op.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function WC(e,t){if((e=St(e)).firestore!==t)throw new Rp(Op.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var HC=function(e){p(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r))._firestore=e,i}return h(n,[{key:"get",value:function(e){var t=this,r=WC(e,this._firestore),i=new OC(this._firestore);return tr(v(n.prototype),"get",this).call(this,e).then((function(e){return new SC(t._firestore,i,r._key,e._document,new TC(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){l(this,e),this._firestore=t,this._transaction=n,this._dataReader=L_(t)}return h(e,[{key:"get",value:function(e){var t=this,n=WC(e,this._firestore),r=new CC(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Dp();var i=e[0];if(i.isFoundDocument())return new nC(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new nC(t._firestore,r,n._key,null,n.converter);throw Dp()}))}},{key:"set",value:function(e,t,n){var r=WC(e,this._firestore),i=_C(r.converter,t,n),a=B_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=WC(e,this._firestore),a=arguments.length,u=new Array(a>3?a-3:0),o=3;o<a;o++)u[o-3]=arguments[o];return r="string"==typeof(t=St(t))||t instanceof T_?H_(this._dataReader,"Transaction.update",i._key,t,n,u):W_(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=WC(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function GC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new V_("arrayUnion",t)}function KC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new z_("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){xp=e}(xn),mn(new It("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),u=new g_(new jp(e.getProvider("auth-internal")),new qp(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Rp(Op.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Iv(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),u._setSettings(i),u}),"PUBLIC").setMultipleInstances(!0)),In(kp,"3.8.1",e),In(kp,"3.8.1","esm2017")}();function QC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Rp("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function YC(){if("undefined"===typeof Uint8Array)throw new Rp("unimplemented","Uint8Arrays are not available in this environment.")}function $C(){if("undefined"==typeof atob)throw new Rp("unimplemented","Blobs are unavailable in Firestore in this environment.")}var XC=function(){function e(t){l(this,e),this._delegate=t}return h(e,[{key:"toBase64",value:function(){return $C(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return YC(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return $C(),new e(C_.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return YC(),new e(C_.fromUint8Array(t))}}]),e}();function JC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=T(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(u){i.e(u)}finally{i.f()}return!1}(e,["next","error","complete"])}var ZC=function(){function e(){l(this,e)}return h(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){__(e=FA(e,g_));var n=y_(e),r=e._freezeSettings(),i=new CA;return w_(n,i,new AA(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){__(e=FA(e,g_));var t=y_(e),n=e._freezeSettings(),r=new CA;return w_(t,r,new _A(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Rp(Op.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Pp;return e._queue.enqueueAndForgetEvenWhileRestricted(We(je().mark((function n(){return je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=We(je().mark((function e(t){var n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gv.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,gv.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(kk(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),eT=function(){function e(t,n,r){var i=this;l(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Iv||(this._appCompat=t)}return h(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Sp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};BA(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return k_(this._delegate)}},{key:"disableNetwork",value:function(){return E_(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&SA("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Pp;return e.asyncQueue.enqueueAndForget(We(je().mark((function n(){return je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Wx,n.next=3,s_(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(y_(e=FA(e,g_)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return jC(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Rp("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new pT(this,VA(this._delegate,e))}catch(t){throw uT(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new aT(this,zA(this._delegate,e))}catch(t){throw uT(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new fT(this,function(e,t){if(e=FA(e,LA),TA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Rp(Op.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new jA(e,null,function(e){return new Zm(Jp.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw uT(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=FA(e,g_);var r=Object.assign(Object.assign({},zC),n);return function(e){if(e.maxAttempts<1)throw new Rp(Op.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Pp;return e.asyncQueue.enqueueAndForget(We(je().mark((function i(){var a;return je().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,c_(e);case 2:a=i.sent,new YA(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(y_(e),(function(n){return t(new HC(e,n))}),r)}(this._delegate,(function(n){return e(new nT(t,n))}))}},{key:"batch",value:function(){var e=this;return y_(this._delegate),new rT(new qC(this._delegate,(function(t){return UC(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return x_(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return A_(this._delegate,e).then((function(e){return e?new fT(t,e):null}))}}]),e}(),tT=function(e){p(n,e);var t=w(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return h(n,[{key:"convertBytes",value:function(e){return new XC(new C_(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return aT.forKey(t,this.firestore,null)}}]),n}(AC);var nT=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new tT(t)}return h(e,[{key:"get",value:function(e){var t=this,n=vT(e);return this._delegate.get(n).then((function(e){return new cT(t._firestore,new SC(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=vT(e);return n?(QC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var u,o=vT(e);2===arguments.length?this._delegate.update(o,t):(u=this._delegate).update.apply(u,[o,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=vT(e);return this._delegate.delete(t),this}}]),e}(),rT=function(){function e(t){l(this,e),this._delegate=t}return h(e,[{key:"set",value:function(e,t,n){var r=vT(e);return n?(QC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var u,o=vT(e);2===arguments.length?this._delegate.update(o,t):(u=this._delegate).update.apply(u,[o,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=vT(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),iT=function(){function e(t,n,r){l(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return h(e,[{key:"fromFirestore",value:function(e,t){var n=new IC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lT(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new tT(t),n),i.set(n,a)),a}}]),e}();iT.INSTANCES=new WeakMap;var aT=function(){function e(t,n){l(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new tT(t)}return h(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new pT(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new pT(this.firestore,VA(this._delegate,e))}catch(t){throw uT(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=St(e))instanceof MA&&qA(this._delegate,e)}},{key:"set",value:function(e,t){t=QC("DocumentReference.set",t);try{return t?LC(this._delegate,e,t):LC(this._delegate,e)}catch(n){throw uT(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?BC(this._delegate,e):BC.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw uT(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return UC(FA(e.firestore,g_),[new Yg(e._key,Rg.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=oT(n),a=sT(n,(function(t){return new cT(e.firestore,new SC(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return MC(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?RC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=FA(e,MA);var t=FA(e.firestore,g_);return h_(y_(t),e._key,{source:"server"}).then((function(n){return VC(t,e,n)}))}(this._delegate):function(e){e=FA(e,MA);var t=FA(e.firestore,g_);return h_(y_(t),e._key).then((function(n){return VC(t,e,n)}))}(this._delegate)).then((function(e){return new cT(t.firestore,new SC(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(iT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Rp("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new MA(n._delegate,r,new tv(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new MA(n._delegate,r,t))}}]),e}();function uT(e,t,n){return e.message=e.message.replace(t,n),e}function oT(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!JC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function sT(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=JC(e[0])?e[0]:JC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var cT=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n}return h(e,[{key:"ref",get:function(){return new aT(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return FC(this._delegate,e._delegate)}}]),e}(),lT=function(e){p(n,e);var t=w(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Dp()}(void 0!==t),t}}]),n}(cT),fT=function(){function e(t,n){l(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new tT(t)}return h(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,sC(this._delegate,function(e,t,n){var r=t,i=iC("where",e);return cC._create(i,r,n)}(t,n,r)))}catch(i){throw uT(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,sC(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=iC("orderBy",e);return fC._create(n,t)}(t,n)))}catch(r){throw uT(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,sC(this._delegate,function(e){return OA("limit",e),hC._create("limit",e,"F")}(t)))}catch(n){throw uT(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,sC(this._delegate,function(e){return OA("limitToLast",e),hC._create("limitToLast",e,"L")}(t)))}catch(n){throw uT(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,sC(this._delegate,pC.apply(void 0,arguments)))}catch(t){throw uT(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,sC(this._delegate,vC.apply(void 0,arguments)))}catch(t){throw uT(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,sC(this._delegate,gC.apply(void 0,arguments)))}catch(t){throw uT(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,sC(this._delegate,yC.apply(void 0,arguments)))}catch(t){throw uT(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return WA(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?PC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=FA(e,jA);var t=FA(e.firestore,g_),n=y_(t),r=new OC(t);return d_(n,e._query,{source:"server"}).then((function(n){return new DC(t,r,e,n)}))}(this._delegate):function(e){e=FA(e,jA);var t=FA(e.firestore,g_),n=y_(t),r=new OC(t);return aC(e._query),d_(n,e._query).then((function(n){return new DC(t,r,e,n)}))}(this._delegate)).then((function(e){return new dT(t.firestore,new DC(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=oT(n),a=sT(n,(function(t){return new dT(e.firestore,new DC(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return MC(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(iT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),hT=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n}return h(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new lT(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),dT=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n}return h(e,[{key:"query",get:function(){return new fT(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new lT(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new hT(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new lT(n._firestore,r))}))}},{key:"isEqual",value:function(e){return FC(this._delegate,e._delegate)}}]),e}(),pT=function(e){p(n,e);var t=w(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return h(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new aT(this.firestore,e):null}},{key:"doc",value:function(e){try{return new aT(this.firestore,void 0===e?zA(this._delegate):zA(this._delegate,e))}catch(t){throw uT(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=FA(e.firestore,g_),r=zA(e),i=_C(e.converter,t);return UC(n,[B_(L_(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Rg.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new aT(t.firestore,e)}))}},{key:"isEqual",value:function(e){return qA(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(iT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(fT);function vT(e){return FA(e,MA)}var mT=function(){function e(){l(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=A(T_,n)}return h(e,[{key:"isEqual",value:function(e){return(e=St(e))instanceof T_&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(ev.keyField().canonicalString())}}]),e}(),gT=function(){function e(t){l(this,e),this._delegate=t}return h(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new U_("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new M_("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=GC.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=KC.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new q_("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),yT={Firestore:eT,GeoPoint:I_,Timestamp:Yp,Blob:XC,Transaction:nT,WriteBatch:rT,DocumentReference:aT,DocumentSnapshot:cT,Query:fT,QueryDocumentSnapshot:lT,QuerySnapshot:dT,CollectionReference:pT,FieldPath:mT,FieldValue:gT,setLogLevel:function(e){!function(e){Ap.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new It("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},yT)))}(e,(function(e,t){return new eT(e,t,new ZC)})),e.registerVersion("@firebase/firestore-compat","0.3.1")}(Zn);var bT="firebasestorage.googleapis.com",wT=function(e){p(n,e);var t=w(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return l(this,n),(i=t.call(this,kT(e),"Firebase Storage: ".concat(r," (").concat(kT(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(y(i),n.prototype),i}return h(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return kT(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(vt);function kT(e){return"storage/"+e}function ET(){return new wT("unknown","An unknown error occurred, please check the error payload for server response.")}function xT(){return new wT("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function AT(){return new wT("canceled","User canceled the upload/download.")}function _T(){return new wT("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function CT(e){return new wT("invalid-argument",e)}function TT(){return new wT("app-deleted","The Firebase app was deleted.")}function ST(e){return new wT("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function IT(e,t){return new wT("invalid-format","String does not match format '"+e+"': "+t)}function DT(e){throw new wT("internal-error","Internal error: "+e)}var NT,FT=function(){function e(t,n){l(this,e),this.bucket=t,this.path_=n}return h(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new wT("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function u(e){e.path_=decodeURIComponent(e.path)}for(var o=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:u},{regex:new RegExp("^https?://".concat(n===bT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:u}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new wT("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),OT=function(){function e(t){l(this,e),this.promise_=Promise.reject(t)}return h(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function RT(e){return"string"===typeof e||e instanceof String}function PT(e){return LT()&&e instanceof Blob}function LT(){return"undefined"!==typeof Blob&&!lt()}function BT(e,t,n,r){if(r<t)throw CT("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw CT("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function MT(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function jT(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function UT(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(NT||(NT={}));var VT=function(){function e(t,n,r,i,a,u,o,s,c,f,h){var d=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];l(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=o,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return h(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var u=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(u)?r():r(u)}catch(s){i(s)}else if(null!==a){var o=ET();o.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,o)):i(o)}else{if(n.canceled)i(e.appDelete_?TT():AT());else i(xT())}};this.canceled_?t(0,new zT(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,u=!1,o=0;function s(){return 2===o}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||u)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===o?(o=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),f(0)):e||(o=1)))}return f(0),a=setTimeout((function(){u=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new zT(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===NT.NO_ERROR,a=r.getStatus();if(!n||UT(a,e.additionalRetryCodes_)&&e.retry){var u=r.getErrorCode()===NT.ABORT;t(!1,new zT(!1,null,u))}else{var o=-1!==e.successCodes_.indexOf(a);t(!0,new zT(o,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),zT=h((function e(t,n,r){l(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function qT(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function WT(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function HT(e,t){t&&(e["X-Firebase-GMPID"]=t)}function GT(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function KT(e,t,n,r,i,a){var u=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],o=jT(e.urlParams),s=e.url+o,c=Object.assign({},e.headers);return HT(c,t),qT(c,n),WT(c,a),GT(c,r),new VT(s,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,u)}function QT(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function YT(){for(var e=QT(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(LT())return new Blob(n);throw new wT("unsupported-environment","This browser doesn't seem to support creating Blobs")}function $T(e){if("undefined"===typeof atob)throw new wT("unsupported-environment","".concat("base-64"," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));return atob(e)}var XT={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},JT=h((function e(t,n){l(this,e),this.data=t,this.contentType=n||null}));function ZT(e,t){switch(e){case XT.RAW:return new JT(eS(t));case XT.BASE64:case XT.BASE64URL:return new JT(tS(e,t));case XT.DATA_URL:return new JT(function(e){var t=new nS(e);return t.base64?tS(XT.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw IT(XT.DATA_URL,"Malformed data URL.")}return eS(t)}(t.rest)}(t),new nS(t).contentType)}throw ET()}function eS(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function tS(e,t){switch(e){case XT.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw IT(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case XT.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw IT(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var u;try{u=$T(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw IT(e,"Invalid character found")}for(var o=new Uint8Array(u.length),s=0;s<u.length;s++)o[s]=u.charCodeAt(s);return o}var nS=h((function e(t){l(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw IT(XT.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var rS=function(){function e(t,n){l(this,e);var r=0,i="";PT(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return h(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(PT(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(LT()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(YT.apply(null,i))}var a=n.map((function(e){return RT(e)?ZT(XT.RAW,e).data:e.data_})),u=0;a.forEach((function(e){u+=e.byteLength}));var o=new Uint8Array(u),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)o[s++]=e[t]})),new e(o,!0)}}]),e}();function iS(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function aS(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function uS(e,t){return t}var oS=h((function e(t,n,r,i){l(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||uS})),sS=null;function cS(){if(sS)return sS;var e=[];e.push(new oS("bucket")),e.push(new oS("generation")),e.push(new oS("metageneration")),e.push(new oS("name","fullPath",!0));var t=new oS("name");t.xform=function(e,t){return function(e){return!RT(e)||e.length<2?e:aS(e)}(t)},e.push(t);var n=new oS("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new oS("timeCreated")),e.push(new oS("updated")),e.push(new oS("md5Hash",null,!0)),e.push(new oS("cacheControl",null,!0)),e.push(new oS("contentDisposition",null,!0)),e.push(new oS("contentEncoding",null,!0)),e.push(new oS("contentLanguage",null,!0)),e.push(new oS("contentType",null,!0)),e.push(new oS("metadata","customMetadata",!0)),sS=e}function lS(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var u=n[a];r[u.local]=u.xform(r,t[u.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new FT(n,r);return t._makeStorageReference(i)}})}(r,e),r}function fS(e,t,n){var r=iS(t);return null===r?null:lS(e,r,n)}function hS(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function dS(e,t,n){var r=iS(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=T(n.prefixes);try{for(a.s();!(i=a.n()).done;){var u=i.value.replace(/\/$/,""),o=e._makeStorageReference(new FT(t,u));r.prefixes.push(o)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var s,c=T(n.items);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new FT(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var pS=h((function e(t,n,r,i){l(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function vS(e){if(!e)throw ET()}function mS(e,t){return function(n,r){var i=fS(e,r,t);return vS(null!==i),i}}function gS(e,t){return function(n,r){var i=fS(e,r,t);return vS(null!==i),function(e,t,n,r){var i=iS(t);if(null===i)return null;if(!RT(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var u=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return MT("/b/"+u(i)+"/o/"+u(a),n,r)+jT({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function yS(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new wT("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new wT("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new wT("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new wT("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function bS(e){var t=yS(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new wT("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function wS(e,t,n){var r=MT(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new pS(r,"GET",mS(e,n),i);return a.errorHandler=bS(t),a}function kS(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var u=MT(t.bucketOnlyServerUrl(),e.host,e._protocol),o=e.maxOperationRetryTime,s=new pS(u,"GET",function(e,t){return function(n,r){var i=dS(e,t,r);return vS(null!==i),i}}(e,t.bucket),o);return s.urlParams=a,s.errorHandler=yS(t),s}function ES(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function xS(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};var o=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();u["Content-Type"]="multipart/related; boundary="+o;var s=ES(t,r,i),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+hS(s,n)+"\r\n--"+o+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+o+"--",f=rS.getBlob(c,r,l);if(null===f)throw _T();var h={name:s.fullPath},d=MT(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new pS(d,"POST",mS(e,n),p);return v.urlParams=h,v.headers=u,v.body=f.uploadData(),v.errorHandler=yS(t),v}var AS=h((function e(t,n,r,i){l(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function _S(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){vS(!1)}return vS(!!n&&-1!==(t||["active"]).indexOf(n)),n}var CS=262144;function TS(e,t,n,r,i,a,u,o){var s=new AS(0,0);if(u?(s.current=u.current,s.total=u.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new wT("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw _T();var v=t.maxUploadRetryTime,m=new pS(n,"POST",(function(e,n){var i,u=_S(e,["active","final"]),o=s.current+l,c=r.size();return i="final"===u?mS(t,a)(e,n):null,new AS(o,c,"final"===u,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=o||null,m.errorHandler=yS(e),m}var SS={STATE_CHANGED:"state_changed"},IS={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function DS(e){switch(e){case"running":case"pausing":case"canceling":return IS.RUNNING;case"paused":return IS.PAUSED;case"success":return IS.SUCCESS;case"canceled":return IS.CANCELED;default:return IS.ERROR}}var NS=h((function e(t,n,r){if(l(this,e),function(e){return"function"===typeof e}(t)||null!=n||null!=r)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var i=t;this.next=i.next,this.error=i.error,this.complete=i.complete}}));function FS(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var OS=function(){function e(){var t=this;l(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=NT.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=NT.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=NT.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return h(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw DT("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw DT("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw DT("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw DT("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw DT("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),RS=function(e){p(n,e);var t=w(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(OS);function PS(){return new RS}var LS=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;l(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=cS(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled"))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(UT(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=xT()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return h(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=x(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),u=ES(t,r,i),o={name:u.fullPath},s=MT(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},l=hS(u,n),f=e.maxUploadRetryTime,h=new pS(s,"POST",(function(e){var t;_S(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){vS(!1)}return vS(RT(t)),t}),f);return h.urlParams=o,h.headers=c,h.body=l,h.errorHandler=yS(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,PS,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new pS(n,"POST",(function(e){var t=_S(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){vS(!1)}n||vS(!1);var i=Number(n);return vS(!isNaN(i)),new AS(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=yS(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,PS,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=CS*this._chunkMultiplier,n=new AS(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var u;try{u=TS(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var o=e._ref.storage._makeRequest(u,PS,i,a,!1);e._request=o,o.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(CS*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=wS(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,PS,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=xS(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,PS,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=AT(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=DS(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new NS(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(DS(this._state)){case IS.SUCCESS:FS(this._resolve.bind(null,this.snapshot))();break;case IS.CANCELED:case IS.ERROR:FS(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(DS(this._state)){case IS.RUNNING:case IS.PAUSED:e.next&&FS(e.next.bind(e,this.snapshot))();break;case IS.SUCCESS:e.complete&&FS(e.complete.bind(e))();break;default:e.error&&FS(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),BS=function(){function e(t,n){l(this,e),this._service=t,this._location=n instanceof FT?n:FT.makeFromUrl(n,t.host)}return h(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new FT(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return aS(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new FT(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw ST(e)}}]),e}();function MS(e,t,n){return jS.apply(this,arguments)}function jS(){return(jS=We(je().mark((function e(t,n,r){var i,a,u,o;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u={pageToken:r},e.next=3,US(t,u);case 3:if(o=e.sent,(i=n.prefixes).push.apply(i,c(o.prefixes)),(a=n.items).push.apply(a,c(o.items)),null==o.nextPageToken){e.next=9;break}return e.next=9,MS(t,n,o.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function US(e,t){null!=t&&"number"===typeof t.maxResults&&BT("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=kS(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,PS)}function VS(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=MT(t.fullServerUrl(),e.host,e._protocol),a=hS(n,r),u=e.maxOperationRetryTime,o=new pS(i,"PATCH",mS(e,r),u);return o.headers={"Content-Type":"application/json; charset=utf-8"},o.body=a,o.errorHandler=bS(t),o}(e.storage,e._location,t,cS());return e.storage.makeRequestWithTokens(n,PS)}function zS(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=MT(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new pS(r,"GET",gS(e,n),i);return a.errorHandler=bS(t),a}(e.storage,e._location,cS());return e.storage.makeRequestWithTokens(t,PS).then((function(e){if(null===e)throw new wT("no-download-url","The given file does not have any download URLs.");return e}))}function qS(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=MT(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new pS(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=bS(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,PS)}function WS(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new FT(e._location.bucket,n);return new BS(e.storage,r)}function HS(e,t){if(e instanceof YS){var n=e;if(null==n._bucket)throw new wT("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new BS(n,n._bucket);return null!=t?HS(r,t):r}return void 0!==t?WS(e,t):e}function GS(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof YS)return new BS(e,t);throw CT("To use ref(service, url), the first argument must be a Storage instance.")}return HS(e,t)}function KS(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:FT.makeFromBucketSpec(n,e)}function QS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:st(i,e.app.options.projectId))}var YS=function(){function e(t,n,r,i,a){l(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=bT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?FT.makeFromBucketSpec(i,this._host):KS(this._host,this.app.options)}return h(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=FT.makeFromBucketSpec(this._url,e):this._bucket=KS(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){BT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){BT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=We(je().mark((function e(){var t,n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=We(je().mark((function e(){var t,n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new BS(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new OT(TT());var u=KT(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then((function(){return i._requests.delete(u)}),(function(){return i._requests.delete(u)})),u}},{key:"makeRequestWithTokens",value:function(){var e=We(je().mark((function e(t,n){var r,i,a,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=x(r,2),a=i[0],u=i[1],e.abrupt("return",this._makeRequest(t,n,a,u).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),$S="@firebase/storage",XS="0.10.1",JS="storage";function ZS(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new LS(e,new rS(t),n)}(e=St(e),t,n)}function eI(e){return function(e){e._throwIfRoot("getMetadata");var t=wS(e.storage,e._location,cS());return e.storage.makeRequestWithTokens(t,PS)}(e=St(e))}function tI(e){return function(e){var t={prefixes:[],items:[]};return MS(e,t).then((function(){return t}))}(e=St(e))}function nI(e,t){return GS(e=St(e),t)}function rI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};QS(e,t,n,r)}function iI(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new YS(r,i,a,n,xn)}mn(new It(JS,iI,"PUBLIC").setMultipleInstances(!0)),In($S,XS,""),In($S,XS,"esm2017");var aI=function(){function e(t,n,r){l(this,e),this._delegate=t,this.task=n,this.ref=r}return h(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),uI=function(){function e(t,n){l(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return h(e,[{key:"snapshot",get:function(){return new aI(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new aI(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new aI(e,i,i._ref))}:{next:t.next?function(e){return t.next(new aI(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),oI=function(){function e(t,n){l(this,e),this._delegate=t,this._service=n}return h(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new sI(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new sI(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),sI=function(){function e(t,n){l(this,e),this._delegate=t,this.storage=n}return h(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return WS(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new uI(ZS(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:XT.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=ZT(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new uI(new LS(this._delegate,new rS(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return tI(this._delegate).then((function(t){return new oI(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return US(e=St(e),t)}(this._delegate,e||void 0).then((function(e){return new oI(e,t.storage)}))}},{key:"getMetadata",value:function(){return eI(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return VS(e=St(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return zS(St(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),qS(St(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw ST(e)}}]),e}(),cI=function(){function e(t,n){l(this,e),this.app=t,this._delegate=n}return h(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(lI(e))throw CT("ref() expected a child path but got a URL, use refFromURL instead.");return new sI(nI(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!lI(e))throw CT("refFromURL() expected a full URL but got a child path, use ref() instead.");try{FT.makeFromUrl(e,this._delegate.host)}catch(t){throw CT("refFromUrl() expected a valid full URL but got an invalid one.")}return new sI(nI(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};rI(this._delegate,e,t,n)}}]),e}();function lI(e){return/^[A-Za-z]+:\/\//.test(e)}function fI(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new cI(r,i)}!function(e){var t={TaskState:IS,TaskEvent:SS,StringFormat:XT,Storage:cI,Reference:sI};e.INTERNAL.registerComponent(new It("storage-compat",fI,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.2.1")}(Zn);Zn.initializeApp({apiKey:"AIzaSyCCVeAq4bUtZveRy-ciyg4ij5OJ3u2dfsY",authDomain:"johnsfootballshirts.firebaseapp.com",projectId:"johnsfootballshirts",storageBucket:"johnsfootballshirts.appspot.com",messagingSenderId:"1036131164822",appId:"1:1036131164822:web:a89da054c03b8bd19118b7",measurementId:"G-H1P4VNFRLY"});var hI=Zn.firestore(),dI=Zn.auth(),pI=Zn.storage(),vI=n(184),mI=function(e){var t=e.user,n=(e.totalProducts,xe());console.log(t);return(0,vI.jsxs)("div",{className:"navbar",children:[(0,vI.jsx)("div",{className:"leftside",children:(0,vI.jsx)("div",{className:"logo",children:(0,vI.jsx)(Ye,{to:"/",children:(0,vI.jsx)("img",{src:Je,alt:"logo"})})})}),(0,vI.jsxs)("div",{className:"rightside",children:[!t&&(0,vI.jsxs)(vI.Fragment,{children:[(0,vI.jsx)("div",{children:(0,vI.jsx)(Ye,{className:"navlink",to:"signup",children:"Sign up"})}),(0,vI.jsx)("div",{children:(0,vI.jsx)(Ye,{className:"navlink",to:"login",children:"Login"})})]}),t&&(0,vI.jsxs)(vI.Fragment,{children:[(0,vI.jsxs)("h1",{id:"label2",children:[" Hi, ",t]}),(0,vI.jsx)("div",{className:"btn btn-danger btn-md",onClick:function(){dI.signOut().then((function(){n("/login")}))},children:"LOGOUT"})]}),(0,vI.jsx)("div",{children:(0,vI.jsx)(Ye,{className:"navlink",to:"FAQ",children:"FAQ's"})})]})]})},gI=function(e){var t=e.individualProduct,n=(e.addToCart,x((0,r.useState)("ADD TO CART"),2)),i=(n[0],n[1],xe()),a=t.ID;return(0,vI.jsxs)("div",{className:"product",children:[(0,vI.jsx)("div",{className:"product-img",children:(0,vI.jsx)("img",{src:t.url,alt:"product-img"})}),(0,vI.jsx)("div",{className:"product-text title",children:t.title}),(0,vI.jsxs)("div",{className:"product-text",children:["AED ",t.price]}),(0,vI.jsxs)("div",{className:"product-text size",children:["Size: ",t.size]}),(0,vI.jsx)("div",{className:"btn btn-danger btn-md cart-btn",onClick:function(){i("/product",{state:{product:a}})},children:"DETAILS "})]})};function yI(e){var t=e.products,n=e.addToCart;return console.log(t),t.map((function(e){return(0,vI.jsx)(gI,{individualProduct:e,addToCart:n},e.ID)}))}var bI=function(e){var t=e.individualFilteredProduct,n=(e.addToCart,x((0,r.useState)("ADD TO CART"),2)),i=(n[0],n[1],xe()),a=t.ID;return(0,vI.jsxs)("div",{className:"product",children:[(0,vI.jsx)("div",{className:"product-img",children:(0,vI.jsx)("img",{src:t.url,alt:"product-img"})}),(0,vI.jsx)("div",{className:"product-text title",children:t.title}),(0,vI.jsxs)("div",{className:"product-text ",children:["AED ",t.price]}),(0,vI.jsxs)("div",{className:"product-text ",children:["Size: ",t.size]}),(0,vI.jsx)("div",{className:"btn btn-danger btn-md cart-btn",onClick:function(){i("/product",{state:{product:a}})},children:"DETAILS "})]})},wI=function(e){var t=xe();var n=function(){var e=x((0,r.useState)(null),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){dI.onAuthStateChanged((function(e){e&&n(e.uid)}))}),[]),t}();var i=function(){var e=x((0,r.useState)(null),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){dI.onAuthStateChanged((function(e){e?hI.collection("users").doc(e.uid).get().then((function(e){n(e.data().Name)})):n(null)}))}),[]),t}();console.log(i);var a,u=x((0,r.useState)([]),2),o=u[0],s=u[1],c=function(){var e=We(je().mark((function e(){var t,n,r,i,a,u;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hI.collection("Products").get();case 2:t=e.sent,n=[],r=T(t.docs);try{for(r.s();!(i=r.n()).done;)a=i.value,(u=a.data()).ID=a.id,n.push(ze({},u)),n.length===t.docs.length&&s(n)}catch(o){r.e(o)}finally{r.f()}case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){c()}),[]);var l=function(e){console.log(e),null!==n?((a=e).qty=1,a.TotalProductPrice=a.qty*a.price,hI.collection("Cart "+n).doc(e.ID).set(a).then((function(){console.log("successfully added to cart")}))):t("/login")},f=x((0,r.useState)(0),2),h=f[0],d=f[1];(0,r.useEffect)((function(){dI.onAuthStateChanged((function(e){e&&hI.collection("Cart "+e.uid).onSnapshot((function(e){var t=e.docs.length;d(t)}))}))}),[]);var p=x((0,r.useState)([{id:"All",text:"All"},{id:"PremierLeague",text:"Premierleague"},{id:"LaLiga",text:"Laliga"},{id:"Ligue1",text:"Ligue1"},{id:"Bundesliga",text:"Bundesliga"},{id:"SerieA",text:"SerieA"},{id:"International",text:"International"},{id:"SPFL",text:"SPFL"},{id:"Eredivise",text:"Eredivise"}]),1)[0],v=x((0,r.useState)([{id:"All",text:"All"},{id:"S",text:"S"},{id:"M",text:"M"},{id:"L",text:"L"},{id:"XL",text:"XL"}]),1)[0],m=x((0,r.useState)(""),2),g=m[0],y=m[1],b=x((0,r.useState)(""),2),w=b[0],k=b[1],E=x((0,r.useState)(""),2),A=(E[0],E[1],x((0,r.useState)([]),2)),_=A[0],C=A[1],S=function(e){if(o.length>1){var t=o.filter((function(t){return t.league===e}));C(t)}else console.log("no products to filter")},I=function(e){if(o.length>1){var t=o.filter((function(t){return t.size===e}));C(t)}else console.log("no products to filter")};return(0,vI.jsxs)(vI.Fragment,{children:[(0,vI.jsx)(mI,{user:i,totalProducts:h}),(0,vI.jsx)("br",{}),(0,vI.jsxs)("div",{className:"container-fluid filter-products-main-box",children:[(0,vI.jsxs)("div",{className:"filter-box",children:[(0,vI.jsxs)("div",{class:"dropdown",children:[(0,vI.jsx)("button",{class:"dropbtn",children:"Filter by League"}),(0,vI.jsx)("div",{class:"dropdown-content",children:p.map((function(e,t){return(0,vI.jsx)("a",{id:e.id,onClick:function(){return function(e){y(e.id),k(e.text),S(e.text)}(e)},className:e.id===g?g:"deactive",children:e.id},t)}))})]}),(0,vI.jsxs)("div",{class:"dropdown",children:[(0,vI.jsx)("button",{class:"dropbtn",children:"Filter by Size"}),(0,vI.jsx)("div",{class:"dropdown-content",children:v.map((function(e,t){return(0,vI.jsx)("a",{id:e.id,onClick:function(){return function(e){y(e.id),k(e.text),I(e.text)}(e)},className:e.id===g?g:"deactive",children:e.id},t)}))})]})]}),_.length>0&&(0,vI.jsxs)("div",{className:"my-products",children:[(0,vI.jsx)("h1",{className:"text-center",children:w}),(0,vI.jsx)("a",{className:"return",href:"javascript:void(0)",onClick:function(){y(""),k(""),C([])},children:"Return to All Products"}),(0,vI.jsx)("div",{className:"products-box",children:_.map((function(e){return(0,vI.jsx)(bI,{individualFilteredProduct:e,addToCart:l},e.ID)}))})]}),_.length<1&&(0,vI.jsxs)(vI.Fragment,{children:[o.length>0&&(0,vI.jsxs)("div",{className:"my-products",children:[(0,vI.jsx)("h1",{className:"text-center",children:"Collection"}),(0,vI.jsx)("div",{className:"products-box",children:(0,vI.jsx)(yI,{products:o,addToCart:l})})]}),o.length<1&&(0,vI.jsx)("div",{className:"my-products please-wait",children:"Please wait..."})]})]})]})},kI=function(){var e=xe(),t=x((0,r.useState)(""),2),n=t[0],i=t[1],a=x((0,r.useState)(""),2),u=a[0],o=a[1],s=x((0,r.useState)(""),2),c=s[0],l=s[1],f=x((0,r.useState)(""),2),h=f[0],d=f[1];return(0,vI.jsxs)("div",{className:"container",children:[(0,vI.jsx)("br",{}),(0,vI.jsx)("br",{}),(0,vI.jsx)("h1",{id:"txt",children:"Login"}),(0,vI.jsx)("hr",{}),h&&(0,vI.jsxs)(vI.Fragment,{children:[(0,vI.jsx)("div",{className:"success-msg",children:h}),(0,vI.jsx)("br",{})]}),(0,vI.jsxs)("form",{className:"form-group",autoComplete:"off",onSubmit:function(t){t.preventDefault(),dI.signInWithEmailAndPassword(n,u).then((function(){d("Login Successfull. You will now automatically get redirected to Home page"),i(""),o(""),l(""),setTimeout((function(){d(""),e("/")}),3e3)})).catch((function(e){return l(e.message)}))},children:[(0,vI.jsx)("label",{id:"label1",children:"Email"}),(0,vI.jsx)("input",{type:"email",className:"form-control",required:!0,onChange:function(e){return i(e.target.value)},value:n}),(0,vI.jsx)("br",{}),(0,vI.jsx)("label",{id:"label1",children:"Password"}),(0,vI.jsx)("input",{type:"password",className:"form-control",required:!0,onChange:function(e){return o(e.target.value)},value:u}),(0,vI.jsx)("br",{}),(0,vI.jsxs)("div",{className:"btn-box",children:[(0,vI.jsxs)("span",{children:["Don't have an account SignUp",(0,vI.jsx)(Ye,{to:"/signup",className:"link",children:" Here"})]}),(0,vI.jsx)("button",{type:"submit",className:"btn btn-success btn-md",children:"LOGIN"})]})]}),c&&(0,vI.jsxs)(vI.Fragment,{children:[(0,vI.jsx)("br",{}),(0,vI.jsx)("div",{className:"error-msg",children:c})]})]})},EI=function(){var e=xe(),t=x((0,r.useState)(""),2),n=t[0],i=t[1],a=x((0,r.useState)(""),2),u=a[0],o=a[1],s=x((0,r.useState)(""),2),c=s[0],l=s[1],f=x((0,r.useState)(""),2),h=f[0],d=f[1],p=x((0,r.useState)(""),2),v=p[0],m=p[1];return(0,vI.jsxs)("div",{className:"container",children:[(0,vI.jsx)("br",{}),(0,vI.jsx)("br",{}),(0,vI.jsx)("h1",{id:"txt",children:"Sign Up"}),(0,vI.jsx)("hr",{}),v&&(0,vI.jsxs)(vI.Fragment,{children:[(0,vI.jsx)("div",{className:"success-msg",children:v}),(0,vI.jsx)("br",{})]}),(0,vI.jsxs)("form",{className:"form-group",autoComplete:"off",onSubmit:function(t){t.preventDefault(),dI.createUserWithEmailAndPassword(u,c).then((function(t){console.log(t),hI.collection("users").doc(t.user.uid).set({FullName:n,Email:u,Password:c}).then((function(){m("Signup Successfull. You will now automatically get redirected to Login"),i(""),o(""),l(""),d(""),setTimeout((function(){m(""),e("/login")}),3e3)})).catch((function(e){return d(e.message)}))})).catch((function(e){d(e.message)}))},children:[(0,vI.jsx)("label",{id:"label1",children:"Full Name"}),(0,vI.jsx)("input",{type:"text",className:"form-control",required:!0,onChange:function(e){return i(e.target.value)},value:n}),(0,vI.jsx)("br",{}),(0,vI.jsx)("label",{id:"label1",children:"Email"}),(0,vI.jsx)("input",{type:"email",className:"form-control",required:!0,onChange:function(e){return o(e.target.value)},value:u}),(0,vI.jsx)("br",{}),(0,vI.jsx)("label",{id:"label1",children:"Password"}),(0,vI.jsx)("input",{type:"password",className:"form-control",required:!0,onChange:function(e){return l(e.target.value)},value:c}),(0,vI.jsx)("br",{}),(0,vI.jsxs)("div",{className:"btn-box",children:[(0,vI.jsxs)("span",{children:["Already have an account Login",(0,vI.jsx)(Ye,{to:"/login",className:"link",children:" Here"})]}),(0,vI.jsx)("button",{type:"submit",className:"btn btn-success btn-md",children:"SIGN UP"})]})]}),h&&(0,vI.jsxs)(vI.Fragment,{children:[(0,vI.jsx)("br",{}),(0,vI.jsx)("div",{className:"error-msg",children:h})]})]})};function xI(){return(0,vI.jsx)("div",{className:"container-fluid",children:"Error 404 Not found"})}var AI=function(){var e=x((0,r.useState)(""),2),t=e[0],n=e[1],i=x((0,r.useState)(""),2),a=i[0],u=i[1],o=x((0,r.useState)(""),2),s=o[0],c=o[1],l=x((0,r.useState)(""),2),f=l[0],h=l[1],d=x((0,r.useState)(""),2),p=d[0],v=d[1],m=x((0,r.useState)(""),2),g=m[0],y=m[1],b=x((0,r.useState)(""),2),w=b[0],k=b[1],E=x((0,r.useState)(null),2),A=E[0],_=E[1],C=x((0,r.useState)(""),2),T=C[0],S=C[1],I=x((0,r.useState)(""),2),D=I[0],N=I[1],F=x((0,r.useState)(""),2),O=F[0],R=F[1],P=["image/jpg","image/jpeg","image/png","image/PNG"];return(0,vI.jsxs)("div",{className:"container",children:[(0,vI.jsx)("br",{}),(0,vI.jsx)("br",{}),(0,vI.jsx)("h1",{id:"txt",children:"Add Products"}),(0,vI.jsx)("hr",{}),D&&(0,vI.jsxs)(vI.Fragment,{children:[(0,vI.jsx)("div",{className:"success-msg",children:D}),(0,vI.jsx)("br",{})]}),(0,vI.jsxs)("form",{autoComplete:"off",className:"form-group",onSubmit:function(e){e.preventDefault(),pI.ref("product-images/".concat(A.name)).put(A).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log(t)}),(function(e){return R(e.message)}),(function(){pI.ref("product-images").child(A.name).getDownloadURL().then((function(e){hI.collection("Products").add({title:t,description:a,price:Number(f),league:p,depopURL:s,size:g,url:e,url2:w}).then((function(){N("Product added successfully"),n(""),u(""),h(""),v(""),c(""),y(""),k(""),document.getElementById("file").value="",S(""),R(""),setTimeout((function(){N("")}),3e3)})).catch((function(e){return R(e.message)}))}))}))},children:[(0,vI.jsx)("label",{id:"label1",children:"Product Title"}),(0,vI.jsx)("input",{type:"text",className:"form-control",required:!0,onChange:function(e){return n(e.target.value)},value:t}),(0,vI.jsx)("br",{}),(0,vI.jsx)("label",{id:"label1",children:"Product Description"}),(0,vI.jsx)("input",{type:"text",className:"form-control",required:!0,onChange:function(e){return u(e.target.value)},value:a}),(0,vI.jsx)("br",{}),(0,vI.jsx)("label",{id:"label1",children:"Product Price"}),(0,vI.jsx)("input",{type:"number",className:"form-control",required:!0,onChange:function(e){return h(e.target.value)},value:f}),(0,vI.jsx)("br",{}),(0,vI.jsx)("label",{id:"label1",children:"Depop URL"}),(0,vI.jsx)("input",{type:"text",className:"form-control",required:!0,onChange:function(e){return c(e.target.value)},value:s}),(0,vI.jsx)("br",{}),(0,vI.jsx)("label",{id:"label1",children:"League"}),(0,vI.jsx)("input",{type:"text",className:"form-control",required:!0,onChange:function(e){return v(e.target.value)},value:p}),(0,vI.jsx)("br",{}),(0,vI.jsx)("label",{id:"label1",children:"Size"}),(0,vI.jsx)("input",{type:"text",className:"form-control",required:!0,onChange:function(e){return y(e.target.value)},value:g}),(0,vI.jsx)("br",{}),(0,vI.jsx)("label",{id:"label1",children:"Url2 for front image"}),(0,vI.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return k(e.target.value)},value:w}),(0,vI.jsx)("br",{}),(0,vI.jsx)("label",{id:"label1",children:"Upload Product Image"}),(0,vI.jsx)("input",{type:"file",id:"file",className:"form-control",multiple:!0,required:!0,onChange:function(e){var t=e.target.files[0];t?t&&P.includes(t.type)?(_(t),S("")):(_(null),S("please select a valid image file type (png or jpg)")):console.log("please select your file")}}),T&&(0,vI.jsxs)(vI.Fragment,{children:[(0,vI.jsx)("br",{}),(0,vI.jsx)("div",{className:"error-msg",children:T})]}),(0,vI.jsx)("br",{}),(0,vI.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,vI.jsx)("button",{type:"submit",className:"btn btn-success btn-md",children:"SUBMIT"})})]}),O&&(0,vI.jsxs)(vI.Fragment,{children:[(0,vI.jsx)("br",{}),(0,vI.jsx)("div",{className:"error-msg",children:O})]})]})},_I=n(830),CI=n.n(_I),TI=function(e){var t=e.cartProduct;return(0,vI.jsxs)("div",{className:"cartproducts",children:[(0,vI.jsx)("div",{className:"product-img",children:(0,vI.jsx)("img",{src:t.url,alt:"product-img"})}),(0,vI.jsx)("div",{className:"product-text title",children:t.title}),(0,vI.jsxs)("div",{className:"product-text",children:["AED ",t.price]}),(0,vI.jsx)("div",{className:"btn btn-danger btn-md cart-btn",onClick:function(){CI().fire({title:"Item succesfully removed from cart",confirmButtonText:"Done"}),dI.onAuthStateChanged((function(e){e&&hI.collection("Cart "+e.uid).doc(t.ID).delete().then((function(){console.log("successfully deleted")}))}))},children:"REMOVE"})]})},SI=function(e){return e.cartProducts.map((function(e){return(0,vI.jsx)(TI,{cartProduct:e},e.ID)}))};function II(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=II(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var DI=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=II(e))&&(r&&(r+=" "),r+=t);return r},NI=n(164);function FI(){return FI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FI.apply(this,arguments)}function OI(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function RI(e){return"number"===typeof e&&!isNaN(e)}function PI(e){return"boolean"===typeof e}function LI(e){return"string"===typeof e}function BI(e){return"function"===typeof e}function MI(e){return LI(e)||BI(e)?e:null}function jI(e){return 0===e||e}var UI=!("undefined"===typeof window||!window.document||!window.document.createElement);function VI(e){return(0,r.isValidElement)(e)||LI(e)||BI(e)||RI(e)}var zI={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},qI={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};function WI(e){var t=e.enter,n=e.exit,i=e.appendPosition,a=void 0!==i&&i,u=e.collapse,o=void 0===u||u,s=e.collapseDuration,c=void 0===s?300:s;return function(e){var i=e.children,u=e.position,s=e.preventExitTransition,l=e.done,f=e.nodeRef,h=e.isIn,d=a?t+"--"+u:t,p=a?n+"--"+u:n,v=(0,r.useRef)(),m=(0,r.useRef)(0);function g(e){if(e.target===f.current){var t=f.current;t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",g),t.removeEventListener("animationcancel",g),0===m.current&&(t.className=v.current)}}function y(){var e=f.current;e.removeEventListener("animationend",y),o?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all "+n+"ms",requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,l,c):l()}return(0,r.useLayoutEffect)((function(){!function(){var e=f.current;v.current=e.className,e.className+=" "+d,e.addEventListener("animationend",g),e.addEventListener("animationcancel",g)}()}),[]),(0,r.useEffect)((function(){h||(s?y():function(){m.current=1;var e=f.current;e.className+=" "+p,e.addEventListener("animationend",y)}())}),[h]),r.createElement(r.Fragment,null,i)}}var HI={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.list.has(e)&&this.list.get(e).forEach((function(n){var i=setTimeout((function(){n.apply(void 0,r)}),0);t.emitQueue.has(e)||t.emitQueue.set(e,[]),t.emitQueue.get(e).push(i)}))}},GI=["delay","staleId"];function KI(e){var t=(0,r.useReducer)((function(e){return e+1}),0),n=t[1],i=(0,r.useState)([]),a=i[0],u=i[1],o=(0,r.useRef)(null),s=(0,r.useRef)(new Map).current,c=function(e){return-1!==a.indexOf(e)},l=(0,r.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:c,getToast:function(e){return s.get(e)}}).current;function f(e){var t=e.containerId;!l.props.limit||t&&l.containerId!==t||(l.count-=l.queue.length,l.queue=[])}function h(e){u((function(t){return jI(e)?t.filter((function(t){return t!==e})):[]}))}function d(){var e=l.queue.shift();v(e.toastContent,e.toastProps,e.staleId)}function p(e,t){var i=t.delay,a=t.staleId,u=OI(t,GI);if(VI(e)&&!function(e){return!o.current||l.props.enableMultiContainer&&e.containerId!==l.props.containerId||s.has(e.toastId)&&null==e.updateId}(u)){var c=u.toastId,f=u.updateId,p=u.data,m=l.props,g=function(){return h(c)},y=null==f;y&&l.count++;var b,w,k={toastId:c,updateId:f,isLoading:u.isLoading,theme:u.theme||m.theme,icon:null!=u.icon?u.icon:m.icon,isIn:!1,key:u.key||l.toastKey++,type:u.type,closeToast:g,closeButton:u.closeButton,rtl:m.rtl,position:u.position||m.position,transition:u.transition||m.transition,className:MI(u.className||m.toastClassName),bodyClassName:MI(u.bodyClassName||m.bodyClassName),style:u.style||m.toastStyle,bodyStyle:u.bodyStyle||m.bodyStyle,onClick:u.onClick||m.onClick,pauseOnHover:PI(u.pauseOnHover)?u.pauseOnHover:m.pauseOnHover,pauseOnFocusLoss:PI(u.pauseOnFocusLoss)?u.pauseOnFocusLoss:m.pauseOnFocusLoss,draggable:PI(u.draggable)?u.draggable:m.draggable,draggablePercent:u.draggablePercent||m.draggablePercent,draggableDirection:u.draggableDirection||m.draggableDirection,closeOnClick:PI(u.closeOnClick)?u.closeOnClick:m.closeOnClick,progressClassName:MI(u.progressClassName||m.progressClassName),progressStyle:u.progressStyle||m.progressStyle,autoClose:!u.isLoading&&(b=u.autoClose,w=m.autoClose,!1===b||RI(b)&&b>0?b:w),hideProgressBar:PI(u.hideProgressBar)?u.hideProgressBar:m.hideProgressBar,progress:u.progress,role:u.role||m.role,deleteToast:function(){s.delete(c);var e=l.queue.length;if(l.count=jI(c)?l.count-1:l.count-l.displayedToast,l.count<0&&(l.count=0),e>0){var t=jI(c)?1:l.props.limit;if(1===e||1===t)l.displayedToast++,d();else{var r=t>e?e:t;l.displayedToast=r;for(var i=0;i<r;i++)d()}}else n()}};BI(u.onOpen)&&(k.onOpen=u.onOpen),BI(u.onClose)&&(k.onClose=u.onClose),k.closeButton=m.closeButton,!1===u.closeButton||VI(u.closeButton)?k.closeButton=u.closeButton:!0===u.closeButton&&(k.closeButton=!VI(m.closeButton)||m.closeButton);var E=e;(0,r.isValidElement)(e)&&!LI(e.type)?E=(0,r.cloneElement)(e,{closeToast:g,toastProps:k,data:p}):BI(e)&&(E=e({closeToast:g,toastProps:k,data:p})),m.limit&&m.limit>0&&l.count>m.limit&&y?l.queue.push({toastContent:E,toastProps:k,staleId:a}):RI(i)&&i>0?setTimeout((function(){v(E,k,a)}),i):v(E,k,a)}}function v(e,t,n){var r=t.toastId;n&&s.delete(n),s.set(r,{content:e,props:t}),u((function(e){return[].concat(e,[r]).filter((function(e){return e!==n}))}))}return(0,r.useEffect)((function(){return l.containerId=e.containerId,HI.cancelEmit(3).on(0,p).on(1,(function(e){return o.current&&h(e)})).on(5,f).emit(2,l),function(){return HI.emit(3,l)}}),[]),(0,r.useEffect)((function(){l.isToastActive=c,l.displayedToast=a.length,HI.emit(4,a.length,e.containerId)}),[a]),(0,r.useEffect)((function(){l.props=e})),{getToastToRender:function(t){var n=new Map,r=Array.from(s.values());return e.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(e){return t(e[0],e[1])}))},containerRef:o,isToastActive:c}}function QI(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function YI(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function $I(e){var t=(0,r.useState)(!1),n=t[0],i=t[1],a=(0,r.useState)(!1),u=a[0],o=a[1],s=(0,r.useRef)(null),c=(0,r.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=(0,r.useRef)(e),f=e.autoClose,h=e.pauseOnHover,d=e.closeToast,p=e.onClick,v=e.closeOnClick;function m(t){if(e.draggable){c.didMove=!1,document.addEventListener("mousemove",w),document.addEventListener("mouseup",k),document.addEventListener("touchmove",w),document.addEventListener("touchend",k);var n=s.current;c.canCloseOnClick=!0,c.canDrag=!0,c.boundingRect=n.getBoundingClientRect(),n.style.transition="",c.x=QI(t.nativeEvent),c.y=YI(t.nativeEvent),"x"===e.draggableDirection?(c.start=c.x,c.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(c.start=c.y,c.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(){if(c.boundingRect){var t=c.boundingRect,n=t.top,r=t.bottom,i=t.left,a=t.right;e.pauseOnHover&&c.x>=i&&c.x<=a&&c.y>=n&&c.y<=r?b():y()}}function y(){i(!0)}function b(){i(!1)}function w(t){var r=s.current;c.canDrag&&r&&(c.didMove=!0,n&&b(),c.x=QI(t),c.y=YI(t),"x"===e.draggableDirection?c.delta=c.x-c.start:c.delta=c.y-c.start,c.start!==c.x&&(c.canCloseOnClick=!1),r.style.transform="translate"+e.draggableDirection+"("+c.delta+"px)",r.style.opacity=""+(1-Math.abs(c.delta/c.removalDistance)))}function k(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",k),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",k);var t=s.current;if(c.canDrag&&c.didMove&&t){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return o(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate"+e.draggableDirection+"(0)",t.style.opacity="1"}}(0,r.useEffect)((function(){l.current=e})),(0,r.useEffect)((function(){return s.current&&s.current.addEventListener("d",y,{once:!0}),BI(e.onOpen)&&e.onOpen((0,r.isValidElement)(e.children)&&e.children.props),function(){var e=l.current;BI(e.onClose)&&e.onClose((0,r.isValidElement)(e.children)&&e.children.props)}}),[]),(0,r.useEffect)((function(){return e.pauseOnFocusLoss&&function(){document.hasFocus()||b();window.addEventListener("focus",y),window.addEventListener("blur",b)}(),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",y),window.removeEventListener("blur",b))}}),[e.pauseOnFocusLoss]);var E={onMouseDown:m,onTouchStart:m,onMouseUp:g,onTouchEnd:g};return f&&h&&(E.onMouseEnter=b,E.onMouseLeave=y),v&&(E.onClick=function(e){p&&p(e),c.canCloseOnClick&&d()}),{playToast:y,pauseToast:b,isRunning:n,preventExitTransition:u,toastRef:s,eventHandlers:E}}function XI(e){var t=e.closeToast,n=e.theme,i=e.ariaLabel,a=void 0===i?"close":i;return(0,r.createElement)("button",{className:"Toastify__close-button Toastify__close-button--"+n,type:"button",onClick:function(e){e.stopPropagation(),t(e)},"aria-label":a},(0,r.createElement)("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},(0,r.createElement)("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function JI(e){var t,n,i=e.delay,a=e.isRunning,u=e.closeToast,o=e.type,s=e.hide,c=e.className,l=e.style,f=e.controlledProgress,h=e.progress,d=e.rtl,p=e.isIn,v=e.theme,m=FI({},l,{animationDuration:i+"ms",animationPlayState:a?"running":"paused",opacity:s?0:1});f&&(m.transform="scaleX("+h+")");var g=DI("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--"+v,"Toastify__progress-bar--"+o,((t={})["Toastify__progress-bar--rtl"]=d,t)),y=BI(c)?c({rtl:d,type:o,defaultClassName:g}):DI(g,c),b=((n={})[f&&h>=1?"onTransitionEnd":"onAnimationEnd"]=f&&h<1?null:function(){p&&u()},n);return(0,r.createElement)("div",Object.assign({role:"progressbar","aria-hidden":s?"true":"false","aria-label":"notification timer",className:y,style:m},b))}JI.defaultProps={type:qI.DEFAULT,hide:!1};var ZI=["theme","type"],eD=function(e){var t=e.theme,n=e.type,i=OI(e,ZI);return(0,r.createElement)("svg",Object.assign({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-"+n+")"},i))};var tD={info:function(e){return(0,r.createElement)(eD,Object.assign({},e),(0,r.createElement)("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return(0,r.createElement)(eD,Object.assign({},e),(0,r.createElement)("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return(0,r.createElement)(eD,Object.assign({},e),(0,r.createElement)("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return(0,r.createElement)(eD,Object.assign({},e),(0,r.createElement)("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return(0,r.createElement)("div",{className:"Toastify__spinner"})}},nD=function(e){var t,n,i=$I(e),a=i.isRunning,u=i.preventExitTransition,o=i.toastRef,s=i.eventHandlers,c=e.closeButton,l=e.children,f=e.autoClose,h=e.onClick,d=e.type,p=e.hideProgressBar,v=e.closeToast,m=e.transition,g=e.position,y=e.className,b=e.style,w=e.bodyClassName,k=e.bodyStyle,E=e.progressClassName,x=e.progressStyle,A=e.updateId,_=e.role,C=e.progress,T=e.rtl,S=e.toastId,I=e.deleteToast,D=e.isIn,N=e.isLoading,F=e.icon,O=e.theme,R=DI("Toastify__toast","Toastify__toast-theme--"+O,"Toastify__toast--"+d,((t={})["Toastify__toast--rtl"]=T,t)),P=BI(y)?y({rtl:T,position:g,type:d,defaultClassName:R}):DI(R,y),L=!!C,B=tD[d],M={theme:O,type:d},j=B&&B(M);return!1===F?j=void 0:BI(F)?j=F(M):(0,r.isValidElement)(F)?j=(0,r.cloneElement)(F,M):LI(F)?j=F:N&&(j=tD.spinner()),(0,r.createElement)(m,{isIn:D,done:I,position:g,preventExitTransition:u,nodeRef:o},(0,r.createElement)("div",Object.assign({id:S,onClick:h,className:P},s,{style:b,ref:o}),(0,r.createElement)("div",Object.assign({},D&&{role:_},{className:BI(w)?w({type:d}):DI("Toastify__toast-body",w),style:k}),j&&(0,r.createElement)("div",{className:DI("Toastify__toast-icon",(n={},n["Toastify--animate-icon Toastify__zoom-enter"]=!N,n))},j),(0,r.createElement)("div",null,l)),function(e){if(e){var t={closeToast:v,type:d,theme:O};return BI(e)?e(t):(0,r.isValidElement)(e)?(0,r.cloneElement)(e,t):void 0}}(c),(f||L)&&(0,r.createElement)(JI,Object.assign({},A&&!L?{key:"pb-"+A}:{},{rtl:T,theme:O,delay:f,isRunning:a,isIn:D,closeToast:v,hide:p,type:d,style:x,className:E,controlledProgress:L,progress:C}))))},rD=WI({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),iD=function(e){var t=KI(e),n=t.getToastToRender,i=t.containerRef,a=t.isToastActive,u=e.className,o=e.style,s=e.rtl,c=e.containerId;function l(e){var t,n=DI("Toastify__toast-container","Toastify__toast-container--"+e,((t={})["Toastify__toast-container--rtl"]=s,t));return BI(u)?u({position:e,rtl:s,defaultClassName:n}):DI(n,MI(u))}return(0,r.createElement)("div",{ref:i,className:"Toastify",id:c},n((function(e,t){var n=t.length?FI({},o):FI({},o,{pointerEvents:"none"});return(0,r.createElement)("div",{className:l(e),style:n,key:"container-"+e},t.map((function(e){var t=e.content,n=e.props;return(0,r.createElement)(nD,Object.assign({},n,{isIn:a(n.toastId),key:"toast-"+n.key,closeButton:!0===n.closeButton?XI:n.closeButton}),t)})))})))};iD.defaultProps={position:zI.TOP_RIGHT,transition:rD,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:XI,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var aD,uD,oD,sD=new Map,cD=[],lD=!1;function fD(){return Math.random().toString(36).substring(2,9)}function hD(e){return e&&(LI(e.toastId)||RI(e.toastId))?e.toastId:fD()}function dD(e,t){return sD.size>0?HI.emit(0,e,t):(cD.push({content:e,options:t}),lD&&UI&&(lD=!1,uD=document.createElement("div"),document.body.appendChild(uD),(0,NI.render)((0,r.createElement)(iD,Object.assign({},oD)),uD))),t.toastId}function pD(e,t){return FI({},t,{type:t&&t.type||e,toastId:hD(t)})}function vD(e){return function(t,n){return dD(t,pD(e,n))}}function mD(e,t){return dD(e,pD(qI.DEFAULT,t))}mD.loading=function(e,t){return dD(e,pD(qI.DEFAULT,FI({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},mD.promise=function(e,t,n){var r,i=t.pending,a=t.error,u=t.success;i&&(r=LI(i)?mD.loading(i,n):mD.loading(i.render,FI({},n,i)));var o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},s=function(e,t,i){if(null!=t){var a=FI({type:e},o,n,{data:i}),u=LI(t)?{render:t}:t;return r?mD.update(r,FI({},a,u)):mD(u.render,FI({},a,u)),i}mD.dismiss(r)},c=BI(e)?e():e;return c.then((function(e){return s("success",u,e)})).catch((function(e){return s("error",a,e)})),c},mD.success=vD(qI.SUCCESS),mD.info=vD(qI.INFO),mD.error=vD(qI.ERROR),mD.warning=vD(qI.WARNING),mD.warn=mD.warning,mD.dark=function(e,t){return dD(e,pD(qI.DEFAULT,FI({theme:"dark"},t)))},mD.dismiss=function(e){return HI.emit(1,e)},mD.clearWaitingQueue=function(e){return void 0===e&&(e={}),HI.emit(5,e)},mD.isActive=function(e){var t=!1;return sD.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},mD.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=sD.get(n||aD);return r?r.getToast(e):null}(e,t);if(n){var r=n.props,i=n.content,a=FI({},r,t,{toastId:t.toastId||e,updateId:fD()});a.toastId!==e&&(a.staleId=e);var u=a.render||i;delete a.render,dD(u,a)}}),0)},mD.done=function(e){mD.update(e,{progress:1})},mD.onChange=function(e){return BI(e)&&HI.on(4,e),function(){BI(e)&&HI.off(4,e)}},mD.configure=function(e){void 0===e&&(e={}),lD=!0,oD=e},mD.POSITION=zI,mD.TYPE=qI,HI.on(2,(function(e){aD=e.containerId||e,sD.set(aD,e),cD.forEach((function(e){HI.emit(0,e.content,e.options)})),cD=[]})).on(3,(function(e){sD.delete(e.containerId||e),0===sD.size&&HI.off(0).off(1).off(5),UI&&uD&&document.body.removeChild(uD)}));var gD=function(e){var t=e.TotalPrice,n=e.hideModal,i=xe(),a=x((0,r.useState)(null),2),u=a[0],o=a[1],s=x((0,r.useState)(""),2),c=s[0],l=s[1],f=x((0,r.useState)(t),1)[0],h=function(){var e=We(je().mark((function e(t){var r,a,o,s,l,h,d;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(u,c,f),r=dI.currentUser.uid,e.next=5,hI.collection("users").doc(r).get();case 5:return a=e.sent,e.next=8,hI.collection("Buyer-Personal-Info").add({Name:a.data().Name,Email:a.data().Email,CellNo:u,ResidentialAddress:c,CartPrice:f});case 8:return e.next=10,hI.collection("Cart "+r).get();case 10:o=e.sent,s=T(o.docs),e.prev=12,s.s();case 14:if((l=s.n()).done){e.next=24;break}return h=l.value,(d=h.data()).ID=h.id,e.next=20,hI.collection("Buyer-Cart "+r).add(d);case 20:return e.next=22,hI.collection("Cart "+r).doc(h.id).delete();case 22:e.next=14;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(12),s.e(e.t0);case 29:return e.prev=29,s.f(),e.finish(29);case 32:n(),CI().fire({title:"Order Placed!",text:"Your package will be shipped out shortly. Follow @johnsfootballshirts on Instagram for updates!",icon:"success",confirmButtonText:"Done"}),i("/");case 35:case"end":return e.stop()}}),e,null,[[12,26,29,32]])})));return function(t){return e.apply(this,arguments)}}();return(0,vI.jsx)("div",{className:"shade-area",children:(0,vI.jsxs)("div",{className:"modal-container",children:[(0,vI.jsxs)("form",{className:"form-group",onSubmit:h,children:[(0,vI.jsx)("input",{type:"tel",className:"form-control",placeholder:"Contact Number",required:!0,pattern:"[0-9]{3}[0-9]{3}[0-9]{4}",onChange:function(e){return o(e.target.value)},value:u}),(0,vI.jsx)("small",{children:"Format: 0501234567"}),(0,vI.jsx)("br",{}),(0,vI.jsx)("br",{}),(0,vI.jsx)("input",{type:"text",className:"form-control",placeholder:"Address",required:!0,onChange:function(e){return l(e.target.value)},value:c}),(0,vI.jsx)("br",{}),(0,vI.jsx)("label",{children:"Total Price"}),(0,vI.jsx)("input",{type:"number",className:"form-control",readOnly:!0,required:!0,value:f}),(0,vI.jsx)("br",{}),(0,vI.jsx)("button",{type:"submit",className:"btn btn-success btn-md",children:"Submit"})]}),(0,vI.jsx)("div",{className:"delete-icon",onClick:function(){n()},children:"x"})]})})},yD=function(){var e=x((0,r.useState)(!1),2),t=e[0],n=e[1];var i=function(){var e=x((0,r.useState)(null),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){dI.onAuthStateChanged((function(e){e?hI.collection("users").doc(e.uid).get().then((function(e){n(e.data().Name)})):n(null)}))}),[]),t}(),a=x((0,r.useState)([]),2),u=a[0],o=a[1];(0,r.useEffect)((function(){dI.onAuthStateChanged((function(e){e?hI.collection("Cart "+e.uid).onSnapshot((function(e){var t=e.docs.map((function(e){return ze({ID:e.id},e.data())}));o(t)})):console.log("user is not signed in to retrieve cart")}))}),[]),console.log(i);var s=u.map((function(e){return e.qty})).reduce((function(e,t){return e+t}),0),c=u.map((function(e){return e.TotalProductPrice})).reduce((function(e,t){return e+t}),0),l=c+20,f=x((0,r.useState)(0),2),h=f[0],d=f[1];return(0,r.useEffect)((function(){dI.onAuthStateChanged((function(e){e&&hI.collection("Cart "+e.uid).onSnapshot((function(e){var t=e.docs.length;d(t)}))}))}),[]),(0,vI.jsxs)(vI.Fragment,{children:[(0,vI.jsx)(mI,{user:i,totalProducts:h}),(0,vI.jsx)("br",{}),u.length>0&&(0,vI.jsxs)("div",{className:"container-fluid",children:[(0,vI.jsx)("h1",{className:"text-center",children:"Cart"}),(0,vI.jsx)("div",{className:"products-box",children:(0,vI.jsx)(SI,{cartProducts:u})}),(0,vI.jsxs)("div",{className:"summary-box",children:[(0,vI.jsx)("h5",{children:"Cart Summary"}),(0,vI.jsx)("br",{}),(0,vI.jsxs)("div",{children:["Total No of Products: ",(0,vI.jsx)("span",{children:s})]}),(0,vI.jsxs)("div",{children:["Subtotal: ",(0,vI.jsxs)("span",{children:["AED ",c]})]}),(0,vI.jsxs)("div",{children:["Shipping: ",(0,vI.jsx)("span",{children:"AED 20"})]}),(0,vI.jsxs)("div",{children:["Total: ",(0,vI.jsxs)("span",{children:["AED ",l]})]}),(0,vI.jsx)("br",{}),(0,vI.jsx)("button",{type:"submit",className:"btn btn-success btn-md",onClick:function(){n(!0)},children:"Pay cash on delivery"})]})]}),u.length<1&&(0,vI.jsx)("div",{id:"label1",children:"Your cart could use some shirts!"}),!0===t&&(0,vI.jsx)(gD,{TotalPrice:l,hideModal:function(){n(!1)}})]})};function bD(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=bD(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function wD(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=bD(e))&&(r&&(r+=" "),r+=t);return r}Math.max,Math.min,Math.round;n(77),"undefined"!==typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect;var kD=function(){return kD=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},kD.apply(this,arguments)};function ED(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}var xD=r.forwardRef((function(e,t){var n=e.breakpoint,i=e.fluid,a=e.children,u=e.className,o=e.tag,s=ED(e,["breakpoint","fluid","children","className","tag"]),c=wD("".concat(i?"container-fluid":"container".concat(n?"-"+n:"")),u);return r.createElement(o,kD({className:c},s,{ref:t}),a)}));xD.defaultProps={tag:"div"};var AD=r.forwardRef((function(e,t){var n=e.center,i=e.children,a=e.className,u=e.end,o=e.lg,s=e.md,c=e.offsetLg,l=e.offsetMd,f=e.offsetSm,h=e.order,d=e.size,p=e.sm,v=e.start,m=e.tag,g=e.xl,y=e.xxl,b=e.xs,w=ED(e,["center","children","className","end","lg","md","offsetLg","offsetMd","offsetSm","order","size","sm","start","tag","xl","xxl","xs"]),k=wD(d&&"col-".concat(d),b&&"col-xs-".concat(b),p&&"col-sm-".concat(p),s&&"col-md-".concat(s),o&&"col-lg-".concat(o),g&&"col-xl-".concat(g),y&&"col-xxl-".concat(y),d||b||p||s||o||g||y?"":"col",h&&"order-".concat(h),v&&"align-self-start",n&&"align-self-center",u&&"align-self-end",f&&"offset-sm-".concat(f),l&&"offset-md-".concat(l),c&&"offset-lg-".concat(c),a);return r.createElement(m,kD({className:k,ref:t},w),i)}));AD.defaultProps={tag:"div"},r.forwardRef((function(e,t){var n=e.className,i=e.color,a=e.pill,u=e.light,o=e.dot,s=e.tag,c=e.children,l=e.notification,f=ED(e,["className","color","pill","light","dot","tag","children","notification"]),h=wD("badge",u?i&&"badge-".concat(i):i&&"bg-".concat(i),o&&"badge-dot",a&&"rounded-pill",l&&"badge-notification",n);return r.createElement(s,kD({className:h,ref:t},f),c)})).defaultProps={tag:"span",color:"primary"};var _D=function(e){var t=ED(e,[]),n=(0,r.useState)(!1),i=n[0],a=n[1],u=wD("ripple-wave",i&&"active");return(0,r.useEffect)((function(){var e=setTimeout((function(){a(!0)}),50);return function(){clearTimeout(e)}}),[]),r.createElement("div",kD({className:u},t))},CD=r.forwardRef((function(e,t){var n=e.className,i=e.rippleTag,a=e.rippleCentered,u=e.rippleDuration,o=e.rippleUnbound,s=e.rippleRadius,c=e.rippleColor,l=e.children,f=e.onMouseDown,h=ED(e,["className","rippleTag","rippleCentered","rippleDuration","rippleUnbound","rippleRadius","rippleColor","children","onMouseDown"]),d=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r.useRef();return r.useEffect((function(){e.forEach((function(e){e&&("function"==typeof e?e(n.current):e.current=n.current)}))}),[e]),n}(t,(0,r.useRef)(null)),p=[0,0,0],v=["primary","secondary","success","danger","warning","info","light","dark"],m=(0,r.useState)([]),g=m[0],y=m[1],b=(0,r.useState)(!1),w=b[0],k=b[1],E=wD("ripple","ripple-surface",o&&"ripple-surface-unbound",w&&"ripple-surface-".concat(c),n),x=function(){if(v.find((function(e){return e===(null==c?void 0:c.toLowerCase())})))return k(!0);var e=A(c).join(","),t="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join("".concat(e));return"radial-gradient(circle, ".concat(t,")")},A=function(e){return"transparent"===e.toLowerCase()?p:"#"===e[0]?function(e){return e.length<7&&(e="#".concat(e[1]).concat(e[1]).concat(e[2]).concat(e[2]).concat(e[3]).concat(e[3])),[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]}(e):(-1===e.indexOf("rgb")&&(e=function(e){var t=document.body.appendChild(document.createElement("fictum")),n="rgb(1, 2, 3)";return t.style.color=n,t.style.color!==n?p:(t.style.color=e,t.style.color===n||""===t.style.color?p:(e=getComputedStyle(t).color,document.body.removeChild(t),e))}(e)),0===e.indexOf("rgb")?function(e){return(e=e.match(/[.\d]+/g).map((function(e){return+Number(e)}))).length=3,e}(e):p)};return(0,r.useEffect)((function(){var e=setTimeout((function(){g.length>0&&y(g.splice(1,g.length-1))}),u);return function(){clearTimeout(e)}}),[u,g]),r.createElement(i,kD({className:E,onMouseDown:function(e){return function(e){var t=function(e){var t,n=null===(t=d.current)||void 0===t?void 0:t.getBoundingClientRect(),r=e.clientX-n.left,i=e.clientY-n.top,o=n.height,c=n.width,l={delay:u&&.5*u,duration:u&&u-.5*u},f=function(e){var t=e.offsetX,n=e.offsetY,r=e.height,i=e.width,a=n<=r/2,u=t<=i/2,o=function(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))},s=n===r/2&&t===i/2,c=!0===a&&!1===u,l=!0===a&&!0===u,f=!1===a&&!0===u,h=!1===a&&!1===u,d={topLeft:o(t,n),topRight:o(i-t,n),bottomLeft:o(t,r-n),bottomRight:o(i-t,r-n)},p=0;return s||h?p=d.topLeft:f?p=d.topRight:l?p=d.bottomRight:c&&(p=d.bottomLeft),2*p}({offsetX:a?o/2:r,offsetY:a?c/2:i,height:o,width:c}),h=s||f/2,p={left:"".concat(a?c/2-h:r-h,"px"),top:"".concat(a?o/2-h:i-h,"px"),height:"".concat(s?2*s:f,"px"),width:"".concat(s?2*s:f,"px"),transitionDelay:"0s, ".concat(l.delay,"ms"),transitionDuration:"".concat(u,"ms, ").concat(l.duration,"ms")};return w?p:kD(kD({},p),{backgroundImage:"".concat(x())})}(e),n=g.concat(t);y(n),f&&f(e)}(e)},ref:d},h),l,g.map((function(e,t){return r.createElement(_D,{key:t,style:e})})))}));CD.defaultProps={rippleTag:"div",rippleDuration:500,rippleRadius:0,rippleColor:"dark"};var TD=r.forwardRef((function(e,t){var n=e.className,i=e.color,a=e.outline,u=e.children,o=e.rounded,s=e.disabled,c=e.floating,l=e.size,f=e.href,h=e.block,d=e.active,p=e.toggle,v=e.noRipple,m=e.tag,g=ED(e,["className","color","outline","children","rounded","disabled","floating","size","href","block","active","toggle","noRipple","tag"]),y=(0,r.useState)(d||!1),b=y[0],w=y[1],k=i&&["light","link"].includes(i)||a?"dark":"light",E=wD("none"!==i&&"btn","none"!==i?a?i?"btn-outline-".concat(i):"btn-outline-primary":i?"btn-".concat(i):"btn-primary":"",o&&"btn-rounded",c&&"btn-floating",l&&"btn-".concat(l),"".concat((f||"button"!==m)&&s?"disabled":""),h&&"btn-block",b&&"active",n);return f&&"a"!==m&&(m="a"),["hr","img","input"].includes(m)||v?r.createElement(m,kD({className:E,onClick:p?function(){w(!b)}:void 0,disabled:!(!s||"button"!==m)||void 0,href:f,ref:t},g),u):r.createElement(CD,kD({rippleTag:m,rippleColor:k,className:E,onClick:p?function(){w(!b)}:void 0,disabled:!(!s||"button"!==m)||void 0,href:f,ref:t},g),u)}));TD.defaultProps={tag:"button",role:"button",color:"primary"},r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.shadow,u=e.toolbar,o=e.size,s=e.vertical,c=e.tag,l=ED(e,["className","children","shadow","toolbar","size","vertical","tag"]),f=wD(u?"btn-toolbar":s?"btn-group-vertical":"btn-group",a&&"shadow-".concat(a),o&&"btn-group-".concat(o),n);return r.createElement(c,kD({className:f,ref:t},l),i)})).defaultProps={tag:"div",role:"group"},r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.tag,u=e.color,o=e.grow,s=e.size,c=ED(e,["className","children","tag","color","grow","size"]),l=wD("".concat(o?"spinner-grow":"spinner-border"),u&&"text-".concat(u),"".concat(s?o?"spinner-grow-"+s:"spinner-border-"+s:""),n);return r.createElement(a,kD({className:l,ref:t},c),i)})).defaultProps={tag:"div"},r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.border,u=e.background,o=e.tag,s=e.shadow,c=e.alignment,l=ED(e,["className","children","border","background","tag","shadow","alignment"]),f=wD("card",a&&"border border-".concat(a),u&&"bg-".concat(u),s&&"shadow-".concat(s),c&&"text-".concat(c),n);return r.createElement(o,kD({className:f,ref:t},l),i)})).defaultProps={tag:"div"},r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.border,u=e.background,o=e.tag,s=ED(e,["className","children","border","background","tag"]),c=wD("card-header",a&&"border-".concat(a),u&&"bg-".concat(u),n);return r.createElement(o,kD({className:c},s,{ref:t}),i)})).defaultProps={tag:"div"},r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.tag,u=ED(e,["className","children","tag"]),o=wD("card-subtitle",n);return r.createElement(a,kD({className:o},u,{ref:t}),i)})).defaultProps={tag:"p"},r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.tag,u=ED(e,["className","children","tag"]),o=wD("card-title",n);return r.createElement(a,kD({className:o},u,{ref:t}),i)})).defaultProps={tag:"h5"},r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.tag,u=ED(e,["className","children","tag"]),o=wD("card-text",n);return r.createElement(a,kD({className:o},u,{ref:t}),i)})).defaultProps={tag:"p"},r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.tag,u=ED(e,["className","children","tag"]),o=wD("card-body",n);return r.createElement(a,kD({className:o},u,{ref:t}),i)})).defaultProps={tag:"div"},r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.border,u=e.background,o=e.tag,s=ED(e,["className","children","border","background","tag"]),c=wD("card-footer",a&&"border-".concat(a),u&&"bg-".concat(u),n);return r.createElement(o,kD({className:c},s,{ref:t}),i)})).defaultProps={tag:"div"};r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.tag,u=ED(e,["className","children","tag"]),o=wD("card-img-overlay",n);return r.createElement(a,kD({className:o},u,{ref:t}),i)})).defaultProps={tag:"div"};r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.tag,u=ED(e,["className","children","tag"]),o=wD("card-group",n);return r.createElement(a,kD({className:o},u,{ref:t}),i)})).defaultProps={tag:"div"},r.forwardRef((function(e,t){var n=e.className,i=e.tag,a=e.horizontal,u=e.horizontalSize,o=e.light,s=e.numbered,c=e.children,l=e.small,f=ED(e,["className","tag","horizontal","horizontalSize","light","numbered","children","small"]),h=wD("list-group",a&&(u?"list-group-horizontal-".concat(u):"list-group-horizontal"),o&&"list-group-light",s&&"list-group-numbered",l&&"list-group-small",n);return r.createElement(i,kD({className:h,ref:t},f),c)})).defaultProps={tag:"ul"},r.forwardRef((function(e,t){var n=e.className,i=e.tag,a=e.active,u=e.disabled,o=e.action,s=e.color,c=e.children,l=e.noBorders,f=ED(e,["className","tag","active","disabled","action","color","children","noBorders"]),h="button"===i,d=wD("list-group-item",a&&"active",u&&!h&&"disabled",o&&"list-group-item-action",s&&"list-group-item-".concat(s),l&&"border-0",n);return r.createElement(i,kD({className:d,disabled:h&&u,ref:t},f),c)})).defaultProps={tag:"li"};var SD=r.forwardRef((function(e,t){var n=e.around,i=e.between,a=e.bottom,u=e.center,o=e.children,s=e.className,c=e.evenly,l=e.end,f=e.middle,h=e.start,d=e.tag,p=e.top,v=ED(e,["around","between","bottom","center","children","className","evenly","end","middle","start","tag","top"]),m=wD("row",n&&"justify-content-around",i&&"justify-content-between",a&&"align-self-end",u&&"justify-content-center",c&&"justifty-content-evenly",l&&"justify-content-end",f&&"align-self-center",h&&"justify-content-start",p&&"align-self-start",s);return r.createElement(d,kD({className:m},v,{ref:t}),o)}));SD.defaultProps={tag:"div"};r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.tag,u=e.variant,o=e.color,s=e.blockquote,c=e.note,l=e.noteColor,f=e.listUnStyled,h=e.listInLine,d=ED(e,["className","children","tag","variant","color","blockquote","note","noteColor","listUnStyled","listInLine"]),p=wD(u&&u,s&&"blockquote",c&&"note",o&&"text-".concat(o),l&&"note-".concat(l),f&&"list-unstyled",h&&"list-inline",n);return s&&(a="blockquote"),(f||h)&&(a="ul"),r.createElement(a,kD({className:p,ref:t},d),i)})).defaultProps={tag:"p"};r.forwardRef((function(e,t){var n=e.className,i=e.color,a=e.uppercase,u=e.bold,o=e.children,s=ED(e,["className","color","uppercase","bold","children"]),c=wD("breadcrumb",u&&"font-weight-bold",i&&"text-".concat(i),a&&"text-uppercase",n);return r.createElement("nav",{"aria-label":"breadcrumb"},r.createElement("ol",kD({className:c,ref:t},s),o))}));r.forwardRef((function(e,t){var n=e.className,i=e.active,a=e.current,u=e.children,o=ED(e,["className","active","current","children"]),s=wD("breadcrumb-item",i&&"active",n);return r.createElement("li",kD({className:s,ref:t,"aria-current":i&&a},o),u)})).defaultProps={current:"page"};var ID=r.forwardRef((function(e,t){var n,i=e.className,a=e.children,u=e.light,o=e.dark,s=e.scrolling,c=e.fixed,l=e.sticky,f=e.scrollingNavbarOffset,h=e.color,d=e.transparent,p=e.expand,v=e.tag,m=e.bgColor,g=ED(e,["className","children","light","dark","scrolling","fixed","sticky","scrollingNavbarOffset","color","transparent","expand","tag","bgColor"]),y=(0,r.useState)(!1),b=y[0],w=y[1],k=wD(((n={"navbar-light":u,"navbar-dark":o,"scrolling-navbar":s||f,"top-nav-collapse":b})["text-".concat(h)]=h&&d?b:h,n),c&&"fixed-".concat(c),l&&"sticky-top","navbar",p&&function(e){if(!1!==e)return"navbar-expand-".concat(e)}(p),m&&"bg-".concat(m),i),E=(0,r.useCallback)((function(){f&&window.pageYOffset>f?w(!0):w(!1)}),[f]);return(0,r.useEffect)((function(){return(s||f)&&window.addEventListener("scroll",E),function(){window.removeEventListener("scroll",E)}}),[E,s,f]),r.createElement(v,kD({className:k,role:"navigation"},g,{ref:t}),a)}));ID.defaultProps={tag:"nav"},r.forwardRef((function(e,t){var n=e.children,i=e.className,a=e.disabled,u=e.active,o=e.tag,s=ED(e,["children","className","disabled","active","tag"]),c=wD("nav-link",a?"disabled":u?"active":"",i);return r.createElement(o,kD({"data-test":"nav-link",className:c,style:{cursor:"pointer"},ref:t},s),n)})).defaultProps={tag:"a",active:!1,className:"",disabled:!1},r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.tag,u=ED(e,["className","children","tag"]),o=wD("navbar-brand",n);return r.createElement(a,kD({className:o,ref:t},u),i)})).defaultProps={tag:"a"},r.forwardRef((function(e,t){var n=e.children,i=e.className,a=e.active,u=e.text,o=e.tag,s=ED(e,["children","className","active","text","tag"]),c=wD("nav-item",a&&"active",u&&"navbar-text",i);return r.createElement(o,kD({},s,{className:c,ref:t}),n)})).defaultProps={tag:"li"},r.forwardRef((function(e,t){var n=e.children,i=e.className,a=e.right,u=e.fullWidth,o=e.left,s=e.tag,c=ED(e,["children","className","right","fullWidth","left","tag"]),l=wD("navbar-nav",u&&"w-100",a&&"ms-auto",o&&"me-auto",i);return r.createElement(s,kD({className:l,ref:t},c),n)})).defaultProps={tag:"ul",fullWidth:!0},r.forwardRef((function(e,t){var n=e.children,i=e.className,a=e.tag,u=ED(e,["children","className","tag"]),o=wD("navbar-toggler",i);return r.createElement(a,kD({},u,{className:o,ref:t}),n)})).defaultProps={tag:"button"};r.forwardRef((function(e,t){var n=e.children,i=e.bgColor,a=e.color,u=e.className,o=ED(e,["children","bgColor","color","className"]),s=wD(i&&"bg-".concat(i),a&&"text-".concat(a),u);return r.createElement("footer",kD({className:s},o,{ref:t}),n)})),r.forwardRef((function(e,t){var n=e.children,i=e.size,a=e.circle,u=e.center,o=e.end,s=e.start,c=e.className,l=ED(e,["children","size","circle","center","end","start","className"]),f=wD("pagination",u&&"justify-content-center",a&&"pagination-circle",o&&"justify-content-end",i&&"pagination-".concat(i),s&&"justify-content-start",c);return r.createElement("ul",kD({className:f},l,{ref:t}),n)}));r.forwardRef((function(e,t){var n=e.children,i=e.className,a=e.tag,u=ED(e,["children","className","tag"]),o=wD("page-link",i);return r.createElement(a,kD({className:o},u,{ref:t}),n)})).defaultProps={tag:"a"};r.forwardRef((function(e,t){var n=e.children,i=e.className,a=e.active,u=e.disabled,o=ED(e,["children","className","active","disabled"]),s=wD("page-item",a&&"active",u&&"disabled",i);return r.createElement("li",kD({className:s},o,{ref:t}),n)}));var DD=r.forwardRef((function(e,t){var n,i=e.animated,a=e.children,u=e.className,o=e.style,s=e.tag,c=e.valuenow,l=e.valuemax,f=e.striped,h=e.bgColor,d=e.valuemin,p=e.width,v=ED(e,["animated","children","className","style","tag","valuenow","valuemax","striped","bgColor","valuemin","width"]),m=wD("progress-bar",h&&"bg-".concat(h),f&&"progress-bar-striped",i&&"progress-bar-animated",u),g=kD({width:"".concat(p,"%")},o);return r.createElement(s,kD({className:m,style:g,ref:t,role:"progressbar"},v,{"aria-valuenow":null!==(n=Number(p))&&void 0!==n?n:c,"aria-valuemin":Number(d),"aria-valuemax":Number(l)}),a)}));DD.defaultProps={tag:"div"},r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.tag,u=e.height,o=e.style,s=ED(e,["className","children","tag","height","style"]),c=wD("progress",n),l=kD({height:"".concat(u,"px")},o);return r.createElement(a,kD({className:c,ref:t,style:l},s),r.Children.map(i,(function(e){return r.isValidElement(e)&&e.type===DD?e:void console.error("Progress component only allows ProgressBar as child")})))})).defaultProps={tag:"div"};var ND=r.forwardRef((function(e,t){var n,i,a=e.className,u=e.size,o=e.contrast,s=e.value,c=e.defaultValue,l=e.id,f=e.labelClass,h=e.wrapperClass,d=e.wrapperStyle,p=e.wrapperTag,v=e.label,m=e.onChange,g=e.children,y=e.labelRef,b=e.labelStyle,w=e.type,k=e.onBlur,E=e.readonly,x=ED(e,["className","size","contrast","value","defaultValue","id","labelClass","wrapperClass","wrapperStyle","wrapperTag","label","onChange","children","labelRef","labelStyle","type","onBlur","readonly"]),A=(0,r.useState)(s||c),_=A[0],C=A[1],T=(0,r.useState)(0),S=T[0],I=T[1],D=(0,r.useState)(!1),N=D[0],F=D[1],O=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(function(){return O.current}));var R=(0,r.useRef)(null),P=y||R,L=wD("form-outline",o&&"form-white",h),B=wD("form-control",N&&"active","date"===w&&"active",u&&"form-control-".concat(u),a),M=wD("form-label",f);(0,r.useEffect)((function(){O.current&&(O.current.value.length>0?F(!0):F(!1))}),[null===(n=O.current)||void 0===n?void 0:n.value]),(0,r.useEffect)((function(){void 0!==s&&(s.toString().length>0?F(!0):F(!1))}),[s]),(0,r.useEffect)((function(){void 0!==c&&(c.toString().length>0?F(!0):F(!1))}),[c]);var j=(0,r.useCallback)((function(){var e;(null===(e=P.current)||void 0===e?void 0:e.clientWidth)&&I(.8*P.current.clientWidth+8)}),[P]);(0,r.useEffect)((function(){j()}),[null===(i=P.current)||void 0===i?void 0:i.clientWidth,j]);var U=(0,r.useCallback)((function(e){O.current&&(void 0!==_&&_.toString().length>0||void 0!==s&&s.toString().length>0||O.current.value.length>0?F(!0):F(!1),k&&k(e))}),[_,s,k]);return r.createElement(p,{className:L,style:d},r.createElement("input",kD({type:w,readOnly:E,className:B,onBlur:U,onChange:function(e){C(e.target.value),null==m||m(e)},onFocus:j,value:s,defaultValue:c,id:l,ref:O},x)),v&&r.createElement("label",{className:M,style:b,htmlFor:l,ref:P},v),r.createElement("div",{className:"form-notch"},r.createElement("div",{className:"form-notch-leading"}),r.createElement("div",{className:"form-notch-middle",style:{width:S}}),r.createElement("div",{className:"form-notch-trailing"})),g)}));ND.defaultProps={wrapperTag:"div",readonly:!1};var FD=function(e){var t=e.className,n=e.inputRef,i=e.labelClass,a=e.wrapperClass,u=e.labelStyle,o=e.wrapperTag,s=e.wrapperStyle,c=e.label,l=e.inline,f=e.btn,h=e.id,d=e.btnColor,p=e.disableWrapper,v=e.toggleSwitch,m=ED(e,["className","inputRef","labelClass","wrapperClass","labelStyle","wrapperTag","wrapperStyle","label","inline","btn","id","btnColor","disableWrapper","toggleSwitch"]),g="form-check-input",y="form-check-label";f&&(g="btn-check",y=d?"btn btn-".concat(d):"btn btn-primary");var b=wD(c&&!f&&"form-check",l&&!f&&"form-check-inline",v&&"form-switch",a),w=wD(g,t),k=wD(y,i),E=r.createElement(r.Fragment,null,r.createElement("input",kD({className:w,id:h,ref:n},m)),c&&r.createElement("label",{className:k,style:u,htmlFor:h},c));return r.createElement(r.Fragment,null,p?E:r.createElement(o,{style:s,className:b},E))};FD.defaultProps={wrapperTag:"div"};var OD=function(e){var t=e.className,n=e.children,i=e.show,a=e.id,u=e.navbar,o=e.tag,s=e.collapseRef,c=e.style,l=ED(e,["className","children","show","id","navbar","tag","collapseRef","style"]),f=(0,r.useState)(!1),h=f[0],d=f[1],p=(0,r.useState)(void 0),v=p[0],m=p[1],g=(0,r.useState)(!1),y=g[0],b=g[1],w=wD(y?"collapsing":"collapse",!y&&h&&"show",u&&"navbar-collapse",t),k=(0,r.useRef)(null),E=null!=s?s:k,x=(0,r.useCallback)((function(){h&&m(void 0)}),[h]);return(0,r.useEffect)((function(){var e;void 0===v&&h&&m(null===(e=null==E?void 0:E.current)||void 0===e?void 0:e.scrollHeight)}),[v,h,E]),(0,r.useEffect)((function(){d(i),h&&b(!0);var e=setTimeout((function(){b(!1)}),350);return function(){clearTimeout(e)}}),[i,h]),(0,r.useEffect)((function(){var e;m(h?null===(e=null==E?void 0:E.current)||void 0===e?void 0:e.scrollHeight:0)}),[h,E]),(0,r.useEffect)((function(){return window.addEventListener("resize",x),function(){window.removeEventListener("resize",x)}}),[x]),r.createElement(o,kD({style:kD({height:v},c),id:a,className:w},l,{ref:E}),n)};OD.defaultProps={tag:"div"};(0,r.createContext)(null);function RD(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}RD(".dropdown-menu .active {\r\n  color: #16181b;\r\n  background-color: #eee;\r\n}\r\n");RD(".dropdown-menu [data-active='true'] a.dropdown-item,\r\n.dropdown-menu .dropdown-item:focus,\r\n.dropdown-menu li:focus .dropdown-item :not(.disabled) {\r\n  color: #16181b;\r\n  background-color: #eee;\r\n}\r\n\r\n.dropdown-menu li:focus {\r\n  outline: none;\r\n}\r\n\r\n.dropdown-menu.dropdown-menu-dark [data-active='true'] a.dropdown-item,\r\n.dropdown-menu.dropdown-menu-dark .dropdown-item:focus,\r\n.dropdown-menu.dropdown-menu-dark li:focus .dropdown-item {\r\n  color: #fff;\r\n  background-color: #1266f1;\r\n}\r\n\r\n.btn-group.dropstart > .dropdown-menu {\r\n  right: 0 !important;\r\n}\r\n");r.forwardRef((function(e,t){var n=e.className,i=e.centered,a=e.children,u=e.size,o=e.scrollable,s=e.tag,c=ED(e,["className","centered","children","size","scrollable","tag"]),l=wD("modal-dialog",o&&"modal-dialog-scrollable",i&&"modal-dialog-centered",u&&"modal-".concat(u),n);return r.createElement(s,kD({className:l},c,{ref:t}),a)})).defaultProps={tag:"div"},r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.tag,u=ED(e,["className","children","tag"]),o=wD("modal-content",n);return r.createElement(a,kD({className:o},u,{ref:t}),i)})).defaultProps={tag:"div"},r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.tag,u=ED(e,["className","children","tag"]),o=wD("modal-header",n);return r.createElement(a,kD({className:o},u,{ref:t}),i)})).defaultProps={tag:"div"},r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.tag,u=ED(e,["className","children","tag"]),o=wD("modal-title",n);return r.createElement(a,kD({className:o},u,{ref:t}),i)})).defaultProps={tag:"h5"},r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.tag,u=ED(e,["className","children","tag"]),o=wD("modal-body",n);return r.createElement(a,kD({className:o},u,{ref:t}),i)})).defaultProps={tag:"div"},r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.tag,u=ED(e,["className","children","tag"]),o=wD("modal-footer",n);return r.createElement(a,kD({className:o},u,{ref:t}),i)})).defaultProps={tag:"div"};r.createContext({activeElement:null,setTargets:null});var PD=function(e){var t=e.value,n=e.min,i=e.max,a=e.showThumb,u=Number(t),o=(0,r.useState)(100*(u||0-Number(n))/(Number(i)-Number(n))),s=o[0],c=o[1],l=wD("thumb",a&&"thumb-active");return(0,r.useEffect)((function(){c(100*(Number(t)-Number(n))/(Number(i)-Number(n)))}),[t,i,n]),r.createElement("span",{className:l,style:{left:"calc(".concat(s,"% + (").concat(8-.15*s,"px))")}},r.createElement("span",{className:"thumb-value"},t))};PD.defaultProps={min:"0",max:"100"};var LD=r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.noBorder,u=e.textBefore,o=e.textAfter,s=e.noWrap,c=e.tag,l=e.textTag,f=e.textClass,h=e.size,d=e.textProps,p=ED(e,["className","children","noBorder","textBefore","textAfter","noWrap","tag","textTag","textClass","size","textProps"]),v=wD("input-group",s&&"flex-nowrap",h&&"input-group-".concat(h),n),m=wD("input-group-text",a&&"border-0",f),g=function(e){return r.createElement(r.Fragment,null,e&&Array.isArray(e)?e.map((function(e,t){return r.createElement(l,kD({key:t,className:m},d),e)})):r.createElement(l,kD({className:m},d),e))};return r.createElement(c,kD({className:v,ref:t},p),u&&g(u),i,o&&g(o))}));LD.defaultProps={tag:"div",textTag:"span"},r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.isValidated,u=e.onReset,o=e.onSubmit,s=ED(e,["className","children","isValidated","onReset","onSubmit"]),c=(0,r.useState)(a),l=c[0],f=c[1],h=wD("needs-validation",l&&"was-validated",n);return r.createElement("form",kD({className:h,onSubmit:function(e){e.preventDefault(),f(!0),o&&o(e)},onReset:function(e){e.preventDefault(),f(!1),u&&u(e)},ref:t},s),i)})).defaultProps={noValidate:!0};r.forwardRef((function(e,t){var n=e.className,i=e.fill,a=e.pills,u=e.justify,o=e.children,s=ED(e,["className","fill","pills","justify","children"]),c=wD("nav",a?"nav-pills":"nav-tabs",i&&"nav-fill",u&&"nav-justified",n);return r.createElement("ul",kD({className:c,ref:t},s),o)})),r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.style,u=ED(e,["className","children","style"]),o=wD("nav-item",n);return r.createElement("li",kD({className:o,style:kD({cursor:"pointer"},a),role:"presentation",ref:t},u),i)})),r.forwardRef((function(e,t){var n=e.className,i=e.color,a=e.active,u=e.onShow,o=e.onHide,s=e.children,c=ED(e,["className","color","active","onShow","onHide","children"]),l=wD("nav-link",a&&"active",i&&"bg-".concat(i),n);return(0,r.useEffect)((function(){a?null==u||u():null==o||o()}),[a]),r.createElement("a",kD({className:l,ref:t},c),s)}));r.forwardRef((function(e,t){var n=e.className,i=e.tag,a=e.children,u=ED(e,["className","tag","children"]),o=wD("tab-content",n);return r.createElement(i,kD({className:o,ref:t},u),a)})).defaultProps={tag:"div"},r.forwardRef((function(e,t){var n=e.className,i=e.tag,a=e.show,u=e.children,o=ED(e,["className","tag","show","children"]),s=(0,r.useState)(!1),c=s[0],l=s[1],f=wD("tab-pane","fade",c&&"show",a&&"active",n);return(0,r.useEffect)((function(){var e;return a?e=setTimeout((function(){l(!0)}),100):l(!1),function(){clearTimeout(e)}}),[a]),r.createElement(i,kD({className:f,role:"tabpanel",ref:t},o),u)})).defaultProps={tag:"div"};var BD=(0,r.createContext)({active:0}),MD=function(e){var t=e.imagesCount,n=e.to,i=(0,r.useContext)(BD).active;return r.createElement("ol",{className:"carousel-indicators"},Array.from(Array(t)).map((function(e,t){return r.createElement("li",{"data-mdb-target":t,key:t,className:wD(i===t&&"active"),onClick:function(){return n(t)}})})))},jD=function(e){var t=e.move;return r.createElement(r.Fragment,null,r.createElement("a",{role:"button",className:"carousel-control-prev",onClick:function(){return t("prev")}},r.createElement("span",{className:"carousel-control-prev-icon"}),r.createElement("span",{className:"visually-hidden"},"Previous")),r.createElement("a",{role:"button",className:"carousel-control-next",onClick:function(){return t("next")}},r.createElement("span",{className:"carousel-control-next-icon"}),r.createElement("span",{className:"visually-hidden"},"Next")))},UD=function(e){"function"==typeof e&&e()};(function(e){var t=e.fade,n=e.className,i=e.dark,a=e.children,u=e.interval,o=e.keyboard,s=e.touch,c=e.showControls,l=e.showIndicators,f=e.onSlide,h=ED(e,["fade","className","dark","children","interval","keyboard","touch","showControls","showIndicators","onSlide"]),d=(0,r.useRef)([]),p=(0,r.useRef)(null),v=(0,r.useRef)(0),m=(0,r.useRef)(!1),g=(0,r.useState)(0),y=g[0],b=g[1],w=(0,r.useState)(0),k=w[0],E=w[1],x=(0,r.useState)({initialX:0,initialY:0}),A=x[0],_=x[1],C=(0,r.useState)(!1),T=C[0],S=C[1],I=(0,r.useRef)(null),D=wD("carousel","slide",t&&"carousel-fade",i&&"carousel-dark",n),N=function(){p.current&&(clearInterval(p.current),p.current=null)},F=(0,r.useCallback)((function(e,t){if(void 0!==t)v.current=t,b(t);else{var n=y===k-1?0:y+1,r=0===y?k-1:y-1;v.current="next"===e?n:r,b("next"===e?n:r)}}),[y,k]),O=(0,r.useCallback)((function(e,t,n){var r;S(!0);var i=d.current[y],a=Boolean(p.current),u="next"===e,o=u?"carousel-item-start":"carousel-item-end",s=u?"carousel-item-next":"carousel-item-prev";t.classList.contains("active")?m.current=!1:(F(e,n),i&&t&&(m.current=!0,a&&N(),(null===(r=I.current)||void 0===r?void 0:r.classList.contains("slide"))?(t.classList.add(s),t.offsetHeight,i.classList.add(o),t.classList.add(o),function(e,t,n){if(void 0===n&&(n=!0),n){var r=function(e){if(!e)return 0;var t=window.getComputedStyle(e),n=t.transitionDuration,r=t.transitionDelay,i=Number.parseFloat(n),a=Number.parseFloat(r);return i||a?(n=n.split(",")[0],r=r.split(",")[0],1e3*(Number.parseFloat(n)+Number.parseFloat(r))):0}(t);t.addEventListener("transitionend",(function(){return UD(e)}),{once:!0}),function(e,t){var n=!1,r=t+5;e.addEventListener("transitionend",(function t(){n=!0,e.removeEventListener("transitionend",t)})),setTimeout((function(){n||function(e){e.dispatchEvent(new Event("transitionend"))}(e)}),r)}(t,r)}else UD(e)}((function(){S(!1),t.classList.remove(o,s),t.classList.add("active"),i.classList.remove("active",s,o),m.current=!1}),i,!0)):(i.classList.remove("active"),t.classList.add("active"),m.current=!1)))}),[I,y,F]),R=function(e){m.current||(m.current=!0,setTimeout((function(){m.current=!1}),e))},P=(0,r.useCallback)((function(e){var t="prev"===e,n=(v.current+(t?-1:1))%k,r=d.current;return-1===n?r[k-1]:r[n]}),[k]),L=(0,r.useCallback)((function(e){if(!m.current){R(600);var t=P(e);O(e,t)}}),[P,O]),B=(0,r.useCallback)((function(){var e,t,n,r=document.visibilityState,i=document.hidden;if(r){if(i||(e=I.current,t=getComputedStyle(e),n=getComputedStyle(null==e?void 0:e.parentNode),"none"===t.display||"none"===n.display||"hidden"===t.visibility))return;return L("next")}L("next")}),[I,L]),M=(0,r.useCallback)((function(){p.current&&(clearInterval(p.current),p.current=null),p.current=setInterval(B,u)}),[B,u]),j=(0,r.useCallback)((function(e){switch(e.key){case"ArrowLeft":e.preventDefault(),L("prev");break;case"ArrowRight":e.preventDefault(),L("next")}}),[L]);return(0,r.useEffect)((function(){if(o)return window.addEventListener("keydown",j),function(){window.removeEventListener("keydown",j)}}),[j,o]),(0,r.useEffect)((function(){var e=function(e){return Array.from(null==e?void 0:e.querySelectorAll(".carousel-item"))}(I.current);d.current=e,E(e.length)}),[I]),(0,r.useEffect)((function(){null==f||f()}),[T,f]),(0,r.useEffect)((function(){M()}),[M]),r.createElement("div",kD({onTouchStart:function(e){s&&_({initialX:e.touches[0].clientX,initialY:e.touches[0].clientY})},onTouchMove:function(e){m.current=!0;var t=A.initialX,n=A.initialY;if(t&&n){var r=t-e.touches[0].clientX,i=n-e.touches[0].clientY;Math.abs(r)>Math.abs(i)&&L(r>0?"prev":"next"),_({initialX:0,initialY:0})}},onTouchEnd:function(){m.current=!1},onMouseEnter:N,onMouseLeave:M,className:D,ref:I},h),r.createElement("div",{className:"carousel-inner"},r.createElement(BD.Provider,{value:{active:y}},l&&r.createElement(MD,{to:function(e){if(!(m.current||(R(700),e>k-1||e<0))){var t=function(e){return{direction:e>v.current?"next":"prev",nextElement:d.current[e]}}(e),n=t.direction,r=t.nextElement;O(n,r,e)}},imagesCount:k}),a,c&&r.createElement(jD,{move:L}))))}).defaultProps={fade:!1,interval:5e3,touch:!0,keyboard:!1};var VD=r.createContext({activeItem:0,setActiveItem:null,alwaysOpen:!1,initialActive:0}),zD=r.forwardRef((function(e,t){var n=e.alwaysOpen,i=e.borderless,a=e.className,u=e.flush,o=e.initialActive,s=e.tag,c=e.children,l=e.onChange,f=ED(e,["alwaysOpen","borderless","className","flush","initialActive","tag","children","onChange"]),h=wD("accordion",u&&"accordion-flush",i&&"accordion-borderless",a),d=(0,r.useState)(o),p=d[0],v=d[1];return(0,r.useEffect)((function(){p&&l&&l(p)}),[l,p]),r.createElement(s,kD({className:h,ref:t},f),r.createElement(VD.Provider,{value:{activeItem:p,setActiveItem:v,alwaysOpen:n,initialActive:o}},c))}));zD.defaultProps={tag:"div",initialActive:0};var qD=r.forwardRef((function(e,t){var n=e.className,i=e.bodyClassName,a=e.bodyStyle,u=e.headerClassName,o=e.collapseId,s=e.headerTitle,c=e.headerStyle,l=e.btnClassName,f=e.tag,h=e.children,d=ED(e,["className","bodyClassName","bodyStyle","headerClassName","collapseId","headerTitle","headerStyle","btnClassName","tag","children"]),p=(0,r.useContext)(VD),v=p.activeItem,m=p.setActiveItem,g=p.alwaysOpen,y=p.initialActive,b=(0,r.useState)(y),w=b[0],k=b[1],E=wD("accordion-item",n),x=wD("accordion-header",u),A=wD("accordion-body",i),_=wD("accordion-button",g?o!==w&&"collapsed":o!==v&&"collapsed",l);return r.createElement(f,kD({className:E,ref:t},d),r.createElement("h2",{className:x,style:c},r.createElement("button",{onClick:function(){return e=o,void(g?k(e!==w?e:0):m(e!==v?e:0));var e},className:_,type:"button"},s)),r.createElement(OD,{id:o.toString(),show:g?w===o:v===o},r.createElement("div",{className:A,style:a},h)))}));qD.defaultProps={tag:"div"};var WD=function(){!function(){var e=x((0,r.useState)(null),2),t=e[0],n=e[1];(0,r.useEffect)((function(){dI.onAuthStateChanged((function(e){e&&n(e.uid)}))}),[])}();!function(){var e=x((0,r.useState)(null),2),t=e[0],n=e[1];(0,r.useEffect)((function(){dI.onAuthStateChanged((function(e){e?hI.collection("users").doc(e.uid).get().then((function(e){n(e.data().Name)})):n(null)}))}),[])}();return(0,vI.jsxs)("div",{children:[(0,vI.jsx)(mI,{}),(0,vI.jsx)(xD,{className:"mt-5",style:{maxWidth:"1000px"},children:(0,vI.jsxs)(zD,{alwaysOpen:!0,initialActive:1,children:[(0,vI.jsxs)(qD,{collapseId:1,headerTitle:"Are the shirts listed on the website authentic?",children:["Every shirt listed on the website is 100% authentic, for any more questions or authenticity checks please connect with us on instagram at ",(0,vI.jsx)("a",{href:"https://www.instagram.com/johnsfootballshirts/",children:"@johnsfootballshirts"}),"."]}),(0,vI.jsx)(qD,{collapseId:2,headerTitle:"Do you ship anywhere in the UAE?",children:"Yes we ship anywhere within the UAE for a flat 25 AED shipping fee. All orders over 200 AED avail free domestic shipping!"}),(0,vI.jsx)(qD,{collapseId:3,headerTitle:"How do I receive my order?",children:"All orders will be shipped out within two days of purchase and will be delivered within 2-3 business days."}),(0,vI.jsxs)(qD,{collapseId:4,headerTitle:"Do you buy football shirts?",children:["Of course! Send us details of football shirts you wish to sell on ",(0,vI.jsx)("a",{href:"https://www.instagram.com/johnsfootballshirts/",children:"@johnsfootballshirts"}),"."]}),(0,vI.jsxs)(qD,{collapseId:5,headerTitle:"How do I know if I won a giveaway?",children:["Winners of our Instagram giveaways will be contacted through the app if they have won. If you would like to enter future giveaways follow ",(0,vI.jsx)("a",{href:"https://www.instagram.com/johnsfootballshirts/",children:"@johnsfootballshirts"})," so that you don't miss out!"]}),(0,vI.jsxs)(qD,{collapseId:6,headerTitle:"Where do I find the best football shirt community in the UAE?",children:["Follow us on ",(0,vI.jsx)("a",{href:"https://www.instagram.com/johnsfootballshirts/",children:"@johnsfootballshirts"})," to be a part of our active and beautiful football shirt community where we share football news, shirt releases, our personal collection and much more!"]})]})})]})},HD=n(832),GD=n.n(HD);function KD(e){e.product;!function(){var e=x((0,r.useState)(null),2),t=e[0],n=e[1];(0,r.useEffect)((function(){dI.onAuthStateChanged((function(e){e&&n(e.uid)}))}),[])}();var t=function(){var e=x((0,r.useState)(null),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){dI.onAuthStateChanged((function(e){e?hI.collection("users").doc(e.uid).get().then((function(e){n(e.data().Name)})):n(null)}))}),[]),t}(),n=x((0,r.useState)(0),2),i=n[0],a=n[1];(0,r.useEffect)((function(){dI.onAuthStateChanged((function(e){e&&hI.collection("Cart "+e.uid).onSnapshot((function(e){var t=e.docs.length;a(t)}))}))}),[]);var u=Ee();console.log(u);var o=u.state.product;var s=x((0,r.useState)(""),2),c=s[0],l=s[1];(0,r.useEffect)((function(){hI.collection("Products").doc(o).get().then((function(e){if(e.exists){console.log("Document data:",e.data());var t=e.data();l(t)}else console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}))}),[]),(0,r.useEffect)((function(){console.log(c)}),[c]);xe();function f(){if(""==c.url2)return(0,vI.jsx)("img",{className:"prodimg",src:c.url,alt:"product-img"});var e=[{original:c.url,thumbnail:c.url},{original:c.url2,thumbnail:c.url2}];return(0,vI.jsx)(GD(),{items:e})}var h=x((0,r.useState)("BUY VIA DEPOP"),2),d=h[0];h[1];return(0,vI.jsxs)("div",{children:[(0,vI.jsx)(mI,{user:t,totalProducts:i}),(0,vI.jsxs)("div",{className:"productsbox",children:[(0,vI.jsx)("div",{className:"productPrev",children:(0,vI.jsx)(f,{})}),(0,vI.jsxs)("div",{className:"productData",children:[(0,vI.jsx)("h1",{className:"title",children:c.title}),(0,vI.jsx)("div",{className:"btn btn-danger prodbtn",onClick:function(){window.open(c.depopURL)},children:d}),(0,vI.jsxs)("h1",{className:"price",children:["AED",c.price]}),(0,vI.jsx)("p",{className:"desc",children:c.description})]})]})]})}var QD=function(){return(0,vI.jsx)("div",{children:(0,vI.jsxs)(Le,{children:[(0,vI.jsx)(Re,{exact:!0,path:"/",element:(0,vI.jsx)(wI,{})}),(0,vI.jsx)(Re,{path:"/signup",element:(0,vI.jsx)(EI,{})}),(0,vI.jsx)(Re,{path:"/login",element:(0,vI.jsx)(kI,{})}),(0,vI.jsx)(Re,{path:"/addproductsXJ455",element:(0,vI.jsx)(AI,{})}),(0,vI.jsx)(Re,{path:"/cart",element:(0,vI.jsx)(yD,{})}),(0,vI.jsx)(Re,{path:"/product",element:(0,vI.jsx)(KD,{})}),(0,vI.jsx)(Re,{path:"/FAQ",element:(0,vI.jsx)(WD,{})}),(0,vI.jsx)(Re,{component:xI})]})})},YD=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,u=t.getTTFB;n(e),r(e),i(e),a(e),u(e)}))};a.createRoot(document.getElementById("root")).render((0,vI.jsx)(Qe,{children:(0,vI.jsx)(QD,{})})),YD()}()}();
//# sourceMappingURL=main.f94a8313.js.map